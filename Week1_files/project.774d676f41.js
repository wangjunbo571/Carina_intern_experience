!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var a,r;a=[n(24),n(26),n(8),n(43),n(1),n(3),n(5),n(44),n(39),n(10),n(46),n(47),n(35),n(38),n(48),n(55),n(42),n(56),n(57),n(2),n(58),n(36),n(59),n(60),n(61),n(64),n(65),n(23),n(34),n(32),n(41)],void 0!==(r=function(e,t,n,a,r,o,i,s,l,c,u,d,m,p,g,f,h,y,v,b,S,j,E,L,w,x,C){"use strict";function k(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(){var e=Gi.default.features.versions?{name:zd.name,width:Zd.snapshot.width,height:Zd.snapshot.height,url:Zd.snapshot.url}:{name:zd.name,currentSnapshot:{width:Zd.snapshot.width,height:Zd.snapshot.height,url:Zd.snapshot.url}};Gi.default.ipcRenderer.send("open-popout",e,wi.id)}function q(e,t){if(Gi.default)Gi.default.shell.openExternal(e);else{var n=!0;t&&"inNewTab"in t&&(n=t.inNewTab);var a=window.location;if(n){var r=window.open("","_blank");r.opener=null,a=r.location}a.assign(e)}}function _(e){return["king","queen","rook","knight","pawn"].indexOf(e)>=0}function I(e){return"invited"===e.user.status?"Pending Invitation":Dm[e.role]||""}function A(e){return e=Wi.uppercaseFirst(e),"<img src='"+Zeplin.urls.appURL+"/img/ic"+e+".png' srcset='"+Zeplin.urls.appURL+"/img/ic"+e+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/ic"+e+"@3x.png 3x' alt=''>"}function O(e,t){return"Your organization role is "+I(e)+" "+A(e.role)+", only "+Dm.rook+"s or higher can "+t}function P(e,t){var n=O(e,t);return Wi.escapeHTML("<p>"+n+"</p><p><a href='"+Zeplin.urls.webURL+"/support.html#organization-roles' target='_blank'>Learn more</a> about roles or contact organization Admins to update your role!</p>")}function N(e){var t=document.importNode(Tm.content,!0),n=t.querySelector(".member");Wi.setAvatar(t.querySelector(".memberImage"),e.user),n.dataset.id=e.user._id,n.dataset.role=e.role,n.dataset.user=Zeplin.user._id===e.user._id?"own":"",n.dataset.status=e.user.status,t.querySelector(".memberName").textContent=e.user.username||e.user.email,t.querySelector(".memberName").title=e.user.username||e.user.email,t.querySelector(".memberRole").textContent=I(e),t.querySelector(".memberActionsButton").classList.toggle("hidden","owner"===e.role||Wi.permissions.isSuperior(e,xi)),Ys.appendChild(t)}function F(e){Vs.classList.toggle("lonely",1===e.length),Ii=new RegExp("@(?:everyone|all|tutti|"+e.filter(function(e){return e.user.username}).map(function(e){return e.user.username}).join("|")+")\\b","gi"),Ys.innerHTML="",e.forEach(N),ms.checkStatus()}function B(e){var t=e.match(/\/project\/([0-9a-z]+)(?:\/screen\/([0-9a-z]+))?/i);if(t){var n={pid:decodeURIComponent(t[1])};return t[2]&&(n.sid=decodeURIComponent(t[2])),n}}function M(e){e.forEach(function(e){e.versions=[e.latestVersion],delete e.latestVersion})}function R(){var e=B(location.pathname);e||se(),Bd=e,location.search&&Object.assign(Bd,Wi.parseUrlParams(location.search))}function U(){localStorage.setItem("slackState",qm)}function z(e){var t={scope:"incoming-webhook,emoji:read,links:read,links:write",client_id:"2330702581.8730394641",redirect_uri:Wi.urlResolve("huggingSlack",{query:{pid:e.id}}),state:qm},n=[];for(var a in t)n.push(a+"="+encodeURIComponent(t[a]));return"https://slack.com/oauth/authorize?"+n.join("&")}function Z(e){if(e&&e.length&&zd&&zd.dots){var t=e.some(function(e){return"open"===ge(e)});t&&"open"!==_a()?Ia("open",!0):t||"resolved"===_a()||Ia("resolved",!0);var n=_a();e.forEach(function(e){var t=document.querySelector(".dot[data-id='"+e+"']");t&&ge(e)===n&&t.classList.add("highlight")}),document.querySelector(".dot.highlight")||Zi.create({message:"Notes not available anymore."})}}function H(e){if(e&&e.length)if(Array.isArray(e)){var t,n=Hd.comments.length;if(e.forEach(function(e){var a=Bc.querySelector(".comment[data-id='"+e+"']");a&&a.classList.add("highlight");var r=Array.from(a.parentElement.children).indexOf(a);r<n&&(n=r,t=a)}),t){var a=Pc.getBoundingClientRect().top,r=t.getBoundingClientRect().top-a;setTimeout(function(){"scrollBy"in Element.prototype?Bc.scrollBy({top:r-24,behavior:"smooth"}):Bc.scrollTop+=r-24},200)}else Zi.create({message:"Comments not available anymore."})}else{var o="string"==typeof e?Bc.querySelector(".comment[data-id='"+e+"']"):e;if(!o)return void Zi.create({message:"Comment not available anymore."});o.classList.add("new"),o.scrollIntoView(),setTimeout(function(){o.classList.add("highlight"),setTimeout(function(){o.classList.remove("highlight"),o.addEventListener("transitionend",function e(){o.removeEventListener("transitionend",e),o.classList.remove("new")})},1e3)},150)}}function W(e){if(e&&Rd){V();var t,n=wi.screens.length;if(e.forEach(function(e){var a=je(e);if(a){a.querySelector(".screenLink").classList.add("highlight");var r=parseInt(a.dataset.index,10);r<n&&(n=r,t=a)}}),Array.from(new Set(e)).map(function(e){return wi.findScreenSection(e)}).filter(function(e){return!!e}).forEach(function(e){on(Sn(e._id),!1)}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?ys.scrollBy({top:a-150,behavior:"smooth"}):ys.scrollTop+=a-150},200)}else Zi.create({message:"Screens not available anymore."})}}function V(){Array.from(Od.querySelectorAll(".screenLink.highlight")).forEach(function(e){e.classList.remove("highlight")})}function Y(e){e&&(Array.isArray(e)||(e=[e]),K(),e.forEach(function(e){var t=$s.querySelector(".color[data-id='"+e+"']");t&&t.classList.add("highlight")}))}function K(){Array.from($s.querySelectorAll(".color.highlight")).forEach(function(e){e.classList.remove("highlight")})}function X(e){if(e){Array.isArray(e)||(e=[e]),G();var t,n=wi.textStyles.length;if(e.forEach(function(e){var a=iu.querySelector(".font[data-id='"+e+"']");if(a){a.classList.add("highlight");var r=parseInt(a.dataset.index,10);r<n&&(n=r,t=a)}}),t){var a=t.getBoundingClientRect().top;setTimeout(function(){"scrollBy"in Element.prototype?_m.scrollBy({top:a-150,behavior:"smooth"}):_m.scrollTop+=a-150},200)}}}function G(){Array.from(iu.querySelectorAll(".font.highlight")).forEach(function(e){e.classList.remove("highlight")})}function J(e,t){Wi.permissions.canManageColors(xi)?(e.dataset.tooltip=t?"Delete color from Styleguide.":"Add color to Styleguide.",e.dataset.tooltipType="text"):"pawn"===xi.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=P(xi,(t?"delete":"add")+" colors."),e.dataset.tooltipType="html")}function $(e,t){Wi.permissions.canManageTextStyles(xi)?(e.dataset.tooltip=t?"Delete text style from Styleguide.":"Add text style to Styleguide.",e.dataset.tooltipType="text"):"pawn"===xi.role?(e.dataset.tooltip="Only organization members can "+(t?"delete":"add")+" text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=P(xi,(t?"delete":"add")+" text styles."),e.dataset.tooltipType="html")}function Q(){var e=Wi.permissions.canUpdateProject(xi);Es.readOnly=!e,e?(Es.removeAttribute("data-tooltip"),Es.removeAttribute("data-tooltip-type")):(Es.dataset.tooltip=P(xi,"rename projects."),Es.dataset.tooltipType="html"),hu.disabled=!e,Array.from(xd.querySelectorAll(".slackSettingsButton")).forEach(function(t){t.classList.toggle("hidden",!e)}),Cs.classList.toggle("disabled",!e),e?(Cs.dataset.tooltip="Update project density.",Cs.dataset.tooltipType="text"):(Cs.dataset.tooltip=P(xi,"update project density."),Cs.dataset.tooltipType="html"),Xs.readOnly=!e,Js.readOnly=!e;var t=Wi.permissions.canManageScreens(xi);tl.readOnly=!t,tl.placeholder=t?"Enter a short description here":"No description yet",Array.from(Od.querySelectorAll(".screen .screenName")).forEach(function(e){e.readOnly=!t}),Array.from(Od.querySelectorAll(".section .sectionName")).forEach(function(e){e.readOnly=!t}),Array.from(Od.querySelectorAll(".section .sectionDescription")).forEach(function(e){e.readOnly=!t}),document.body.classList.toggle("canManageScreens",t),Ss.querySelector(".capableInfoLine").classList.toggle("hidden",!t);var n=Ss.querySelector(".unableInfoLine");n.querySelector("span").textContent=Dm.rook,n.classList.toggle("hidden",t);var a=document.getElementById("manageTagsButton");a&&(a.classList.toggle("disabled",!t),t?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=P(xi,"organize screens using tags."),a.dataset.tooltipType="html"));var r=Wi.permissions.canManageColors(xi);Array.from($s.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!r,e.querySelector(".colorHex").readOnly=!r,e.querySelector(".colorAlpha").readOnly=!r,r?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===xi.role?(e.dataset.tooltip="Only organization members can edit colors.",e.dataset.tooltipType="text"):(e.dataset.tooltip=P(xi,"edit colors."),e.dataset.tooltipType="html")}),Array.from(Qs.querySelectorAll(".color")).forEach(function(e){e.querySelector(".colorName").readOnly=!r;var t=e.querySelector(".addColor");t.classList.toggle("disabled",!r),J(t,e.classList.contains("added"))});var o=Wi.permissions.canManageTextStyles(xi);iu.classList.toggle("editable",o),Array.from(iu.querySelectorAll(".styleName")).forEach(function(e){e.readOnly=!o,o?(e.removeAttribute("data-tooltip"),e.removeAttribute("data-tooltip-type")):"pawn"===xi.role?(e.dataset.tooltip="Only organization members can edit text styles.",e.dataset.tooltipType="text"):(e.dataset.tooltip=P(xi,"edit text styles."),e.dataset.tooltipType="html")}),Array.from(Qs.querySelectorAll(".textStyleWrapper")).forEach(function(e){e.querySelector(".textStyleName").readOnly=!o;var t=e.querySelector(".addTextStyle");t.classList.toggle("disabled",!o),$(t,e.classList.contains("added"))}),Pc.classList.toggle("canRemoveNotes",Wi.permissions.canRemoveNotes(xi))}function ee(e){F(e.users),M(e.screens),ai(e),Gi.default&&ti(e),zd=null,Hd=null,Wd=null,Yd=null,Di=null,Ti=null,$d=null,Qd=null,vm&&Gi.default.ipcRenderer.send("popout:menuitem:enabled",!1),document.body.dataset.projectType=e.type,ji||Ea("layer"),ui(),Vi.projectPrefs.get(Bd.pid,"styleColorFormat").then(function(e){hc.querySelector("span").textContent=Cm[e],document.querySelector("#colorFormat span").textContent=Cm[e],document.querySelector("input[name='colorFormat'][value='"+e+"']").checked=!0,document.querySelector("input[name='styleguideColorFormat'][value='"+e+"']").checked=!0}),Vi.projectPrefs.get(Bd.pid,"showDimensions").then(function(e){Gl.checked=e,mc.checked=e}),Vi.projectPrefs.get(Bd.pid,"showDefaultValues").then(function(e){Ql.checked=e,ec.checked=e}),"android"!==e.type&&Vi.projectPrefs.get(Bd.pid,"assetNamingConvention").then(function(e){Dd.querySelector("span").textContent=km[e],Td.querySelector("span").textContent=km[e],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e+"']").checked=!0,document.querySelector("input[name='assetNamingConvention'][value='"+e+"']").checked=!0}),"web"===e.type?(Vi.projectPrefs.get(Bd.pid,"webStyleExportType").then(function(e){Xl.textContent=jm[e],dc.textContent=jm[e],sc.querySelector("span").textContent=jm[e],fc.querySelector("span").textContent=jm[e],document.querySelector("input[name='webStyleExportType'][value='"+e+"']").checked=!0,document.querySelector("input[name='styleguideWebStyleExportType'][value='"+e+"']").checked=!0}),Vi.projectPrefs.get(Bd.pid,"webUnitlessLineHeight").then(function(e){Jl.checked=e,pc.checked=e}),Vi.projectPrefs.get(Bd.pid,"webMixin").then(function(e){$l.checked=e,gc.checked=e}),document.querySelector(".assetStyle .CodeMirror")||Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){Ea("asset",e)}),Ei||Ea("textLayer")):(document.querySelector(".assetStyle .CodeMirror")&&(Lc=[],Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.remove()})),"android"===e.type?(Vi.projectPrefs.get(Bd.pid,"androidStyleExportType").then(function(e){document.body.dataset.styleType=e,Xl.textContent=jm[e],dc.textContent=jm[e],ui(e),document.querySelector(".androidStyleOptions input[name='androidStyleExportType'][value='"+e+"']").checked=!0}),Vi.projectPrefs.get(Bd.pid,"androidLineSpacingType").then(function(e){Array.from(document.querySelectorAll(".lineSpacingType")).forEach(function(t){t.querySelector("span").textContent=e}),Array.from(document.querySelectorAll(".androidLineSpacingTypes input[name='lineSpacingType'][value='"+e+"']")).forEach(function(e){e.checked=!0})})):(Vi.projectPrefs.get(Bd.pid,"attributedStringShowDefaultAttributes").then(function(e){yc.checked=e}),"ios"===e.type?(Vi.projectPrefs.get(Bd.pid,"iosStyleExportType").then(function(e){document.body.dataset.styleType=e,Xl.textContent=jm[e],dc.textContent=jm[e],document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e?"Category":"Extension")+" name:",document.querySelector(".iosStyleOptions input[name='iosStyleExportType'][value='"+e+"']").checked=!0,document.querySelector(".iosStyleOptions input[name='styleguideIosStyleExportType'][value='"+e+"']").checked=!0}),Vi.projectPrefs.get(Bd.pid,"iosDeploymentTarget").then(function(e){document.querySelector(".iosDeploymentTargets input[name='iosDeploymentTarget'][value='"+e+"']").checked=!0,vc.querySelector("span").textContent=e,document.querySelector(".styleguideIosDeploymentTargets input[name='styleguideIosDeploymentTarget'][value='"+e+"']").checked=!0,Sc.querySelector("span").textContent=e})):"osx"===e.type&&(Vi.projectPrefs.get(Bd.pid,"osxStyleExportType").then(function(e){document.body.dataset.styleType=e,Xl.textContent=jm[e],dc.textContent=jm[e],document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e?"Category":"Extension")+" name:",document.querySelector(".osxStyleOptions input[name='osxStyleExportType'][value='"+e+"']").checked=!0,document.querySelector(".osxStyleOptions input[name='styleguideOsxStyleExportType'][value='"+e+"']").checked=!0}),Vi.projectPrefs.get(Bd.pid,"osxDeploymentTarget").then(function(e){document.querySelector(".osxDeploymentTargets input[name='osxDeploymentTarget'][value='"+e+"']").checked=!0,bc.querySelector("span").textContent=e,document.querySelector(".styleguideOsxDeploymentTargets input[name='styleguideOsxDeploymentTarget'][value='"+e+"']").checked=!0,jc.querySelector("span").textContent=e})))),Rd=!0,Us.textContent=e.name,Us.title=e.name,Es.value=e.name,ws.textContent=Ui.projectTypes[e.type];var t={ios:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',osx:'IOS developers usually prefer color names defined in "camel case", which looks like: brightRed',web:"Web developers usually use underscores or dashes while defining colors, which looks like: bright-red or bright_red",android:"Android developers define their color names using underscore, which look like: bright_red"};if(fu.querySelector(".projectNaming").textContent=t[e.type],Fi=z(e),hu.addEventListener("click",function(){U(),q(Fi,{inNewTab:!1})}),e.integration&&e.integration.slacks&&e.integration.slacks.length&&no(e.integration.slacks),ne(e.density),Je(),bs.classList.remove("loading"),qn(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ve(),$s.innerHTML="",e.colors&&e.colors.length&&e.colors.forEach($e),re(e.prefix),e.textStyles&&e.textStyles.length&&Ge(),Li||Ea("guideline"),qa(),Vi.projectPrefs.get(Bd.pid,"projectInfoWidth").then(function(e){No(e,Fu),Tn()}),Vi.projectPrefs.get(Bd.pid,"generatorContainerWidth").then(function(e){No(e,cc),setTimeout(function(){Li.refresh()},100)}),Vi.projectPrefs.get(Bd.pid,"rightSidebarWrapperWidth").then(function(e){No(e,Mu)}),Vi.projectPrefs.get(Bd.pid,"versionsSidebarWrapperWidth").then(function(e){No(e,Bu),Bu.classList.add("collapsed")}),Gi.default&&Gi.default.features&&Gi.default.features.downloadAssets&&us.queryAssetDownloadTarget(wi.id,wi.type),Q(),Ci)"pawn"!==xi.role&&"past_due"===Ci.subscriptionStatus&&Ui.showFailedPaymentBanner({oid:Ci._id,currentRole:xi.role});else{var n={currentRole:xi.role},a=wi.findOwner();"past_due"===a.user.subscriptionStatus&&(n.ownerEmail=a.user.email,Ui.showFailedPaymentBanner(n))}}function te(){var e;switch(wi.type){case"android":e="android";break;case"ios":case"osx":e="iosx";break;case"web":default:e="web"}return e+"Density"}function ne(e){wi.density=e,xs.textContent=e;var t=document.querySelector("input[name='"+te()+"'][value='"+e+"']");t&&(t.checked=!0,t.dispatchEvent(new Event("change")))}function ae(e){if(Wi.permissions.canUpdateProject(xi)){var t=wi.density;xs.textContent=e,fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/density",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({density:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){_r(e)}).catch(function(e){xs.textContent=t,Yi.handleError(e)})}}function re(e,t){wi.prefix=e||"","ios"===wi.type?(Vi.projectPrefs.get(Bd.pid,"iosCategoryName").then(function(t){t?(Ks.value=t,om.iosCategoryName=t):(Ks.value=e?e.toUpperCase()+"Additions":"",Vi.projectPrefs.set(Bd.pid,"iosCategoryName",e.toUpperCase()+"Additions"),om.iosCategoryName=e?e.toUpperCase()+"Additions":""),Xs.value=e||"",om.iosCategoryPrefix=e||""}),t&&qa()):"osx"===wi.type&&Vi.projectPrefs.get(Bd.pid,"osxCategoryName").then(function(n){n?(Gs.value=n,om.iosCategoryName=n):(Gs.value=e.toUpperCase()+"Additions",om.osxCategoryName=e?e.toUpperCase()+"Additions":"",Vi.projectPrefs.set(Bd.pid,"osxCategoryName",e.toUpperCase()+"Additions")),Js.value=e||"",om.osxCategoryPrefix=e||"",t&&qa()})}function oe(){var e=xn(),t=Ht(),n=(e||"No")+" screen"+(1===e?"":"s");if(pd.classList.remove("showHint"),t.length)if(n+=" with ",1===t.length)n+=t,pd.classList.add("showHint");else{var a=t.pop();n+=t.join(", ")+", and "+a}else Wt()&&(n=(e||"No")+" untagged screen"+(1===e?"":"s")+" ");vs.textContent=n,vs.title=n}function ie(){var e="";"dashboard"===Vd?e="Dashboard - ":"styleguide"===Vd?e="Styleguide - ":zd&&(e=zd.name+" - "),As.textContent=e+(wi?wi.name+" - ":"")+"Zeplin"}function se(){Ci?location.replace(Wi.urlResolve("organization-projects",{url:{oid:Ci._id}})):location.replace(Wi.urlResolve("projects"))}function le(e,t){(t=t||{}).shouldReplace?bm.history.replace(e,t.state):bm.history.push(e,t.state)}function ce(e,t){t=t||{},le(Wi.urlResolve("project-dashboard",{url:{pid:e},query:t}))}function ue(e){le(Wi.urlResolve("project-styleguide",{url:{pid:e}}))}function de(e,t){le(Wi.urlResolve("project-screen",{url:{pid:e,sid:t}}))}function me(){Wn(),Vd="dashboard",Ud=-2,zd=null,Bs.href=Ci?Wi.urlResolve("organization-projects",{url:{oid:Ci._id}}):Wi.urlResolve("projects"),Bs.querySelector("span").textContent="Projects",Ns.dataset.selection="dashboard",Os.checked=!0,K(),G(),To(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(Ve(),window.addEventListener("resize",Ye)),window.addEventListener("resize",Tn),vm&&Gi.default.ipcRenderer.send("popout:menuitem:enabled",!1)}function pe(){Wn(),Vd="styleguide",Ud=-1,zd=null,Bs.href=Ci?Wi.urlResolve("organization-projects",{url:{oid:Ci._id}}):Wi.urlResolve("projects"),Bs.querySelector("span").textContent="Projects",Ns.dataset.selection="styleguide",Ps.checked=!0,V(),CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(zm),window.removeEventListener("resize",Ye)),window.removeEventListener("resize",Tn),Li&&Li.refresh(),vm&&Gi.default.ipcRenderer.send("popout:menuitem:enabled",!1)}function ge(e){if(e){var t=zd.dots.find(function(t){return t._id===e});if(t)return t.status}}function fe(e){var t=ns.default.mark();return fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return ns.default.measure("api.getOrganizationMembers",{start:t,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})})}function he(e){var t=ns.default.mark();return fetch(Zeplin.urls.baseURL+"/projects/"+e+"/organization",{method:"GET",headers:Zeplin.headers}).then(function(e){if(ns.default.measure("api.getProjectOrganization",{start:t,minTime:50,labels:{status:e.status}}),e.ok)return e.json()}).then(function(e){if(Ci=e)return Ci.transitionFinished=-1===e.transitionLeft,"screen"!==Vd&&(Bs.href=Wi.urlResolve("organization-projects",{url:{oid:Ci._id}})),"pawn"!==xi.role||Ci.transitionFinished||Mt(Math.ceil(e.transitionLeft/1e3/60/60/24)),"pawn"!==xi.role?fe(e._id).then(function(e){Object.assign(Ci,e)}):void 0}).catch(function(){})}function ye(e){tm||gs.classList.remove("hidden");var t=ns.default.mark();return fetch(Zeplin.urls.baseURL+"/projects/"+e,{headers:Zeplin.headers}).then(function(n){ns.default.measure("api.getProject",{start:t,minTime:50,labels:{status:n.status}});{if(206!==n.status)return n.json().then(function(e){if(n.ok)return ve(e);throw Yi.createError(n.status,e)});location.assign(Wi.urlResolve("preview",{url:{pid:e}}))}}).catch(function(e){tm?location.reload():Yi.handleError(e,{clientErrorHandler:function(){Zi.create({title:e.title,message:e.message},{defer:!0}),se()}})}).then(function(){gs.classList.add("hidden")},function(){gs.classList.add("hidden")})}function ve(e){wi=new $i.default(e),xi=wi.findUser(Zeplin.user._id),document.body.classList.toggle("organizationProject",_(xi.role));var t;return t=_(xi.role)?he(wi.id):Promise.resolve(),Promise.all([t,Ui.getPlans()]).then(function(e){ee(wi);var t;t=_(xi.role)?Ci.paymentPlan:wi.findOwner().user.paymentPlan;var n=e[1].find(function(e){return e._id===t});wi.allowedVersionCount=n.allowedVersionCount,Ki.init([wi.id],Ci&&"pawn"!==xi.role&&Ci._id),Fu.addEventListener("usersInvited",be),Qa(wi),wi.public&&tr(wi),tm=!1})}function be(e){e.detail.users.forEach(function(e){wi.addUser(e)}),F(wi.users)}function Se(e){return Od.querySelector(".screen[data-view-index='"+e+"']")}function je(e){return Od.querySelector(".screen[data-id='"+e+"']")}function Ee(e,t){var n=(t=t||{}).padding||0,a=t.unit||0;return e*Jd+n+a}function Le(e,t,n){return void 0===e||void 0===t?"":Wi.round(e,1)+"×"+Wi.round(t,1)+n}function we(e,t){if(void 0===e||null===e)return"";if("%"===t)return Wi.round(100*e,1)+"%";var n="text"===t?wi.textDimensionSuffix:wi.dimensionSuffix;return Wi.round(e/wi.densityDivisor,1)+n}function xe(e,t){return 100*e/t+"%"}function Ce(){Ns.classList.add("fetching"),hl.classList.add("loading"),hl.classList.remove("empty","restricted"),vl.classList.add("loading"),vl.classList.remove("empty","restricted"),mm.start()}function ke(){mm.stop(),Ns.classList.remove("online"),Ns.classList.contains("fetching")?(Ns.classList.remove("fetching"),setTimeout(function(){setTimeout(function(){Ns.className="",zs.textContent="Loading layers…"},1e3)},500),hl.classList.remove("loading")):Ns.className=""}function De(e,t,n){if(!navigator.onLine)return Ns.className="offline",Promise.resolve();if(!e||!t)return Promise.resolve();var a=ns.default.mark();return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/versions/"+t._id+"/snapshot",{headers:Zeplin.headers}).then(function(e){return ns.default.measure("api.getSnapshot",{start:a,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(n){return n.layers.unshift(At(e.name,n)),Object.assign(t.snapshot,n)}).catch(function(e){return Yi.handleError(e),t.snapshot})}function Te(e){e instanceof Date||(e=new Date(e));var t=new Date;if(t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()){if(t.getDate()===e.getDate())return"today";if(t.getDate()-e.getDate()==1)return"yesterday"}return Am.format(e)}function qe(e,t,n){if("pawn"===xi.role)return Promise.reject(Yi.createError(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));var a={color:n};return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/color",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){return mixpanel.track("Updated version color"),Object.assign(t.commit,a)})}function _e(e,t,n){if(!Wi.permissions.canManageScreens(xi))return Promise.reject(Yi.createError(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}));if(t.creator!==xi.user._id)return Promise.reject(Yi.createError(403,{title:"You can’t edit this commit",message:"You can only edit your own commits."}));var a={message:n};return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/versions/"+t._id+"/commit/message",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){return mixpanel.track("Updated version commit message"),Object.assign(t.commit,a)})}function Ie(e,t,n){var a=Nm.querySelector(".version.editing");if(a&&Pm.get(a).cancelEditing(),Tc.classList.contains("versionsShown")){var r=document.querySelector(".version.selected");r&&r.classList.remove("selected");var o=document.querySelector(".version[data-id='"+t._id+"']");o&&o.classList.add("selected"),o&&n&&n.scrollIfNecessary&&Wi.scrollIfNecessary(o)}Ut(e,Zd=t,"initial"),document.querySelector(".oldVersionWarning time").textContent=Te(t.created),Tc.classList.toggle("oldVersion",e.versions[0]._id!==Zd._id)}function Ae(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&Im&&(e.target.closest(".openInFolder")?Gi.default.ipcRenderer.send("show-item-in-folder",Im):e.target.closest(".openInPhotoshop")&&Gi.default.ipcRenderer.send("open-item",Im))}function Oe(e){Gi.default&&Gi.default.features&&Gi.default.features.openInPhotoshop&&(wd.removeEventListener("click",Ae),jd.classList.add("hidden"),Gi.default.ipcRenderer.removeAllListeners(e+":sourceFile"),Gi.default.ipcRenderer.once(e+":sourceFile",function(e,t){Im=t.file,Ed.title=t.name,Ed.textContent=t.name,Ld.title=t.dir,Ld.textContent=t.pathParts.join("▸"),Vi.userPrefs.get("hideSourceFileInfo").then(function(e){if(!e){var t=Hi.create({content:"This is only visible to you, to quickly jump to your design file.",hideCallback:function(){Vi.userPrefs.set("hideSourceFileInfo",!0)}});jd.appendChild(t)}}),wd.addEventListener("click",Ae),jd.classList.remove("hidden")}),Gi.default.ipcRenderer.send("query-source-file",e))}function Pe(e,t){return Wi.permissions.canManageScreens(xi)?fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/versions/"+t._id,{method:"DELETE",headers:Zeplin.headers}).then(function(){return mixpanel.track("Deleted version"),wi.removeVersion(e._id,t._id)}):Promise.reject(Yi.createError(403,{title:"You’re not allowed to do this",message:"Please contact the organization admins."}))}function Ne(e,t,n,a){t.commit=t.commit||{},t.commit.message=t.commit.message||"",t.commit.color=t.commit.color||Lm.yellow;var r=new Date(e.created),o=new Date(t.created),i=r.getDate()!==o.getDate()||r.getMonth()!==o.getMonth()||r.getFullYear()!==o.getFullYear();i&&Nm.appendChild(Fe(o));var s=document.importNode(Fm.content,!0),l=s.querySelector(".version"),c=l.querySelector(".versionNodeDot"),u=l.querySelector(".commitMessage"),d=new Ji.default(u,Ha);Pm.set(l,d),l.dataset.id=t._id;var m=Em[new Qi.default(t.commit.color).hexBase()];if(l.classList.add(m),u.classList.add(m),i||e.creator!==t.creator){var p=Ue(t.creator,!0);Wi.setAvatar(l.querySelector(".versionAuthorImage"),p&&p.user),l.querySelector(".versionAuthorName").textContent=p?p.user.username:"Anonymous"}else l.classList.add("sameCreator");l.classList.toggle("canDelete",Wi.permissions.canManageScreens(xi)),l.classList.toggle("versionOwner",t.creator===xi.user._id);var g;return g=t.creator!==Zeplin.user._id?"No commit message yet.":1===a.length?"Got any notes?":"What has changed in this version?",d.placeholder=g,t.commit.message?d.value=t.commit.message:l.classList.add("empty"),l.querySelector(".versionMetadata time").textContent=Om.format(o),c.addEventListener("mouseenter",function(){if(!Bu.classList.contains("collapsed")&&"pawn"!==xi.role){var e=document.importNode(Bm.content,!0),n=e.querySelector(".nodeColorChooser");n.classList.add(m),n.addEventListener("mouseleave",function(){n.addEventListener("transitionend",function(e){n.remove()})}),n.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("nodeColor")&&m!==e.target.dataset.color){var a=Lm[e.target.dataset.color];wt(n),n.classList.add(a.name),wt(l),l.classList.add(a.name),wt(u),u.classList.add(a.name),qe(zd,t,a).then(function(e){m=e.color.name}).catch(function(e){var t=Lm[m];wt(n),n.classList.add(t.name),wt(l),l.classList.add(t.name),wt(u),u.classList.add(t.name),Yi.handleError(e)})}}),c.appendChild(e)}}),l.addEventListener("click",function(){l.classList.contains("selected")||Ie(zd,t)}),u.addEventListener("autocomplete",function(){var e=ds.manageSuggestedEmojis(u.querySelector("textarea"),u.querySelector(".mirror"));e&&(e.style.top=u.getBoundingClientRect().top+u.offsetHeight-90+"px",l.appendChild(e),ds.open())}),u.addEventListener("submit",function(){var e=d.value,n=ds.replace(/:(\w+):/g,d.value.trim());d.value=n,l.classList.remove("editing"),t.commit.message!==n&&_e(zd,t,n).then(function(e){l.classList.toggle("empty",!n)}).catch(function(t){d.value=e,Yi.handleError(t,{clientErrorDialogCallback:function(){d.cancelEditing()},serverErrorDialogCallback:function(){d.startEditing()}})})}),u.addEventListener("cancel",function(){l.classList.remove("editing")}),Array.from(l.querySelectorAll(".commitMessageEditButton, .enterCommitMessageButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Ie(zd,t),l.classList.add("editing"),d.startEditing()})}),l.querySelector(".commitDeleteButton").addEventListener("click",function(e){e.stopPropagation(),1===zd.totalVersionCount?Zi.create({title:'Delete  "'+zd.name+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){Qr(zd._id),ce(wi.id,In())}},cancel:{name:"CANCEL"}}):Zi.create({title:"Delete version?",message:"Deleted versions cannot be restored.",done:{name:"DELETE",cb:function(){var e=zd.versions[0]._id;Pe(zd,t).then(function(){return zd.versions.length<wi.allowedVersionCount&&zd.totalVersionCount>=wi.allowedVersionCount?Be(zd):zd}).then(function(){e===t._id&&Wi.resizeImage(je(zd._id).querySelector(".screenImage"),zd.versions[0].snapshot.url,{crop:!0}),Zd._id===t._id&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Zd=zd.versions[0],Ut(zd,Zd,"initial")),Tt(zd)}).catch(Yi.handleError)}},cancel:{name:"CANCEL"}})}),Nm.appendChild(s),t}function Fe(e){var t=document.importNode(Mm.content,!0);return t.querySelector(".versionHeaderText").textContent=Te(e),t}function Be(e){return Bu.classList.add("loading"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/versions",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(t){return Object.assign(e,t)}).catch(function(t){return e})}function Me(e){return 0===e.replace(Wi.emojiRegex,"").trim().length&&e.replace(Rm,"").match(Wi.emojiRegex).length<=5}function Re(e,t,n){var a,r=t.slice(0,t.length-n);return a=n===t.length?e.comments.length-2>1?e.comments.length-2+" more replies":"1 more reply":n>0?(a=(a=r.join(", "))?a+" and ":a)+n+" more also replied":(a=(a=r.slice(0,r.length-1).join(", "))?a+" and ":a)+r[r.length-1]+" also replied"}function Ue(e,t){var n=wi.findUser(e);return!n&&t&&Ci&&Ci.members?Ci.members.find(function(t){return t.user._id===e}):n}function ze(e){var t=document.importNode($u.content,!0),n=t.querySelector(".dotListing");n.dataset.did=e._id,n.classList.add(Em[new Qi.default(e.color).hexBase()]),n.classList.toggle("hasOtherReplies",e.comments&&e.comments.length>2),n.classList.toggle("hasLastReply",e.comments&&e.comments.length>1);var a=Ue(e.creator,!0),r=e.comments[e.comments.length-1],o=Ue(r.author,!0);Wi.setAvatar(t.querySelector(".avatarOfAuthor"),a&&a.user),t.querySelector(".author").textContent=a?a.user.username:"Anonymous",t.querySelector("time").setAttribute("datetime",Ze(e,0)),t.querySelector(".dotNumber").textContent=e.name;var i=t.querySelector(".commentContent");i.innerHTML=Wa(e.comments[0].note),i.classList.toggle("jumboEmojis",Me(e.comments[0].note));var s,l;if(e.comments.length>2){var c=new Set(e.comments.slice(1,e.comments.length-1).reduce(function(e,t){return a&&t.author===a.user._id||o&&t.author===o.user._id?e:e.concat(t.author)},[]));s=[],c.forEach(function(e){s.push(Ue(e,!0))}),s.length?(s.forEach(function(e,n){var a=document.importNode(nd.content,!0);a.querySelector(".avatarFrame").style.left=8*n+"px",Wi.setAvatar(a.querySelector(".avatarOfOtherReply"),e&&e.user),t.querySelector(".avatarsOfOtherReplies").appendChild(a)}),l=8*((s=s.map(function(e){return e?e.user.username:"Anonymous"})).length-1)+16):(l=0,t.querySelector(".avatarsOfOtherReplies").classList.add("hidden")),t.querySelector(".avatarsOfOtherReplies").style.width=l+"px"}if(e.comments.length>1){var u=t.querySelector(".comment:last-child");n.dataset.cmid=r._id,Wi.setAvatar(u.querySelector(".avatarOfAuthor"),o&&o.user),u.querySelector(".author").textContent=o?o.user.username:"Anonymous",u.querySelector("time").setAttribute("datetime",Ze(e));var d=u.querySelector(".commentContent");d.innerHTML=Wa(r.note),d.classList.toggle("jumboEmojis",Me(r.note))}Qu.appendChild(t);var m=Qu.lastElementChild.querySelector(".otherRepliesAuthors");if(s&&s.length){var p=s.length;if((s=s.filter(function(e){return"Anonymous"!==e})).length){var g=p-s.length;if(g)for(var f=0;f<g;f++)s.push("Anonymous");var h=document.createElement("canvas").getContext("2d");h.font="italic 12px roboto";for(var y=Qs.offsetWidth-30-l,v=Re(e,s,g);h.measureText(v).width>y&&g<=s.length;)v=Re(e,s,++g);m.textContent=v}else e.comments.length-2>1?m.textContent=e.comments.length-2+" more replies":m.textContent="1 more reply"}else s&&!s.length&&(e.comments.length-2>1?m.textContent=e.comments.length-2+" more replies":m.textContent="1 more reply")}function Ze(e,t){t=void 0!==t?t:e.comments.length-1;var n=e.comments[t],a=new Date(n.updated),r=new Date(n.created);return a-r>3e5?a:r}function He(e){var t=_a(),n=!e.length;td.classList.toggle("noDots",n),e=e?e.filter(function(e){return e.status===t}):[],td.classList.remove("noOpenDots","noResolvedDots"),td.classList.toggle(Um[t],!n&&!e.length),td.dataset.statusFilter=t,ed.querySelector("span").textContent=e.length,ed.classList.toggle("multiple",e.length>1),Qu.innerHTML="",e.sort(function(e,t){var n=Ze(e),a=Ze(t);return n>a?-1:a>n?1:0}),e.forEach(ze),td.classList.remove("loading")}function We(e){if(e){td.classList.add("loading"),td.classList.remove("noDots","noOpenDots","noResolvedDots");var t=ns.default.mark();fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/dots",{headers:Zeplin.headers}).then(function(e){return ns.default.measure("api.getDots",{start:t,minTime:50,labels:{status:e.status}}),e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(t){if(e.dots=t.dots,e.dots.forEach(function(e){e.status=e.status||"open"}),zd===e){var n;if(Bd.did&&1===Bd.did.length){var a=ge(Bd.did[0]);n=a?Promise.resolve(a):Vi.projectPrefs.get(wi.id,"dotListingsStatusFilter")}else n=Vi.projectPrefs.get(wi.id,"dotListingsStatusFilter");return n.then(function(t){Ia(t,!0),e.dots.forEach(xt),Bd.did&&1===Bd.did.length?oa(Bd.did[0],Bd.cmid):Z(Bd.did)})}}).catch(function(t){zd===e?Yi.handleError(t):console.error(t)})}}function Ve(){Array.from(Od.querySelectorAll(".screenGrid")).forEach(function(e){e.style.width=244*Math.floor(ys.clientWidth/244)+"px"}),zm=setTimeout(Ve,1e3),Tn()}function Ye(){clearTimeout(zm),requestAnimationFrame(Ve)}function Ke(e,t,n,a){var r=document.importNode(Zm.content,!0),o=r.querySelector(".screen"),i=r.querySelector(".screenName"),s=r.querySelector(".screenNameMirror"),l=Wi.permissions.canManageScreens(xi);o.dataset.id=t._id,o.dataset.index=n,o.dataset.viewIndex=a+n,r.querySelector(".screenLink").href=Wi.urlResolve("project-screen",{url:{pid:Bd.pid,sid:t._id}}),r.querySelector(".screenLastUpdated").setAttribute("datetime",t.updated||wi.updated),i.value=t.name,i.readOnly=!l;var c=md.value.toLowerCase().trim();c&&Wi.highlightMatchedParts(s,t.name,c,t.hasFuzzyMatch),Wi.resizeImage(r.querySelector(".screenImage"),t.versions[0].snapshot.url,{crop:!0}),e.appendChild(r)}function Xe(){Array.from(Od.querySelectorAll(".screenName")).forEach(function(e){e.parentNode.querySelector(".screenNameMirror").textContent=e.value})}function Ge(){if(wi.textStyles&&wi.textStyles.length){var e=!1;iu.innerHTML="";for(var t=0;t<wi.textStyles.length;t++){var n=document.importNode(Hm.content,!0),a=n.querySelector(".font"),r=n.querySelector(".styleName"),o=wi.textStyles[t];a.dataset.id=o.id,a.dataset.index=t,r.value=o.name,r.style.fontSize=o.scaledFontSize+"px",r.style.fontWeight=o.fontWeight,r.style.fontStyle=o.fontStyle,r.tabIndex=t+1;var i=o.fontStretch.split("-"),s=Wi.uppercaseFirst(o.weightText)+("normal"!==o.fontStyle?" "+Wi.uppercaseFirst(o.fontStyle):"");if(i="normal"!==o.fontStretch?" "+Wi.uppercaseFirst(i[0])+(i[1]||""):"",n.querySelector(".style").textContent=o.fontFamily+i+", "+s+", "+we(o.fontSize,"text"),o.color){var l=wi.findColorEqual(o.color);n.querySelector(".color").textContent=l?"#"+l.name:o.color.toPlatformString(wi.type),n.querySelector(".colorPreview").style.backgroundColor=o.color.toCSS()}else n.querySelector(".colorContainer").classList.add("hidden");var c=[];if(o.textAlign&&"left"!==o.textAlign&&c.push(Wi.uppercaseFirst(o.textAlign)),o.lineHeight&&c.push("Line height: "+we(o.lineHeight,"text")),o.letterSpacing){var u;u="android"===wi.type?Wi.round(o.letterSpacing/wi.densityDivisor,2):we(o.letterSpacing,"text"),c.push("Letter spacing: "+u)}n.querySelector(".subInfo").textContent=c.join(", "),e=e||!!c.length;var d=Wi.permissions.canManageTextStyles(xi);r.readOnly=!d,d?(r.removeAttribute("data-tooltip"),r.removeAttribute("data-tooltip-type")):"pawn"===xi.role?(r.dataset.tooltip="Only organization members can edit text styles.",r.dataset.tooltipType="text"):(r.dataset.tooltip=P(xi,"edit text styles."),r.dataset.tooltipType="html"),iu.appendChild(n)}iu.classList.toggle("hasAdditionalProp",e)}}function Je(){var e=Ht(),t=Wt()||"untagged"in Bd;if(bs.innerHTML="",wi.screens&&wi.screens.length&&(wi.tags.forEach(function(t){var n=document.createElement("div");n.classList.add("tag"),n.classList.toggle("selected",-1!==e.indexOf(t)),n.dataset.tag=Wi.escapeHTML(t),n.textContent=t,bs.appendChild(n)}),bs.childElementCount)){var n=document.createElement("div");n.classList.add("tag","untagged"),t&&n.classList.add("selected"),n.textContent="Untagged",bs.appendChild(n)}}function $e(e){var t=document.importNode(Wm.content,!0),n=t.querySelector(".color");n.dataset.id=e.id,t.querySelector(".colorPreview").style.backgroundColor=e.toCSS(),t.querySelector(".colorName").value=e.name,t.querySelector(".colorHex").value=e.hexBase(),t.querySelector(".colorAlpha").value=Math.round(100*e.a),t.querySelector(".colorRGB").textContent=e.toRGBAString();var a=Wi.permissions.canManageColors(xi);t.querySelector(".colorName").readOnly=!a,t.querySelector(".colorHex").readOnly=!a,t.querySelector(".colorAlpha").readOnly=!a,a?(n.removeAttribute("data-tooltip"),n.removeAttribute("data-tooltip-type")):"pawn"===xi.role?(n.dataset.tooltip="Only organization members can edit colors.",n.dataset.tooltipType="text"):(n.dataset.tooltip=P(xi,"edit colors."),n.dataset.tooltipType="html"),$s.appendChild(t)}function Qe(e,t){var n=new Qi.default(e),a=document.importNode(Vm.content,!0),r=a.querySelector(".color"),o=r.querySelector(".addColor"),i=wi.findColorEqual(n);i&&(r.classList.add("added"),r.dataset.id=i.id,r.querySelector(".colorName").value="#"+i.name),r.dataset.color=n.toHexString(),r.dataset.rgbcolor=JSON.stringify(e),r.querySelector(".colorPreview").style.backgroundColor=n.toCSS();var s=Wi.permissions.canManageColors(xi);r.querySelector(".colorName").readOnly=!s,o.classList.toggle("disabled",!s),J(o,!!i),"web"===wi.type?Vi.projectPrefs.get(Bd.pid,"styleColorFormat").then(function(e){r.querySelector(".colorValue").textContent=n.toPlatformString(wi.type,e),t.appendChild(a),hl.classList.toggle("empty",!yl.childElementCount)}):(r.querySelector(".colorValue").textContent=n.toPlatformString(wi.type),t.appendChild(a))}function et(e,t){var n=document.createElement("div");n.classList.add("gradient"),e.colorStops.forEach(function(e){Qe(e.color,n)}),t.appendChild(n)}function tt(e,t){switch(e.fillType){case"color":Qe(e.color,t);break;case"gradient":et(e.gradient,t)}}function nt(e){var t=document.importNode(Ym.content,!0);t.querySelector(".shadowType").textContent=e.type,t.querySelector(".shadowOffsetX").textContent=we(e.offsetX),t.querySelector(".shadowOffsetY").textContent=we(e.offsetY),t.querySelector(".shadowBlurRadius").textContent=we(e.blurRadius),t.querySelector(".shadowSpread").textContent=we(e.spread),t.querySelector(".shadowBlurSpread").classList.toggle("hidden",!e.blurRadius&&!e.spread),Ml.appendChild(t),Qe(e.color,Ml)}function at(e,t){switch(e.format){case"jpg":case"png":return bt(e,t)+("1x"===e.density?"":"@"+e.density);case"pdf":case"svg":return bt(e,t)}}function rt(e){return("svg"===e.format?Vi.projectPrefs.get(wi.id,"showOptimizedSVG"):Promise.resolve(!1)).then(function(t){return t&&Object.assign(e,e.optimized),e.url}).then(fetch).then(function(e){return e.arrayBuffer()}).then(function(t){return Object.assign({data:t},e)})}function ot(e,t){return e.contents.filter(function(e){return e.format===t}).map(function(t){return Object.assign({layerName:e.layerName,displayName:e.displayName},t)})}function it(e,t){var n;if("all"===e)n=[].concat.apply([],Zd.snapshot.assets.map(function(e){return ot(e,t)}));else{var a=Zd.snapshot.assets.find(function(t){return t._id===e});if(!a)return Promise.reject("Asset with id "+e+" not found.");n=ot(a,t)}return Promise.all(n.map(rt))}function st(e,t){t=t||function(e){return e.displayName};var n={},a=new os.default;return e.forEach(function(e){var r=t(e)+e.format;r in n||(n[r]=0);var o=++n[r];o>1&&((e=Object.assign({},e)).displayName+="_"+o,e.layerName+="_"+o),a.file(t(e)+"."+e.format,e.data)}),a}function lt(e,t){var n;return it(e,t).then(function(t){return n="all"===e?"assets_"+zd.name:t[0].displayName,st(t,function(e){return"drawable-"+e.density+"/"+e.displayName})}).then(function(e){return e.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n+"_"+(new Date).toISOString().substr(0,10)+".zip"}})}function ct(e,t){var n;return Promise.all([it(e,t),Vi.projectPrefs.get(Bd.pid,"assetNamingConvention")]).then(function(a){var r=a[0],o=a[1];if(1===r.length){var i=r[0];return n=at(i,o)+"."+i.format,new Blob([i.data],{type:Sm[t]})}var s=(new Date).toISOString().substr(0,10),l=st(r,function(e){return at(e,o)});return n=("all"===e?"assets_"+zd.name:bt(r[0],o))+"_"+s+".zip",l.generateAsync({type:"blob"})}).then(function(e){return{data:URL.createObjectURL(e),name:n}})}function ut(e){var t=document.createElement("a");t.href=e.data,t.download=e.name||"assets.zip",t.classList.add("hidden"),document.body.appendChild(t),t.addEventListener("click",function(n){n.stopPropagation(),setTimeout(function(){URL.revokeObjectURL(e.data)},1500),t.remove()}),t.click()}function dt(e,t,n){us.downloadAssets({projectId:wi.id,projectType:wi.type,format:t,assets:e,namingConvention:n})}function mt(e){if(document.body.classList.contains("canDownload")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("exportAssets")){e.stopPropagation();var t,n=e.target.parentElement.dataset.format,a=e.target.parentElement.dataset.aid;if(Gi.default&&Gi.default.features&&Gi.default.features.downloadAssets){var r;if(0===(r="all"===a?Zd.snapshot.assets:[Zd.snapshot.assets.find(function(e){return e._id===a})]).length)return;"android"===wi.type?Vi.projectPrefs.get(Bd.pid,"androidResFolderReminderSeen").then(function(e){e?dt(r,n):(Vi.projectPrefs.set(Bd.pid,"androidResFolderReminderSeen",!0),Id.addEventListener("click",function(e){e.stopPropagation(),dt(r,n)}),_d.showModal())}):Vi.projectPrefs.get(Bd.pid,"assetNamingConvention").then(function(e){dt(r,n,e)})}else{switch(wi.type){case"android":if("svg"!==n){t=lt(a,n);break}case"ios":case"osx":case"web":default:t=ct(a,n)}t.then(ut)}}}function pt(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(e.target.classList.contains("exportAssets"))return mt(e);var t=e.target.closest(".asset");if(t){var n=t.nextElementSibling;n.style.height=t.classList.contains("expanded")?"0":Array.from(n.children).reduce(function(e,t){return e+t.getBoundingClientRect().height},0)+"px",t.classList.toggle("expanded")}}}function gt(e){switch(e){case"mdpi":case"1x":case"web":case"unknown":default:return"1x";case"hdpi":return"1.5x";case"xhdpi":case"2x":return"2x";case"xxhdpi":case"3x":return"3x";case"xxxhdpi":case"4x":return"4x"}}function ft(e){return new Promise(function(t,n){var a=document.createElement("img"),r=document.createElement("canvas").getContext("2d");a.addEventListener("load",function(){r.drawImage(a,0,0);for(var e=r.getImageData(0,0,a.width,a.height).data,n="light",o=0;o<e.length;o+=4)if(!(e[o+3]<45)&&(e[o]<"210"||e[o+1]<"210"||e[o+2]<"210")){n="dark";break}t({size:Le(a.width,a.height,wi.dimensionSuffix),lightness:n})}),a.addEventListener("error",function(e){n(e)}),a.crossOrigin="anonymous",a.src=e.url})}function ht(e){return e.find(function(e){return e.density===wi.baseDensity&&"png"===e.format})}function yt(e){return e.filter(function(e){return"png"===e.format&&e.density!==wi.baseDensity}).map(function(e){return e.url+" "+gt(e.density)}).join(", ")}function vt(e,t){var n=document.importNode(Km.content,!0),a=n.querySelector(".assetExporter");if(a.dataset.aid=e.aid,a.dataset.format=e.format,a.querySelector(".assetType").textContent=e.format,a.querySelector(".assetCount").textContent=e.count,"jpg"===e.format||"png"===e.format)a.querySelector(".assetCount").title=Array.from(e.densities).join(", ");else if("svg"===e.format){var r=a.querySelector(".assetStats");e.percent>0&&(r.textContent=e.percent),Vi.projectPrefs.get(wi.id,"showOptimizedSVG").then(function(e){r.classList.toggle("hidden",!e)})}e.count>1&&a.querySelector(".assetCount").classList.add("plural"),t.appendChild(n)}function bt(e,t){return"default"===t?e.displayName:"original"===t?e.layerName:(0,ls.default)(e.layerName,t)}function St(e,t,n){var a=document.importNode(Xm.content,!0);return Promise.all([ft(t),ha()]).then(function(r){var o=r[0],i=r[1],s=a.querySelector(".assetPreview img"),l=a.querySelector(".assetExports");a.querySelector(".asset").dataset.id=e._id,a.querySelector(".assetPreview").classList.add(o.lightness),a.querySelector(".assetSize").textContent=o.size,s.src=t.url,s.srcset=yt(e.contents),a.querySelector(".assetName").textContent=bt(e,i);var c={},u=new Set;e.contents.forEach(function(e){e.format in c?c[e.format]++:c[e.format]=1,u.add(e.density)}),l.innerHTML="";for(var d in c){var m;"svg"===d&&(m=e.contents.find(function(e){return"svg"===e.format})),vt({aid:e._id,format:d,count:c[d],densities:u,percent:m&&m.optimized.percent},l)}n.appendChild(a)}).catch(function(e){console.error(e)})}function jt(e){var t=new Qi.default(e).toHexString();Fd.has(t)||(Qe(e,yl),Fd.add(t))}function Et(e){var t=document.importNode(Gm.content,!0),n=t.querySelector(".layer"),a=Ee(e.rect.width),r=Ee(e.rect.height),o=Zd.snapshot.width,i=Zd.snapshot.height;n.dataset.id=e._id,n.classList.toggle("wideEnough",a>120),n.classList.toggle("longEnough",r>120),n.classList.toggle("tooNarrow",a<3),n.classList.toggle("tooShort",r<3),n.style.width=xe(e.rect.width,o),n.querySelector(".layerWidth").textContent=we(e.rect.width),n.style.height=xe(e.rect.height,i),n.querySelector(".layerHeight").textContent=we(e.rect.height),n.style.left=xe(e.rect.x,o),n.style.top=xe(e.rect.y,i),Wc.appendChild(t),"text"===e.type&&e.textStyles&&e.textStyles.forEach(function(e){e.style.color&&jt(e.style.color)}),e.fills.forEach(function(e){switch(e.fillType){case"color":jt(e.color);break;case"gradient":e.gradient.colorStops.forEach(function(e){jt(e.color)})}}),hl.classList.toggle("empty",!yl.childElementCount)}function Lt(e){e.classList.remove("open","resolved")}function wt(e){e.classList.remove("yellow","orange","peach","green","turquoise")}function xt(e){var t=document.createElement("div"),n=Em[new Qi.default(e.color).hexBase()];return t.classList.add("dot",n),t.dataset.id=e._id,t.textContent=e.name||"?",t.dataset.color=n,t.dataset.position=e.x<=.5?"left":"right",t.style.left="calc("+100*e.x+"% - 13px)",t.style.top="calc("+100*e.y+"% - 13px)",e.creator===Zeplin.user._id&&t.classList.add("dotOwner"),t.classList.add(e.status||"open"),Oc.appendChild(t),Oc.lastElementChild}function Ct(e,t){var n=ds.replace(/:(\w+):/g,Zc.value.trim());if(n){pm=!1;var a=e._id,r=Ya({author:Zeplin.user._id,note:n,created:Date.now(),updated:Date.now()},a);Fa(t),r.style.opacity=.5,Va(),Mc.classList.remove("composing"),Qd.comments=[{note:n}];var o=Qd;delete o.name,fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+a+"/dots",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(n){(Hd=n).x=o.x,Hd.y=o.y,Hd.color=o.color,Hd.comments[0].note=o.comments[0].note,Vi.projectPrefs.set(Bd.pid,"lastNoteColorUsed",o.color.name),t.dataset.id=Hd._id,t.dataset.name=Hd.name,t.classList.add("dotOwner"),Pc.dataset.id=Hd._id,e.dots.push(Hd),He(e.dots),zc.innerHTML="&nbsp;",Zc.value="",cm[a]&&cm[a].comment&&(cm[a].comment=null),r.dataset.id=Hd.comments[0]._id,r.querySelector(".commentLink").href=Wi.urlResolve("project-screen",{url:{pid:wi.id,sid:a},query:{did:Hd._id,cmid:Hd.comments[0]._id}}),r.removeAttribute("style"),pm=!0,mixpanel.track("Created dot")}).catch(function(e){r.remove(),Mc.classList.add("composing"),Zc.focus(),Yi.handleError(e)})}}function kt(e,t,n,a){var r=document.querySelector(".dot[data-id='"+t+"']"),o=r.dataset.color;if(wt(r),r.classList.add(e),r.dataset.color=e,wt(Pc),Pc.classList.add(e),"undefined"!==t){var i=n._id;fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+i+"/dots/"+t,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({color:Lm[e]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){a.color=Lm[e],He(n.dots),Vi.projectPrefs.set(Bd.pid,"lastNoteColorUsed",e),mixpanel.track("Changed dot color")}).catch(function(e){wt(r),r.classList.add(o),r.dataset.color=o,wt(Pc),Pc.classList.add(o),Yi.handleError(e)})}else Qd.color=Lm[e]}function Dt(e){al.innerHTML="",e.tags=e.tags||[],e.tags.sort().forEach(function(e){var t=document.createElement("a");t.classList.add("tag"),t.dataset.tag=Wi.escapeHTML(e),t.textContent=e,t.href=Wi.urlResolve("project-dashboard",{url:{pid:wi.id},query:{tag:[e]}}),t.dataset.linkType="inApp",al.appendChild(t)});var t=document.importNode(qu.content,!0),n=Wi.permissions.canManageScreens(xi),a=t.querySelector("#manageTagsButton");a.classList.toggle("disabled",!n),n?(a.dataset.tooltip="Manage tags.",a.dataset.tooltipType="text"):(a.dataset.tooltip=P(xi,"organize screens using tags."),a.dataset.tooltipType="html"),a.addEventListener("click",function(){ko(e._id)}),al.appendChild(t)}function Tt(e){if(e===zd){if(Nm.scrollTop=0,Nm.innerHTML="",e.versions.reduce(Ne,{}),Zd){var t=document.querySelector(".version[data-id='"+Zd._id+"']");t&&t.classList.add("selected")}Tc.classList.toggle("oldVersion",e.versions[0]._id!==Zd._id);var n=e.totalVersionCount-wi.allowedVersionCount;if(n>0){var a=document.importNode(document.getElementById("versionLimitExceeded").content,!0),r=a.querySelector(".versionLimitExceeded");r.classList.toggle("plural",n>1),r.querySelector(".remainingVersionCount").textContent=n,r.querySelector("a").addEventListener("click",function(){mixpanel.track("Clicked version limits learn more button")}),Nm.appendChild(a)}else{var o=document.importNode(document.getElementById("initialCommit").content,!0);Nm.appendChild(o)}Bu.classList.remove("loading")}}function qt(e){var t=!("updateSelectedIndex"in(e=e||{}))||e.updateSelectedIndex,n=!("saveZoomLevel"in e)||e.saveZoomLevel;if(xc.textContent=(100*Jd).toFixed(),wc.disabled=Jd>=5,kc.disabled=Jd<=.25,su.classList.toggle("pixelated",Jd>=2),t){for(var a=0;a<Cc.childElementCount;a++)if(parseFloat(Cc.children[a].value)===Jd){Cc.selectedIndex=a;break}Cc.childElementCount===a&&(Cc.selectedIndex=-1)}Qm||(requestAnimationFrame(function(){Zd&&Ft(Zd.snapshot,"zoom"),_c.classList.contains("zooming")?Ic.addEventListener("transitionend",function e(){Ic.removeEventListener("transitionend",e),_c.classList.remove("zooming"),Zd&&Ft(Zd.snapshot,"zoom"),Ba()}):Ba(),Qm=!1}),Qm=!0),n&&(clearTimeout(Jm),Jm=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"zoomLevel",Jd)},1e3))}function _t(e){if(rl.classList.toggle("hidden",!e),e){if(e.vertical){var t=e.vertical,n=t.numberOfCols,a=t.columnWidth+t.gutterWidth,r=Math.min(230*t.columnWidth/a,206);cl.style.width=Math.floor(r)+"px",ul.style.width=Math.ceil(230-r)+"px",sl.textContent=we(t.columnWidth),ll.textContent=we(t.gutterWidth),pl.textContent=we(n*t.columnWidth+(n-!t.guttersOnOutside)*t.gutterWidth),gl.textContent=""+n}else cl.removeAttribute("style"),ul.removeAttribute("style"),pl.textContent="",gl.textContent="";if(e.horizontal){var o=e.horizontal,i=o.rowHeight+o.gutterHeight,s=Math.min(48*o.rowHeight/i,32);dl.style.height=Math.floor(s)+"px",ml.style.height=Math.ceil(48-s)+"px",dl.textContent=we(o.rowHeight),ml.textContent=we(o.gutterHeight)}il.classList.toggle("v",!!e.vertical),il.classList.toggle("h",!!e.horizontal)}}function It(e){var t=ep.getContext("2d");if(t.clearRect(0,0,ep.width,ep.height),e.grid){ep.width=Ee(e.width),ep.height=Ee(e.height);var n=e.grid,a="rgba(238, 103, 35, 0.3)";if(n.vertical){var r,o=n.vertical,i=Ee(o.columnWidth+o.gutterWidth),s=o.numberOfCols,l=Ee(n.horizontalOffset+(o.guttersOnOutside?o.gutterWidth/2:0));n.horizontal&&!n.horizontal.gutterHeight||!n.vertical.gutterWidth?(a="rgba(0, 255, 255, 0.7)",r=1):r=Ee(o.columnWidth),s=1===r?s+1:s,t.fillStyle=a;for(var c=l||i,u=0;u<s;u++)t.fillRect(c,0,r,ep.height),c+=i}if(n.horizontal){var d,m=n.horizontal,p=Ee(m.rowHeight+m.gutterHeight),g=Math.round(ep.height/p),f=0|Ee(n.horizontalOffset);n.vertical&&!n.vertical.gutterWidth||!n.horizontal.gutterHeight?(a="rgba(0, 255, 255, 0.7)",d=1):d=Ee(m.rowHeight),g=ep.height-g*p>p-d?g+1:g,t.fillStyle=a;for(var h=1===d?p:0,y=0;y<g;y++)t.fillRect(f,h,ep.width-2*f,d),h+=p}}}function At(e,t){var n={_id:t._id,name:e,opacity:1,borderRadius:0,blendMode:"normal",rect:{x:0,y:0,width:t.width,height:t.height},type:"shape",fills:[],borders:[],shadows:[]};return t.backgroundColor&&n.fills.push({fillType:"color",color:t.backgroundColor}),n}function Ot(e){var t=20*Jd;_c.style.width=Ee(e.width,{padding:240,unit:"px"}),_c.style.height=Ee(e.height,{padding:120,unit:"px"}),_c.style.backgroundImage="linear-gradient(to bottom, transparent 0px, transparent "+2*Jd+"px, #FFF "+2*Jd+"px, #FFF "+t+"px), linear-gradient(to right, #C8C3C7 0, #C8C3C7 "+2*Jd+"px, #FFF "+2*Jd+"px, #FFF "+t+"px)",_c.style.backgroundPosition=window.innerWidth/2-151-Jd*e.width/2+"px "+(-3*t+58)+"px",_c.style.backgroundSize=t+"px "+t+"px",Ic.style.width=Ee(e.width,{unit:"px"}),Ic.style.height=Ee(e.height,{unit:"px"}),su.style.width=Ee(e.width,{unit:"px"}),su.style.height=Ee(e.height,{unit:"px"})}function Pt(e){if(Fd=new Set,yl.innerHTML="",cd.innerHTML="",Wc.innerHTML="",e.layers&&(e.layers.forEach(Et),qi)){var t=e.layers.find(function(e){return e.sourceId===qi});qi=null,t&&(t=document.querySelector(".layer[data-id='"+t._id+"']"))&&ya(t)}ud.classList.toggle("hidden",!e.backgroundColor),e.backgroundColor&&Qe(e.backgroundColor,cd),It(e)}function Nt(e){if(bl.innerHTML="",Sl.innerHTML="",void 0===e.assets);else if(Array.isArray(e.assets)&&!e.assets.length)vl.classList.remove("loading"),vl.classList.add("empty"),vl.dataset.source=zd.source;else{Qs.classList.toggle("densityMismatch",e.density!==wi.density),vl.classList.add("loading"),vl.classList.remove("empty");var t={},n=new Set,a=[];e.assets.forEach(function(e){var r=ht(e.contents);r&&(a.push(va(e).then(function(){return St(e,r,bl)})),e.contents.forEach(function(e){e.format in t?t[e.format]++:t[e.format]=1,n.add(e.density)}))}),Promise.race(a).then(function(){vl.classList.remove("loading","empty")});for(var r in t)vt({aid:"all",format:r,count:t[r],densities:n},Sl)}}function Ft(e,t){tp[t=t||"layers"].forEach(function(t){t(e)})}function Bt(e,t){np?Wi.showToast("Already sent!",t):(np=!0,fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/requests/join",{method:"POST",headers:Zeplin.headers}).then(function(){Wi.showToast("Invitation sent!",t)}).catch(function(){Wi.showToast("Invitation sent!",t)}))}function Mt(e){"dismissed"!==sessionStorage.getItem("transitionBannerStatus"+wi.id)&&zi.show({content:"This project now belongs to an organization but looks like you're not a member yet. For "+(1===e?"a day":e+" days")+", you'll be able to access resources but if you're a designer or a developer, <a href='#'>request an invite</a> from admins.",type:"info",contentType:"html",group:"transition",closeCallback:function(){sessionStorage.setItem("transitionBannerStatus"+wi.id,"dismissed")},bodyCallbacks:{a:function(e){e.preventDefault(),Bt(Ci._id,document.querySelector("main")),sessionStorage.setItem("transitionBannerStatus"+wi.id,"dismissed"),zi.closeBanner("transition")}}})}function Rt(){Vi.projectPrefs.get(wi.id,"noResourceInfoDismissed").then(function(e){var t=document.getElementById("infoContent");if(!e&&!t.querySelector(".noResourceInfo")){var n=Hi.create({content:"This project belongs to an organization but looks like you're not a member.If you're a developer or a designer and want to access these resources, please <a href='#'>request an invite</a> from admins!",type:"html",hideCallback:function(){Vi.projectPrefs.set(wi.id,"noResourceInfoDismissed",!0)},bodyCallbacks:{a:function(e){e.preventDefault(),Bt(Ci._id,Mu)}}});n.classList.add("noResourceInfo"),t.insertBefore(n,document.querySelector(".screenDescriptionContainer"))}})}function Ut(e,t,n){clearTimeout(ap);var a=(t=t||e.versions[0]).snapshot;if("pawn"===xi.role&&Ci&&Ci.transitionFinished)return a&&(delete a.layers,delete a.assets),Ft(a,n),Rt(),hl.classList.remove("loading","empty"),hl.classList.add("restricted"),vl.classList.remove("loading","empty"),void vl.classList.add("restricted");Oe(t._id),a&&"layers"in a?(_t(a.grid),Ft(a,n),ke()):ap=setTimeout(function(){Ce(),De(e,t,n).then(function(e){e&&Zd._id===t._id&&(_t(e.grid),Ft(e,n),ke())})},300)}function zt(e){var t=document.querySelector(".versionsAuntie");t&&t.remove(),t=null,Vi.projectPrefs.get(wi.id,e._id,"versionsLastSeen").then(function(n){if(!n)return Vi.projectPrefs.set(wi.id,e._id,"versionsLastSeen",new Date(e.versions[0].created));var a=e.versions.filter(function(e){return new Date(e.created)>n});if(document.querySelector(".versionsToggle").classList.toggle("hasNewVersions",a.length),a.length){var r=a.filter(function(e){return e.creator===xi.user._id}),o=r.find(function(e){return!e.commit||!e.commit.message}),i=a.length-r.length;o&&"dismissed"!==sessionStorage.getItem("versionsCommitAuntieStatus")?t=Hi.create({content:new Date-new Date(o.created)>36e5?"Looks like you uploaded a version <time is='time-ago' datetime='"+o.created+"'></time>. Add a commit message and share what has changed!":"New version! Add a commit message and share what has changed.",type:"html",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("versionsCommitAuntieStatus","dismissed")}}):i&&"dismissed"!==sessionStorage.getItem("newVersionsAuntieStatus")&&(t=Hi.create({content:"There "+(i>1?"are ":"is ")+(i>1?i:"a")+" new version"+(i>1?"s":"")+" since you last visited!",buttonText:"Got it!",popover:!0,hideCallback:function(){sessionStorage.setItem("newVersionsAuntieStatus","dismissed")}})),t&&(t.classList.add("versionsAuntie"),document.body.appendChild(t))}})}function Zt(e){CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||(clearTimeout(zm),window.removeEventListener("resize",Ye)),window.removeEventListener("resize",Tn);var t=je(e);if(!t&&(Ht().length>0&&(_n(),qn(),t=je(e)),!t))return Zi.create({message:"Screen not available anymore.",defer:!0}),void ce(wi.id,In());ki=t,Ud=parseInt(t.dataset.viewIndex,10),Wn(),(zd=wi.screens.find(function(e){return e._id===ki.dataset.id})).description=zd.description||"",Vd="screen",Ns.dataset.selection="screen",Ms.disabled=0===Ud,Rs.disabled=Ud===xn()-1,tl.value=zd.description,er(zd),nl.setAttribute("datetime",zd.updated||wi.updated),Dt(zd);var n=In();md.value.length&&(n.q=md.value),Bs.href=Wi.urlResolve("project-dashboard",{url:{pid:wi.id},query:n}),Bs.querySelector("span").textContent="Dashboard",Us.textContent=zd.name,Us.title=zd.name,V(),K(),G(),(zd.totalVersionCount?Promise.resolve(zd):Be(zd)).then(function(e){Zd=e.versions[0],Tc.classList.contains("versionsShown")?(Tt(e),Vi.projectPrefs.set(wi.id,e._id,"versionsLastSeen",new Date(e.versions[0].created))):zt(e),Ut(zd,Zd,"initial")}),vm&&Gi.default.ipcRenderer.send("popout:menuitem:enabled",!0);return Oc.innerHTML="","dots"in zd?Vi.projectPrefs.get(wi.id,"dotListingsStatusFilter").then(function(e){document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+e+'"]').checked=!0,Oc.dataset.statusFilter=e,zd.dots.forEach(xt),He(zd.dots)}):new Promise(function(e){clearTimeout(rp),rp=setTimeout(function(){We(zd),e()},300)})}function Ht(){return Array.from(document.querySelectorAll(".tag.selected:not(.untagged)"),function(e){return Wi.unescapeHTML(e.dataset.tag)})}function Wt(){return document.querySelector(".tag.untagged.selected")}function Vt(e){return function(t){return e.reduce(function(e,n){return e&&t.tags&&t.tags.includes(n)},!0)}}function Yt(e,t){var n;return t?("tags"in t?n=Vt(t.tags):"untagged"in t&&(n=function(e){return!e.tags||!e.tags.length}),e.map(function(e){return Object.assign(e,{screens:e.screens.filter(n)})}).filter(function(e){return!!e.screens.length})):e}function Kt(e,t,n,a){e&&Wi.permissions.canManageScreens(xi)&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/"+e+"/screens/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(n)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).catch(function(n){Yi.handleError(n),Jt(e,t,a)})}function Xt(e,t,n){e&&Wi.permissions.canManageScreens(xi)&&(wi.addScreensToSection(e,t,n),qn())}function Gt(e,t,n){if(e&&Wi.permissions.canManageScreens(xi)){var a=JSON.parse(JSON.stringify(wi.sections));Xt(e,t,n),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/"+e+"/screens",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({index:n,screens:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).catch(function(e){wi.sections=a,qn(),Yi.handleError(e)})}}function Jt(e,t,n){if(e){wi.updateScreenOrder(e,t,n);var a=Sn(e),r=a.querySelector(".screenGrid"),o=parseInt(a.dataset.viewIndexOffset,10);wi.findSection(e).screens.forEach(function(e,t){var n=je(e);n.dataset.index=t,n.dataset.viewIndex=o+t,r.appendChild(n)})}}function $t(){var e=document.querySelector(".screenMenu");e&&e.remove()}function Qt(){var e=document.querySelector(".sectionMenu");e&&e.remove()}function en(e){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})})}function tn(e,t){if(e){var n=wi.removeSection(e);return qn(),en(e).catch(function(e){Yi.handleError(e),wi.addSection(n,t),qn()})}}function nn(e,t){var n=e.querySelector(".sectionHeader"),a=document.importNode(sp.content,!0),r=a.querySelector(".sectionMenu");n.getBoundingClientRect().top+150>window.innerHeight&&r.classList.add("toTop"),r.classList.add("open");var o=n.querySelector(".sectionActions");o.parentElement.insertBefore(a,o),r.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){var n=e.target.closest(".section");switch(n.classList.contains("collapsed")&&on(n),t.dataset.action){case"edit-description":var a=n.querySelector(".sectionHeader .sectionDescription"),r=a.closest(".sectionDescriptionForm");n.classList.contains("hasDescription")||(En(a,"A sweet, short description"),n.classList.add("hasDescription")),r.classList.add("editing"),r.querySelector(".counter").textContent=a.maxLength-a.value.length,Wi.highlightInput(a);break;case"rename":Wi.highlightInput(n.querySelector(".sectionHeader .sectionName"));break;case"delete":tn(n.dataset.id,n.dataset.index)}}}})}function an(e,t,n){n=void 0===n||n;var a="collapse"===t;e.classList.toggle("collapsed",a);var r=e.dataset.id;r&&n&&(Nd[r]=a,Vi.projectPrefs.set(wi.id,"sectionsCollapseState",Nd))}function rn(e,t){an(e,"collapse",t)}function on(e,t){an(e,"expand",t)}function sn(e){return e&&Nd[e]}function ln(e){if(Wi.permissions.canManageScreens(xi)&&!document.querySelector(".tag.selected")&&1!==wi.screens.length&&!md.value.toLowerCase().trim()&&!qd.querySelector("input:checked"))if(e.target.classList.contains("screen")){var t,n=e.target.getBoundingClientRect();if(e.clientX<=n.left)Pd.style.left=n.left-24+"px",t=e.target.dataset.id;else{if(!(e.clientX>=n.right))return;Pd.style.left=n.right+"px",t=Se(parseInt(e.target.dataset.viewIndex,10)+1).dataset.id}Pd.dataset.nextScreenId=t,Pd.style.top=ys.scrollTop+n.top-30+"px",Pd.classList.remove("hidden")}else Pd.classList.add("hidden")}function cn(e){if(Po(e)){var t=Ht(),n=JSON.parse(JSON.stringify(wi.sections)),a={name:e,screens:wi.screens.filter(Vt([e])).map(function(e){return e._id})};wi.addSection(a,1),t.length>0&&(_n(),On()),Promise.all([qn().then(function(){var e=Od.querySelector(".section:not(.default)");return e&&Wi.highlightInput(e.querySelector(".sectionName")),e}),un(a,1)]).then(function(t){var n=t[0],r=t[1];a._id=r._id,n&&(n.dataset.id=r._id),Ao(e)}).catch(function(e){wi.sections=n,ce(wi.id,t.length>0?{tag:t}:{}),Yi.handleError(e)})}}function un(e,t){return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:e.name,screens:e.screens,index:t})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})})}function dn(e,t){if(e){var n=JSON.parse(JSON.stringify(wi.sections)),a=wi.splitSection(e,t,"Untitled section");a.new=!0,qn().then(function(){var t=Sn(e),r=t?t.nextElementSibling:Od.firstElementChild,o=wi.sections.findIndex(function(t){return t._id===e})+1;Wi.highlightInput(r.querySelector(".sectionName")),un(a,o).then(function(e){a._id=e._id,r.dataset.id=e._id}).catch(function(e){wi.sections=n,qn(),Yi.handleError(e)})})}}function mn(e,t){if(e)return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})})}function pn(e,t){if(e._id){var n=e.name;e.name=t,mn(e._id,{name:t}).catch(function(t){e.name=n,qn().then(function(){Yi.handleError(t,{dialogCallback:function(){var t=Sn(e._id);Wi.highlightInput(t.querySelector(".sectionName"))}})})})}}function gn(e,t){if(e._id){var n=e.description;e.description=t,mn(e._id,{description:t}).catch(function(t){e.description=n,qn().then(function(){Yi.handleError(t,{dialogCallback:function(){var t=Sn(e._id);Wi.highlightInput(t.querySelector(".sectionDescription"))}})})})}}function fn(e){var t=e.querySelector(".screenGrid"),n=e.querySelector(".sectionHeader");n.addEventListener("click",function(t){if(t.target.matches(".sectionDescriptionForm .mirror")){var n=t.target.closest(".sectionDescriptionForm"),a=t.target.nextElementSibling;return jn(a),n.classList.add("editing"),n.querySelector(".counter").textContent=a.maxLength-a.value.length,void a.focus()}var r=t.target.closest("button[data-action]");if(r)switch(Jo(),t.stopPropagation(),r.dataset.action){case"open-menu":nn(e,r);break;case"collapse":e.classList.contains("collapsed")?on(e):rn(e)}else e.classList.contains("collapsed")&&(on(e),t.stopPropagation())}),n.addEventListener("blur",function(t){if(Wi.permissions.canManageScreens(xi)&&"input"===t.target.tagName.toLowerCase()){t.preventDefault();var n=e.dataset.id,a=wi.findSection(n);if(a)if(t.target.classList.contains("sectionName")){var r=t.target.value.trim();if(!0===a.new&&delete a.new,r===a.name)return;r?(En(t.target,r),pn(a,r)):En(t.target,a.name)}else if(t.target.classList.contains("sectionDescription")){var o=t.target.value.trim();if(e.classList.toggle("hasDescription",o.length>0),t.target.closest(".sectionDescriptionForm").classList.remove("editing"),En(t.target,o),o===a.description)return;gn(a,o)}}},!0),n.addEventListener("submit",function(e){if(Wi.permissions.canManageScreens(xi)){e.preventDefault();var t=e.target.querySelector("input");t&&t.blur()}}),n.addEventListener("keydown",function(t){if(Wi.permissions.canManageScreens(xi)){t.stopPropagation();var n=t.target.closest("input");if(n&&-1!==["sectionName","sectionDescription"].indexOf(n.name))switch(t.keyCode){case Zeplin.KEY_CODE.ESC:var a=wi.findSection(e.dataset.id);if(!a)return;if(!0===a.new)return void tn(a._id,parseInt(e.dataset.index,10));En(n,a["sectionName"===n.name?"name":"description"]),n.blur()}}});var a=n.querySelector(".sectionDescriptionForm .counter");n.addEventListener("input",function(e){jn(e.target),e.target.classList.contains("sectionDescription")&&(a.textContent=e.target.maxLength-e.target.value.length)}),t.addEventListener("mouseover",ln),t.addEventListener("mouseover",function(e){var t=e.target.closest(".screenLink");t&&(t.classList.add("hover"),t.classList.remove("highlight"))}),t.addEventListener("mouseout",function(e){var t=e.target.closest(".screenLink");t&&t.classList.remove("hover")}),t.addEventListener("keydown",function(e){if(Wi.permissions.canManageScreens(xi)&&(e.stopPropagation(),e.target.classList.contains("screenName")))switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".screen").dataset.id;e.target.value=wi.screens.find(function(e){return e._id===t}).name,e.target.blur()}}),t.addEventListener("submit",function(e){Wi.permissions.canManageScreens(xi)&&(e.preventDefault(),e.target.querySelector(".screenName").blur())}),t.addEventListener("blur",function(e){if(Wi.permissions.canManageScreens(xi)&&(e.preventDefault(),e.target.classList.contains("screenName"))){var t=e.target.closest(".screen").dataset.id,n=wi.screens.find(function(e){return e._id===t}),a=e.target.closest(".screen").querySelector(".screenNameMirror");if(!e.target.value)return a.classList.remove("hidden"),void(e.target.value=n.name);if(n.name!==e.target.value){a.classList.add("hidden");var r=n.name;n.name=e.target.value,qn(),Kr(t,n.name,r)}else a.classList.remove("hidden")}},!0),t.addEventListener("contextmenu",function(e){Jo();var t=e.target.closest(".screenLink");if(t){var n=t.parentElement;e.preventDefault();var a=document.importNode(lp.content,!0),r=a.querySelector(".screenMenu");r.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"thumbnail":Gr(n.dataset.id);break;case"delete":Zi.create({title:'Delete  "'+n.querySelector(".screenName").value+'"?',message:"Deleted screens cannot be restored.",done:{name:"DELETE",cb:function(){Qr(n.dataset.id).then(function(){Je(),An(Ht())})}},cancel:{name:"CANCEL"}});break;case"manageTags":ko(n.dataset.id);break;case"download":$r(n.dataset.id)}setTimeout(function(){$t()},80)}}});var o=Wi.permissions.canUpdateProject(xi),i=Wi.permissions.canManageScreens(xi);r.querySelector(".menuitem[data-action='thumbnail']").classList.toggle("hidden",!o),r.querySelector(".menuitem[data-action='manageTags']").classList.toggle("hidden",!i),r.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!i);var s=Co(n.dataset.id);r.classList.toggle("taglessScreen",!s.tags||0===s.tags.length),n.appendChild(a),ci(r,Nu,n,e)}})}function hn(e){return{screens:e,type:"default"}}function yn(e){var t=[],n={};return e.forEach(function(e){var a,r=Wi.getTimeSlot(new Date(e.updated));r in n?a=n[r]:(t.push(r),a=n[r]=[]),a.push(e)},{}),t.map(function(e){return{name:Wi.uppercaseFirst(e),screens:n[e],type:"timeline"}})}function vn(){if(!wi.screens.length)return[];var e=wi.sections.map(function(e){return e=Object.assign({},e),e.screens=e.screens.map(function(e){return wi.findScreen(e)}),e.type="user",e});return e[0].screens.length>0?e[0].type="default":e.splice(0,1),e}function bn(e){if((e=e||{}).searchTerm){var t={},n=wi.screens.filter(function(n){var a=Wi.calculateMatchingScore(e.searchTerm,n.name);return t[n._id]=a.score,n.hasFuzzyMatch=a.hasFuzzyMatch,a.score>0}).sort(function(e,n){return t[e._id]<t[n._id]?1:t[e._id]>t[n._id]?-1:0});return n.length>0?[hn(n)]:[]}var a;return a=e.sortBy?"lastUpdated"===e.sortBy?yn(wi.screens.sort(Wi.sortBy[e.sortBy])):[hn(wi.screens.sort(Wi.sortBy[e.sortBy]))]:vn(),e.tagFilter&&(a=Yt(a,e.tagFilter)),a}function Sn(e){return Od.querySelector(".section[data-id='"+e+"']")}function jn(e,t){var n=e.parentElement.querySelector(".mirror");t?n.innerHTML=Ha(e.value.replace(/ /g," ")):n.textContent=e.value.replace(/ /g," ")}function En(e,t){e.value=t||"",jn(e,!0)}function Ln(e,t,n){var a=document.importNode(Ad.content,!0),r=a.querySelector(".section"),o=a.querySelector(".screenGrid"),i=a.querySelector(".sectionName"),s=a.querySelector(".sectionDescription"),l=a.querySelector(".screenCount"),c=Wi.permissions.canManageScreens(xi);En(i,e.name),e._id&&(r.dataset.id=e._id),"user"===e.type&&(i.readOnly=!c,s.readOnly=!c,e.description&&e.description.length&&(En(s,e.description),r.classList.add("hasDescription")),e.screens.length>1&&(l.textContent=e.screens.length),r.classList.toggle("empty",0===e.screens.length)),sn(e._id)&&!r.classList.contains("empty")?rn(r):on(r),r.classList.add(e.type),r.dataset.index=t,r.dataset.viewIndexOffset=n,e.screens.forEach(function(e,t){Ke(o,e,t,n)}),Od.appendChild(a),fn(r)}function wn(){var e={};md.value&&(e.searchTerm=md.value.toLowerCase().trim());var t=qd.querySelector("input:checked");t&&(e.sortBy=t.name);var n=Ht();return n.length?e.tagFilter={tags:n}:Wt()&&(e.tagFilter={untagged:!0}),e}function xn(){return Od.querySelectorAll(".screen").length}function Cn(e,t,n){if(e)return wi.updateSectionOrder(e,t),qn(),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/sections/order",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({sections:[{_id:e,to:parseInt(t,10)}]})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).catch(function(t){wi.updateSectionOrder(e,n),qn(),Yi.handleError(t)})}function kn(e,t){var n=e.getBoundingClientRect();cp.style.top=ys.scrollTop+n.top-30+"px",cp.style.left=t?n.right+11+"px":n.left-13+"px",cp.classList.remove("hidden")}function Dn(){if(Array.from(Od.querySelectorAll(".screenGrid")).forEach(function(e){ps.default.disable(e.dataset.dragId)}),Od.innerHTML="",Pd.classList.add("hidden"),!wi.screens||!wi.screens.length)return document.querySelector(".projectOverview").classList.add("empty"),void(pu.disabled=!0);document.querySelector(".projectOverview").classList.remove("empty"),document.querySelector(".noIntersection").removeAttribute("data-empty-for"),pu.disabled=!1;var e=wn(),t=bn(e);"tagFilter"in e&&!t.length&&(document.querySelector(".noIntersection").dataset.emptyFor=Wt()?"untagged":"tagged"),Od.classList.toggle("locked","sortBy"in e);var n=0;t.forEach(function(e,t){Ln(e,t,n),n+=e.screens.length}),ps.default.enable({containers:Array.from(Od.querySelectorAll(".screenGrid")),dropTargets:Array.from(Od.querySelectorAll(".section")),root:ys,canGrab:function(){return Wi.permissions.canManageScreens(xi)&&1!==wi.screens.length},onGrab:function(e,t){t.style.height="",Xe();var n=e.getBoundingClientRect(),a=t.getBoundingClientRect();ip=parseInt(e.dataset.index,10),op=e.closest(".section").dataset.id,kn(e,a.left>n.left),document.body.classList.add("dragging")},onDrop:function(e,t,n){cp.classList.add("hidden"),document.body.classList.remove("dragging");var a=t.dataset.id,r=t.closest(".section").dataset.id;if(op&&r){if(r===op){var o=parseInt(t.dataset.index,10);if(o===ip)return;var i={screens:[{_id:a,to:parseInt(ip,10)}]};Jt(op,a,ip),Kt(op,a,i,o)}else Gt(op,[a],ip);op=null,ip=null}},onMove:function(e,t,n,a,r){var o;if("sortBy"in wn()?o="Unselect sort option to reorder":document.querySelector(".tag.selected")?o="Unselect tags to reorder":md.value.toLowerCase().trim()&&(o="Reset search to reorder"),o)document.querySelector(".toastContainer")||Wi.showToast(o,document.querySelector("main"));else{Array.from(Od.querySelectorAll(".section.dropTarget")).forEach(function(e){e.classList.remove("dropTarget")});var i=r.getBoundingClientRect();if(a){var s=a.getBoundingClientRect(),l=parseInt(a.dataset.index,10),c=parseInt(t.dataset.index,10),u=i.left>s.left,d=0;n===e?d=u?l<c?1:0:l<=c?0:-1:u&&(d=1),ip=l+d,op=n.closest(".section").dataset.id,kn(a,u)}else if(n){var m=n.querySelectorAll(".screen").length-1;if(n.classList.contains("section")&&(n.classList.contains("empty")||n.classList.contains("collapsed")))return op=n.dataset.id,ip=n.classList.contains("collapsed")?m+1:0,cp.classList.add("hidden"),void n.classList.add("dropTarget");var p=n.querySelector('.screen[data-index="'+m+'"]'),g=p.getBoundingClientRect();i.bottom>g.top&&i.left>g.left&&(op=n.closest(".section").dataset.id,ip=m,n!==e&&(ip+=1),kn(p,!0))}}}}),oe(),Tn()}function Tn(){var e=Od.querySelector(".section:not(.collapsed) .screenLink");if(e){var t=e.getBoundingClientRect();pp=Math.max(36,t.left)+"px"}Array.from(Od.querySelectorAll(".sectionHeader")).forEach(function(e){e.style.paddingLeft=pp,e.style.paddingRight=pp})}function qn(e){var t=!0;return e&&"immediate"in e&&(t=e.immediate),new Promise(function(e,n){t?(Dn(),e()):(clearTimeout(mp),mp=setTimeout(function(){Dn(),e()},300))})}function _n(){Md="",Array.from(document.querySelectorAll(".tag.selected")).forEach(function(e){e.classList.remove("selected")})}function In(){return Wt()?{untagged:"true"}:Md||{}}function An(e){_n(),e&&(Md={tag:e},(e=[].concat(e).filter(function(e){return wi.tags.indexOf(e)>-1})).forEach(function(e){document.querySelector(".tag[data-tag='"+decodeURIComponent(Wi.escapeHTML(e)+"']")).classList.add("selected")})),qn()}function On(){var e=Ht();Md=e.length?{tag:e}:{},Wt()?Bd.untagged="true":delete Bd.untagged,ce(wi.id,In())}function Pn(){return!Ki.isHidden()||!Pc.classList.contains("hidden")||!uu.classList.contains("hidden")||!bu.classList.contains("hidden")||gd.classList.contains("focus")}function Nn(){Wn(),Yn(),Na(),Or(),Jo(),tl.submitEdits(),Do(),ms.close(),ds.close()}function Fn(){fm=!1,gm?(Ac.src=Zeplin.urls.appURL+"/img/grab.svg",document.body.classList.contains("mac")||(_c.classList.remove("panMode"),_c.classList.add("holdingSpace"))):_c.classList.remove("panMode"),document.removeEventListener("mouseup",Fn)}function Bn(){Wn(),Jo(),fp=0,Oi=0,Pi=0,uu.classList.remove("hidden"),du.value="",du.focus(),Object.assign(nm,wi.screens),nm.sort(Wi.sortBy.name),gu.classList.toggle("noScreen",!nm.length),mu.innerHTML="",nm.forEach(Ar),nm.length&&(Ai=nm[0],mu.querySelector(".screenSuggestion[data-id='"+Ai._id+"']").classList.add("selected"))}function Mn(){if(Or(),!je(Ai._id))return _n(),md.value="",pd.classList.remove("searching"),gd.classList.remove("focus"),void qn();de(wi.id,Ai._id)}function Rn(e){var t;document.querySelector(".screenSuggestion.selected").classList.remove("selected"),fp=e,Ai=nm[e],(t=document.querySelector(".screenSuggestion[data-id='"+Ai._id+"']")).classList.add("selected"),Wi.scrollIfNecessary(t)}function Un(){Us.style.width=getComputedStyle(Us).width,Fs.addEventListener("mouseleave",zn)}function zn(){Fs.removeEventListener("mouseleave",zn),Us.removeAttribute("style")}function Zn(){ms.close(),ds.close(),$d&&!Hd&&pm&&($d.remove(),Qd=null),qc.removeEventListener("scroll",Ba),Hd=null,$d=null,Bc.innerHTML="",Bc.scrollTop=0,Pc.classList.add("hidden")}function Hn(){!Pc.classList.contains("hidden")&&zd&&(cm[zd._id]=cm[zd._id]||{},Hd?(cm[zd._id].reply=cm[zd._id].reply||{},cm[zd._id].reply[Hd._id]=Zc.value):cm[zd._id].comment=Zc.value)}function Wn(){Hn(),Zn()}function Vn(){if($d){var e=$d;Zn(),oa(e)}}function Yn(e){e=e||{},Kn(),Vc.classList.add("hidden"),e.willReselect||(Qs.classList.add("resourceView"),Qs.classList.remove("layerView")),Ic.removeEventListener("mouseover",ta),document.removeEventListener("keydown",na),document.removeEventListener("keyup",na),document.removeEventListener("keydown",aa),_c.removeEventListener("mousemove",ra),Xd=!1,Ic.classList.remove("measuring"),Yd&&(Yd.classList.remove("selected"),Yd=null,Di=null,um=null,dm=null),Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""})}function Kn(){Jc.classList.add("hidden"),Qc.classList.add("hidden"),tu.classList.add("hidden"),au.classList.add("hidden")}function Xn(e,t){return e.rect.x===t.rect.x&&e.rect.y===t.rect.y&&e.rect.width===t.rect.width&&e.rect.height===t.rect.height}function Gn(e,t){if(!t)return[e];var n={left:Math.min(e.rect.x,t.rect.x),top:Math.min(e.rect.y,t.rect.y),right:Math.max(e.rect.x+e.rect.width,t.rect.x+t.rect.width),bottom:Math.max(e.rect.y+e.rect.height,t.rect.y+t.rect.height)},a=Zd.snapshot.layers.filter(function(a){var r=a.rect.x+a.rect.width,o=a.rect.y+a.rect.height;return a.rect.x<=n.left&&a.rect.y<=n.top&&r>=n.right&&o>=n.bottom&&(e!==t||!Xn(a,e))});return a.length?a.sort(function(e,t){return e.rect.width*e.rect.height-t.rect.width*t.rect.height}):[Zd.snapshot.layers[0]]}function Jn(e){var t=document.querySelector(".parent");t&&t.classList.remove("parent"),(t=e?document.querySelector(".layer[data-id='"+e+"']"):Ic)&&t.classList.add("parent")}function $n(e,t,n){var a=Zd.snapshot.width,r=e.rect,o=r.x,i=o+r.width,s=t.rect,l=s.x,c=l+s.width,u=!1,d=-1,m=-1;if(c<o)d=o-c,Jc.style.left=xe(c,a);else if(l<o&&c>i)d=o-l,Jc.style.left=xe(l,a),m=c-i,Qc.style.left=xe(i,a),tu.style.left=xe((o+i)/2,a),au.style.left=xe((o+i)/2,a),u=!0;else if(l>o&&c<i)d=l-o,Jc.style.left=xe(o,a),m=i-c,Qc.style.left=xe(c,a);else if(c>o&&c<i)d=o-l,Jc.style.left=xe(l,a),(p=c-o)>7&&(tu.style.left=xe((c+o)/2,a),au.style.left=xe((c+o)/2,a),u=!0);else if(l>o&&l<i){d=l-o,Jc.style.left=xe(o,a);var p=i-l;p>7&&(tu.style.left=xe((l+i)/2,a),au.style.left=xe((l+i)/2,a),u=!0)}else l>i&&(m=l-i,Qc.style.left=xe(i,a));-1!==d&&(Jc.style.width=xe(d,a),$c.textContent=Gd?we(d/n.rect.width,"%"):we(d),Jc.classList.remove("hidden")),-1!==m&&(Qc.style.width=xe(m,a),eu.textContent=Gd?we(m/n.rect.width,"%"):we(m),Qc.classList.remove("hidden")),u||(tu.style.left=xe((l+c)/2,a),au.style.left=xe((l+c)/2,a))}function Qn(e,t,n){var a=Zd.snapshot.height,r=e.rect,o=r.y,i=o+r.height,s=t.rect,l=s.y,c=l+s.height,u=!1,d=-1,m=-1;if(c<o)d=o-c,tu.style.top=xe(c,a);else if(l<o&&c>i)d=o-l,tu.style.top=xe(l,a),m=c-i,au.style.top=xe(i,a),Jc.style.top=xe((o+i)/2,a),Qc.style.top=xe((o+i)/2,a),u=!0;else if(l>o&&c<i)d=l-o,tu.style.top=xe(o,a),m=i-c,au.style.top=xe(c,a);else if(c>o&&c<i)d=o-l,tu.style.top=xe(l,a),(p=c-o)>7&&(Jc.style.top=xe((c+o)/2,a),Qc.style.top=xe((c+o)/2,a),u=!0);else if(l>o&&l<i){d=l-o,tu.style.top=xe(o,a);var p=i-l;p>7&&(Jc.style.top=xe((l+i)/2,a),Qc.style.top=xe((l+i)/2,a),u=!0)}else l>i&&(m=l-i,au.style.top=xe(i,a));-1!==d&&(tu.style.height=xe(d,a),nu.textContent=Gd?we(d/n.rect.height,"%"):we(d),tu.classList.remove("hidden")),-1!==m&&(au.style.height=xe(m,a),ru.textContent=Gd?we(m/n.rect.height,"%"):we(m),au.classList.remove("hidden")),u||(Jc.style.top=xe((l+c)/2,a),Qc.style.top=xe((l+c)/2,a))}function ea(e,t,n){Kn();var a=document.querySelector(".parent");a&&a.classList.remove("parent"),e&&t&&(e&&t&&e===t&&(Yd.querySelector(".layerWidth").textContent=Gd?we(Di.rect.width/n.rect.width,"%"):we(Di.rect.width),Yd.querySelector(".layerHeight").textContent=Gd?we(Di.rect.height/n.rect.height,"%"):we(Di.rect.height)),n&&Jn(n._id),$n(e,t,n),Qn(e,t,n))}function ta(e){if(e.stopPropagation(),Gd=e.altKey,Ti=null,Kn(),Ic.classList.remove("measuring"),e.target.classList.contains("layer")){if(e.target.classList.contains("selected")||Ic.classList.add("measuring"),Ti=Zd.snapshot.layers.find(function(t){return t._id===e.target.dataset.id}),Gd){var t=Gn(Di,Ti);Wi.arrayEqual(Kd,t,function(e,t){return e===t})||(Kd=t,hp=0)}else Kd=[],hp=0;ea(Di,Ti,Kd[hp])}else{var n=document.querySelector(".parent");n&&n.classList.remove("parent")}}function na(e){if(e.keyCode===Zeplin.KEY_CODE.ALT)if(e.preventDefault(),Gd=e.altKey,Xd&&_i)ra(_i);else{var t;Gd?t=(Kd=Gn(Di,Ti))[hp]:(Kd=[],hp=0),ea(Di,Ti,t)}}function aa(e){e.keyCode===Zeplin.KEY_CODE.ArrowUp?(e.preventDefault(),hp=(hp+1)%Kd.length,ea(Di,Ti,Kd[hp])):e.keyCode===Zeplin.KEY_CODE.ArrowDown&&(e.preventDefault(),hp=(hp-1+Kd.length)%Kd.length,ea(Di,Ti,Kd[hp]))}function ra(e){var t=Ic.getBoundingClientRect(),n=Zd.snapshot.width,a=Zd.snapshot.height,r=Di.rect.x,o=r+Di.rect.width,i=Di.rect.y,s=i+Di.rect.height;e!==_i&&(Gd=e.altKey),Kn(),Ti=null,_i=e,e.clientX<t.left&&(Jc.style.left=0,Jc.style.width=xe(r,n),$c.textContent=Gd?we(r/n,"%"):we(r),Jc.style.top=xe((i+s)/2,a),Jc.classList.remove("hidden")),e.clientY<t.top&&(tu.style.top=0,tu.style.height=xe(i,a),nu.textContent=Gd?we(i/a,"%"):we(i),tu.style.left=xe((r+o)/2,n),tu.classList.remove("hidden")),e.clientX>t.right&&(Qc.style.left=xe(o,n),Qc.style.width=xe(n-o,n),eu.textContent=Gd?we((n-o)/n,"%"):we(n-o),Qc.style.top=xe((i+s)/2,a),Qc.classList.remove("hidden")),e.clientY>t.bottom&&(au.style.top=xe(s,a),au.style.height=xe(a-s,a),ru.textContent=Gd?we((a-s)/a,"%"):we(a-s),au.style.left=xe((r+o)/2,n),au.classList.remove("hidden"))}function oa(e,t){function n(e){if(Wi.isElementVisible(e,qc))Ma();else{var n=e.getBoundingClientRect(),a=qc.scrollLeft,r=qc.scrollTop;n.left<0?a=qc.scrollLeft+n.left-60:n.right>qc.offsetWidth&&(a=n.right-qc.offsetWidth+60),n.top<92?r=qc.scrollTop+n.top-60-Mp-60:n.bottom>window.innerHeight&&(r=qc.scrollTop+(n.bottom-window.innerHeight)+60),"scrollTo"in Element.prototype?(qc.scrollTo({left:a,top:r,behavior:"smooth"}),setTimeout(function(){Ma()},450)):(qc.scrollLeft=a,qc.scrollTop=r,Ma())}t?H(t):Bc.lastElementChild.scrollIntoView()}if(e&&wi.users){Array.isArray(t)&&1===t.length&&(t=t[0]);var a="string"==typeof e?document.querySelector(".dot[data-id='"+e+"']"):e;a?a!==$d?(Dc.checked=!0,Oc.classList.remove("invisible"),Zn(),$d=a,wt(Pc),Lt(Pc),Pc.classList.remove("left","right"),Pc.classList.add(Em[new Qi.default(Lm[$d.dataset.color]).hexBase()],$d.dataset.position),Pc.classList.toggle("canRemoveNotes",Wi.permissions.canRemoveNotes(xi)),zc.innerHTML="&nbsp;",Zc.value="",Mc.classList.remove("hidden"),"undefined"===$d.dataset.id?(Pc.classList.add("open"),Pc.dataset.id="undefined",Mc.classList.add("composing"),cm[zd._id]&&cm[zd._id].comment&&(zc.innerHTML=Wi.escapeHTML(cm[zd._id].comment)+"&nbsp;",Zc.value=cm[zd._id].comment),setTimeout(function(){Zc.focus(),Zc.setSelectionRange(Zc.value.length,Zc.value.length)},4)):(Hd=zd.dots.find(function(e){return e._id===$d.dataset.id}),Pc.classList.add(Hd.status),$d.classList.remove("highlight"),Hd.comments.forEach(function(e){Ya(e,zd._id,Hd._id)}),H(t),Pc.dataset.id=Hd._id,cm[zd._id]&&cm[zd._id].reply&&cm[zd._id].reply[Hd._id]?(Mc.classList.add("composing"),zc.innerHTML=Wi.escapeHTML(cm[zd._id].reply[Hd._id])+"&nbsp;",Zc.value=cm[zd._id].reply[Hd._id],setTimeout(function(){Zc.focus(),Zc.setSelectionRange(Zc.value.length,Zc.value.length)},4)):(Va(),Mc.classList.remove("composing"))),"undefined"!==$d.dataset.id?setTimeout(function(){n($d)},200):Ma()):H(t):Zi.create({message:"Note not available anymore."})}}function ia(e){var t=document.importNode(yp.content,!0);switch(t.querySelector(".borderPosition").textContent=e.position,t.querySelector(".borderThickness").textContent=we(e.thickness),Fl.appendChild(t),e.fillType){case"color":Qe(e.color,Fl);break;case"gradient":et(e.gradient,Fl)}}function sa(e){if(Di){var t=new ts.default(Di),n=Array.from(_l.children);if("text"===t.type)return"string"==typeof e?_l.querySelector('.textStyleWrapper[data-id="'+e+'"]'):"object"==typeof e?n.find(function(n){var a=t.textStyles[n.dataset.index];return a&&new es.default(e).equals(a.font)}):void 0}}function la(e,t){function n(e,t){e.textContent=we(t,"text")}var a={name:{selector:".layerTextStyle .textStyleName",cb:function(e,t){e.value=t}},fontFace:{selector:".layerFontFace .fontFace"},fontSize:{selector:".layerFontSize",cb:n},textAlign:{selector:".layerTextAlign",cb:function(e,t){e.textContent=t?Wi.uppercaseFirst(t):""}},lineHeight:{selector:".layerLineHeight",cb:n},letterSpacing:{selector:".layerLetterSpacing",cb:function(e,t){t&&(e.textContent="android"===wi.type?Wi.round(t/wi.densityDivisor,2):we(t,"text"))}},color:{selector:".layerTextColor",cb:function(e,t){e.innerHTML="",t&&Qe(t,e)}},header:{selector:".typefaceHeader > h2 > span:nth-child(2)"}};for(var r in t){var o=a[r];if(o){var i=e.querySelector(o.selector);o.cb?o.cb(i,t[r]):i.textContent=t[r]}}}function ca(e){var t=document.getElementById("layerTextStyleTemplate"),n=document.importNode(t.content,!0).querySelector(".textStyleWrapper"),a=n.querySelector(".addTextStyle"),r=wi.findTextStyleEqual(e);r&&(n.classList.add("added"),n.dataset.id=r.id,e.name=r.name),la(n,e);var o=Wi.permissions.canManageTextStyles(xi);return n.querySelector(".textStyleName").readOnly=!o,a.classList.toggle("disabled",!o),$(a,!!r),n}function ua(e){return["turquoise","cornflower-blue","light-green","yellow","peach"][parseInt(e,10)]||"warm-gray-"+e}function da(e,t){function n(e,t){return'<span class="highlightedLayerContent" data-color-group="'+ua(t)+'">'+Wi.escapeHTML(e)+"</span>"}if(!t.length)return e;var a="",r=0;return t.forEach(function(t){var o=t.range,i=e.substring(o.start,o.end);if(o.start>r)a+=Wi.escapeHTML(e.substring(r,o.start));else if(o.start<r)return;-1===t.groupId?a+=Wi.escapeHTML(i):a+=n(i,t.groupId),r=o.end}),a+=Wi.escapeHTML(e.substring(r,e.length))}function ma(e){var t,n=e.getDefaultTextStyle(),a=[],r=0;return e.textStyles.forEach(function(e){if(n&&n.equals(e.font))t=-1;else{var o=a.find(function(t){return t.font.equals(e.font)});o?t=o.groupId:(t=r,r+=1)}a.push(Object.assign({},e,{groupId:t}))}),a}function pa(e){function t(t,n,a){var r=ca(t);return r.dataset.index=e.textStyles.findIndex(function(e){return e.font.equals(t)}),n>-1&&(la(r,{header:a}),r.dataset.colorGroup=ua(n)),_l.appendChild(r),r}var n=ma(e),a=[];if(_l.innerHTML="",1===n.length){var r=wi.findTextStyleEqual(n[0].font);"web"===wi.type&&r&&Xi.isHtmlTag(r.name)?ka(r.name,e.content):yd.classList.add("hidden")}else yd.classList.add("hidden");n.sort(function(e,t){return e.range.start-t.range.start}).forEach(function(n,r){if(!(a.indexOf(n.groupId)>-1)){var o=n.range,i=e.content.substring(o.start,o.end);t(n.font,n.groupId,i),a.push(n.groupId)}}),Al.innerHTML=da(e.content,n)}function fa(e,t,n,a){ft(t).then(function(e){Hl.className=e.lightness}),Hl.src=t.url,Hl.srcset=yt(n.contents),Hl.style.height=Math.min(e.rect.height/wi.densityDivisor+4,160)+"px",Wl.textContent=bt(n,a),Wl.title=bt(n,a);for(var r={},o=new Set,i=0;i<n.contents.length;i++){var s=n.contents[i];s.format in r?r[s.format]++:r[s.format]=1,o.add(s.density)}Vl.innerHTML="";for(var l in r){if("svg"===l)var c=n.contents.find(function(e){return"svg"===e.format});vt({aid:n._id,format:l,count:r[l],densities:o,percent:c&&c.optimized.percent},Vl)}Zl.classList.remove("hidden"),!("jpg"in r)||"svg"in r||"pdf"in r||(n.percent&&(Zl.querySelector(".assetExporter[data-format='"+n.percent.type+"'][data-aid='"+n._id+"']").querySelector(".assetStats").textContent=n.percent.diff),Vi.userPrefs.get("hideNoVectorAssetInfo").then(function(e){if(!e){var t=Hi.create({content:"This layer contains bitmap images, so no vector assets were generated.",hideCallback:function(){Vi.userPrefs.set("hideNoVectorAssetInfo",!0)}});Vl.appendChild(t)}})),"web"===wi.type&&Da(n,r,a)}function ha(){return"android"===wi.type?Promise.resolve("snakeCase"):Vi.projectPrefs.get(Bd.pid,"assetNamingConvention")}function ya(e){if(getSelection().removeAllRanges(),!gm&&e!==Yd&&(Array.from(document.querySelectorAll(".assetStyle")).forEach(function(e){e.dataset.exportType=""}),Kn(),Ic.classList.remove("measuring"),Yd&&Yd.classList.remove("selected"),Yd=null,Zd.snapshot.layers&&(Di=Zd.snapshot.layers.find(function(t){return t._id===e.dataset.id})))){Yd=e,Ti=Di,qi=Di.sourceId;var t=Di.rect.width,n=Di.rect.height,a=Di.rect.x,r=Di.rect.y,o=Di.rotation,i=Di.opacity,s=Di.borderRadius,l=Di.blendMode;if(Yd.classList.add("selected"),Yc.style.top=xe(r,Zd.snapshot.height),Xc.style.top="calc("+xe(r+n,Zd.snapshot.height)+" - 1px)",Gc.style.left=xe(a,Zd.snapshot.width),Kc.style.left="calc("+xe(a+t,Zd.snapshot.width)+" - 1px)",Vc.classList.remove("hidden"),Ic.addEventListener("mouseover",ta),document.addEventListener("keydown",na),document.addEventListener("keydown",aa),document.addEventListener("keyup",na),El.textContent=Di.name,Ll.textContent=we(a),wl.textContent=we(r),xl.textContent=we(t),Cl.textContent=we(n),kl.textContent=o||"",Dl.textContent=1===i?"":Math.round(100*i)+"%",Tl.textContent=we(0===s?null:s),ql.textContent="normal"===l?"":l,Fl.innerHTML="",Di.borders.forEach(ia),Nl.classList.toggle("hidden",!Di.borders.length),Ml.innerHTML="",Di.shadows.forEach(nt),Bl.classList.toggle("hidden",!Di.shadows.length),Di.blur?(Ul.textContent=Di.blur.type,zl.textContent=we(Di.blur.radius),Rl.classList.remove("hidden")):Rl.classList.add("hidden"),"text"===Di.type?pa(new ts.default(Di)):yd.classList.add("hidden"),jl.classList.toggle("textLayer","text"===Di.type),dd.classList.toggle("textLayer","text"===Di.type),Di.exportable){var c=Zd.snapshot.assets.find(function(e){return e.layerId?e.layerId===Di.sourceId:e.layerName===Di.name});if(c){var u=ht(c.contents);u?ha().then(function(e){fa(Di,u,c,e)}):(Zl.classList.add("hidden"),fd.classList.add("hidden"))}else Zl.classList.add("hidden"),fd.classList.add("hidden")}else Zl.classList.add("hidden"),fd.classList.add("hidden");Di.fills.length?(Pl.innerHTML="",Di.fills.forEach(function(e){tt(e,Pl)}),Ol.classList.remove("hidden")):Ol.classList.add("hidden"),Ca(),Qs.classList.remove("resourceView"),Qs.classList.add("layerView")}}function va(e){for(var t={},n=new Set,a=0;a<e.contents.length;a++){var r=e.contents[a];r.format in t?t[r.format]++:t[r.format]=1,n.add(r.density)}return!("jpg"in t)||"svg"in t||"pdf"in t||t.jpg!==t.png?"svg"in t?ba(e.contents.find(function(e){return"svg"===e.format})):Promise.resolve():Sa(e,n)}function ba(e){return e.optimized=Object.assign({},e,{url:Zeplin.urls.imgURL+"/svgo/"+encodeURIComponent(e.url)}),Promise.all([ja(e),ja(e.optimized)]).then(function(t){e.optimized.percent=Math.round((t[0].length-t[1].length)/t[0].length*100)})}function Sa(e,t){var n=0,a=0,r=0;return Promise.all(e.contents.map(ja)).then(function(o){t.forEach(function(e){var t=o.filter(function(t){return t.density===e}).reduce(function(e,t){return e[t.format]=t.length,e},{});a+=Number(t.jpg)/Number(t.png),r+=Number(t.png)/Number(t.jpg)}),a=Math.round(100-a/t.size*100),r=Math.round(100-r/t.size*100),a>=10?n={type:"jpg",diff:a}:r>=10&&(n={type:"png",diff:r}),n&&(e.percent=n)}).catch(function(){})}function ja(e){return fetch(e.url,{method:"HEAD"}).then(function(t){return{format:e.format,density:e.density,length:t.headers.get("Content-Length")}})}function Ea(e,t){var n=t||document.getElementById(e+"Style"),a=new as.default(n,{lineSeparator:"\n",theme:"theme-zeplin",indentUnit:2,lineWrapping:!0,lineNumbers:!0,lineNumberFormatter:function(){return"●"},readOnly:!0,cursorBlinkRate:-1,viewportMargin:1/0,styleSelectedText:!0});"layer"===e?ji=a:"guideline"===e?(Li=a).on("update",function(){var e=uc.querySelectorAll(".cm-comment");if(e&&e.length)for(var t=[yu,vu],n=cc.getBoundingClientRect(),a=0;a<t.length;a++){var r=e[a].getBoundingClientRect();t[a].style.top=r.top-n.top+uc.scrollTop-45+"px"}}):"asset"===e?Lc.push(a):"textLayer"===e&&(Ei=a)}function La(e){return Promise.all(e.map(function(e){return Vi.projectPrefs.get(Bd.pid,e)}))}function wa(e,t,n,a){var r=e.toReactStyle(wi.type,wi.densityDivisor,t,n,a),o=[];return Object.keys(r).length>1&&o.unshift(r),r=o.map(function(e){return Xi.toStyleRule("react",e,wi.getColorMapByFormat(n))}).join("\n\n"),{exportType:"react",content:r}}function xa(e,t){if("text"===Di.type)return{exportType:"xml",content:e.toAndroidXMLStyle(wi,t)}}function Ca(){Di&&bp[wi.type](new ts.default(Di)).then(function(e){e&&(ji.setOption("mode",vp[e.exportType]),ji.setValue(e.content),rc.value=e.content,ji.refresh())})}function ka(e,t){var n="<"+e+">"+t+"</"+e+">";yd.classList.remove("hidden"),Ei.setOption("mode","text/html"),Ei.setValue(n),vd.value=n,Ei.refresh()}function Da(e,t,n){if(!t.pdf){var a="img/"+encodeURIComponent(bt(e,n)),r=Xi.selectorize(Di.name).replace(".","")||"layer",o=0;fd.classList.remove("hidden");var i=Object.keys(t);i.forEach(function(e){var t="";"png"===e?t='<img src="'+a+'.png"\n     srcset="'+a+"@2x.png 2x,\n             "+a+'@3x.png 3x"\n     class="'+r+'">':"svg"===e?t='<img src="'+a+'.svg"\n     class="'+r+'">':"jpg"===e&&(t='<img src="'+a+'.jpg"\n     srcset="'+a+"@2x.jpg 2x,\n             "+a+'@3x.jpg 3x"\n     class="'+r+'">'),Ta(e,t,o),o++}),document.querySelector(".assetStyle.secondary").classList.toggle("hidden",1===i.length),document.querySelector(".assetStyle.primary").classList.toggle("singleStyle",1===i.length)}}function Ta(e,t,n){var a=!1;Array.from(document.querySelectorAll(".assetStyle")).forEach(function(r){if(!(a||r.dataset.exportType&&r.dataset.exportType!==e)){a=!0,t="\x3c!-- "+e+" --\x3e\n\n"+t,r.dataset.exportType=e,r.querySelector("button").dataset.exportType=e;var o=Lc[n];o.setOption("mode","text/html"),o.setValue(t),r.querySelector("textarea").value=t,o.refresh()}})}function qa(){ac.classList.remove("hidden"),Ep[1].name=jp[wi.type],document.querySelector(".sampleColors .color:nth-child(2) .colorName").textContent=jp[wi.type];var e,t="color palette";wi.colors&&wi.colors.length?(e=wi.colors,uc.classList.add("projectColor")):(e=Ep,t="sample "+t);var n,a="text styles";wi.textStyles&&wi.textStyles.length?(n=wi.textStyles,uc.classList.add("projectTextStyle")):(n=Lp[wi.type],a="sample "+a),Sp[wi.type](Wi.uppercaseFirst(t),e,Wi.uppercaseFirst(a),n).then(function(e){oc.value=e.colorStyle,ic.value=e.textStyle,Li.setOption("mode",vp[e.exportType]),Li.setValue(e.allStyles),lc.value=e.allStyles,Li.refresh()})}function _a(){return document.querySelector('input[type="radio"][name="dotListingsStatusFilter"]:checked').value}function Ia(e,t){e&&(t&&(document.querySelector('input[type="radio"][name="dotListingsStatusFilter"][value="'+e+'"]').checked=!0),Oc.dataset.statusFilter=e,He(zd.dots),Vi.projectPrefs.set(Bd.pid,"dotListingsStatusFilter",e))}function Aa(e,t){document.querySelector("#colorFormat span").textContent=Cm[t],hc.querySelector("span").textContent=Cm[t],document.querySelector("input[name='"+e+"'][value='"+t+"']").checked=!0,"web"===wi.type&&oi(t),Vi.projectPrefs.set(Bd.pid,"styleColorFormat",t).then(function(){Ca(),qa()})}function Oa(e,t){document.querySelector("input[name='"+e+"'][value='"+t+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"androidLineSpacingType",t).then(function(){Ca(),qa()}),Array.from(document.querySelectorAll(".lineSpacingType")).forEach(function(e){e.querySelector("span").textContent=t})}function Pa(){Dc.checked=!0,Oc.classList.remove("invisible"),Oc.addEventListener("transitionend",function e(){Oc.removeEventListener("transitionend",e),setTimeout(function(){Oc.classList.remove("flashing")},200)}),Oc.classList.add("flashing"),_c.classList.add("noteMode"),Ap=!0}function Na(){_c.classList.remove("noteMode"),Ap=!1}function Fa(e){var t=e.getBoundingClientRect(),n=Pc.getBoundingClientRect(),a=Np,r=Np,o=Mp,i=!1;t.right<=0?(i=!0,a=Np):t.left>=qc.offsetWidth?(i=!0,a=qc.offsetWidth-Np-n.width):t.left<=n.width+Np+Fp?(Pc.classList.remove("left"),Pc.classList.add("right"),a=t.right+Fp):t.right+Fp+n.width+Np>=qc.offsetWidth?(Pc.classList.remove("right"),Pc.classList.add("left"),a=t.left-Fp-n.width):(Pc.classList.remove("left","right"),Pc.classList.add(e.dataset.position),a="left"===e.dataset.position?t.left-Fp-n.width:t.right+Fp),t.top<=qc.offsetTop+Bp+Np?(i=!0,r=qc.offsetTop+Np):t.bottom>=window.innerHeight-Bp?(i=!0,r=window.innerHeight-n.height-Np):t.top>=window.innerHeight-n.height+Bp-Np?(r=window.innerHeight-n.height-Np,o=t.top-r+Np):t.top+n.height-Mp>window.innerHeight?(i=!0,r=window.innerHeight-n.height-Np):r=t.top-Bp,Pc.classList.toggle("overflown",i),Pc.style.transform="translate("+a.toFixed()+"px, "+r.toFixed()+"px)",Nc.style.top=o+"px"}function Ba(){$d&&!Rp&&(requestAnimationFrame(function(){Fa($d),Rp=!1}),Rp=!0)}function Ma(){Pc.classList.remove("hidden"),Fa($d),qc.addEventListener("scroll",Ba)}function Ra(e){var t=(e=new URL(e)).origin===location.origin,n="zpl:"===e.protocol;if(t||n){var a={};if(e.hash||n){var r=(n?e.search||e.href.substring(e.href.indexOf("?")):e.hash).replace("&amp;","&").substring(1),o=Wi.parseUrlParams(r);if(!("pid"in o))return;return a.url={pid:o.pid[0]},"sid"in o?a.url.sid=o.sid[0]:t&&"styleguide"in o||n&&(e.pathname.startsWith("//styleguide")||e.pathname.startsWith("//guideline"))?a.subpage="styleguide":a.subpage="dashboard",a}var i=B(e.pathname);if(i){Object.assign(a,{url:i});var s=e.pathname.match(/\/(dashboard|styleguide)$/);return s&&(a.subpage=s[1]),e.search&&Object.assign(a,Wi.parseUrlParams(e.search.replace("&amp;","&"))),a}}}function Ua(e){return function(t){switch(t.getType()){case"url":if(t.protocolRelativeMatch)return!1;var n=Ra(t.getUrl());if(n&&"pid"in n.url&&n.url.pid===wi.id){var a="project-dashboard",r="Dashboard",o=["link"];if("sid"in n.url){a="project-screen";var i=wi.screens.find(function(e){return e._id===n.url.sid});o.push("screenLink"),r=i?i.name:"unknown"}return"subpage"in n&&"styleguide"===n.subpage&&(a="project-styleguide",r="Styleguide"),delete n.subpage,e.push('<a href="'+Wi.urlResolve(a,n)+'" class="'+o.join(" ")+'" data-link-type="inApp">'+r+"</a>"),"{{link:"+(e.length-1)+"}}"}var s=t.buildTag();return s.setAttr("rel","nofollow external noopener noreferrer"),e.push(s.toAnchorString()),"{{link:"+(e.length-1)+"}}";case"email":return e.push(t.buildTag().toAnchorString()),"{{link:"+(e.length-1)+"}}";default:return!1}}}function za(e){return e.replace(/#([\w-]+)/g,function(e,t){var n=wi.findColorByName(t);return n?'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+n.toCSS()+'"></span></span>':/#[\da-f]{6}/i.test(e)?(n=wi.findColorByHexAndAlpha({hex:e}),n?'<span class="color">#'+n.name+'<span class="colorPreview" style="background-color:'+e+'"></span></span>':'<span class="color">'+e+'<span class="colorPreview" style="background-color:'+e+'"></span></span>'):e})}function Za(e){return e.replace(Ii,function(e){return'<span class="user'+(em.test(e)?" self":"")+'">'+e+"</span>"})}function Ha(e,t){var n=[],a=new rs.default({stripPrefix:!1,className:"link",phone:!1,twitter:!1,hashtag:!1,replaceFn:Ua(n)});return(t=t||[]).reduce(function(e,t){return t(e)},a.link(Wi.escapeHTML(e))).replace(/{{link:(\d+)}}/g,function(e,t){return n[parseInt(t,10)]})}function Wa(e){return Ha(e,[za,Za])}function Va(){Uc.textContent=Bc.lastElementChild.classList.contains("commentOwner")?"POST":"REPLY"}function Ya(e,t,n){delete e.status;var a=document.importNode(Up.content,!0);Ka(a.querySelector(".comment"),e,t,n),Bc.appendChild(a);var r=Bc.lastElementChild,o=r.querySelector(".commentNote"),i=r.querySelector(".commentMirror");return o.addEventListener("input",function(){$a(o,i)}),o.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:$a(o,i)}}),r}function Ka(e,t,n,a){var r=Ue(t.author,!0);Wi.setAvatar(e.querySelector(".commentAuthorImage"),r&&r.user),e.querySelector(".commentAuthorName").textContent=r?r.user.username:"Anonymous",e.dataset.id=t._id,t.author&&t.author!==Zeplin.user._id?e.classList.remove("commentOwner"):e.classList.add("commentOwner");var o=new Date(t.created),i=new Date(t.updated);e.querySelector(".commentLink").href=Wi.urlResolve("project-screen",{url:{pid:wi.id,sid:n},query:{did:a,cmid:t._id}}),e.querySelector(".commentCreated").setAttribute("datetime",o),e.querySelector(".commentMirror").innerHTML=Wa(t.note),e.querySelector(".commentMirror").classList.toggle("jumboEmojis",Me(t.note)),e.querySelector(".commentEdited").setAttribute("datetime",i-o>3e5?i:"")}function Xa(e,t,n){var a=ds.replace(/:(\w+):/g,Zc.value.trim());if(a){var r=e._id,o=t._id,i=Ya({author:Zeplin.user._id,note:a,created:Date.now(),updated:Date.now()},r,o);Fa(document.querySelector(".dot[data-id='"+o+"']")),i.style.opacity=.5,Wi.scrollIfNecessary(i),Va(),Mc.classList.remove("composing"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+r+"/dots/"+o+"/comments",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({note:a})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(r){t.comments.push(r),He(e.dots),zc.innerHTML="&nbsp;",Zc.value="",i.dataset.id=r._id,i.removeAttribute("style"),n?mixpanel.track("Created comment with reaction",{reaction:a}):mixpanel.track("Created comment")}).catch(function(e){i.remove(),Mc.classList.add("composing"),Zc.focus(),Yi.handleError(e)})}}function Ga(e,t,n,a){var r=e.querySelector(".commentMirror"),o=e.querySelector(".commentNote"),i=ds.replace(/:(\w+):/g,o.value.trim());if(i&&(r.innerHTML=Wa(i),r.classList.toggle("jumboEmojis",Me(i)),e.classList.remove("editing"),Mc.classList.remove("hidden"),a.note!==i)){var s=t._id,l=n._id,c=e.dataset.id;e.style.opacity=.5,fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+s+"/dots/"+l+"/comments/"+c+"/note",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({note:i})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){a.note=i,He(t.dots),Ka(e,a,s,l),e.removeAttribute("style"),mixpanel.track("Edited comment")}).catch(function(t){e.removeAttribute("style"),e.classList.remove("jumboEmojis"),e.classList.add("editing"),Mc.classList.add("hidden"),o.focus(),Yi.handleError(t)})}}function Ja(e,t,n){var a=t._id,r=n._id,o=e.dataset.id,i=Oc.querySelector(".dot[data-id='"+r+"']");1===n.comments.length?(Zn(),i.classList.add("hidden")):(e.style.height=getComputedStyle(e).height,e.style.height=0,e.style.padding="0 6px 0 12px"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+a+"/dots/"+r+"/comments/"+o,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){1===n.comments.length?(Cr(t,r),i.remove(),Hd=null,$d=null,Bc.innerHTML="",Bc.scrollTop=0):(kr(n,o),e.remove(),Va(),Fa(i)),He(t.dots),mixpanel.track("Deleted comment")}).catch(function(t){1===n.comments.length?(Pc.classList.remove("hidden"),i.classList.remove("hidden")):e.removeAttribute("style"),Yi.handleError(t)})}function $a(e,t){if(t.innerHTML=Wi.escapeHTML(e.value)+"&nbsp;",e.selectionStart===e.selectionEnd){var n=Wi.getFirstInvalidCharIndex(e.value.substring(0,e.selectionStart),!0);if("@"===e.value.charAt(n)){var a=ms.manageSuggestedUsers(e,t,wi);a&&(a.style.bottom="",Pc.appendChild(a),ms.open(),a.getBoundingClientRect().bottom+12>=window.innerHeight&&(a.style.bottom="42px"))}else if(e.value.includes(":")){var r=ds.manageSuggestedEmojis(e,t);r&&(r.style.top="",r.style.bottom="",Pc.appendChild(r),ds.open(),r.getBoundingClientRect().bottom+12>=window.innerHeight&&(r.style.bottom="42px"))}else ms.close(),ds.close()}}function Qa(e){var t=new URL(e.url);nr(t.toString()).then(function(t){var n=new URL(t);e.shortUrl=t,_s.textContent=n.host+n.pathname,_s.classList.remove("fetching")}).catch(function(){e.shortUrl=t.toString(),_s.textContent=t.host+t.pathname,_s.classList.remove("fetching")})}function er(e){var t=e._id,n=new URL(Wi.urlResolve("project-screen",{url:{pid:wi.id,sid:t}}));(e.url?Promise.resolve(e.url):nr(n.toString()).catch(function(){return n.toString()})).then(function(t){var n=new URL(t);e.url=t,kd.querySelector(".screenLink.web").classList.remove("fetching"),kd.querySelector(".screenLink.web").textContent=n.host+n.pathname}),kd.querySelector(".screenLink.app").classList.remove("fetching"),kd.querySelector(".screenLink.app").textContent="zpl://screen?pid="+wi.id+"&sid="+t,kd.querySelector(".openInApp").href="zpl://screen?pid="+wi.id+"&sid="+t}function tr(){nr(wi.sceneUrl,"scene").then(function(e){wi.sceneUrl=e,Xu.textContent=e,Gu.href=e}).then(function(){Hu.classList.remove("loading"),Wu.disabled=!1,Ku.classList.add("hidden"),Yu.classList.remove("hidden")})}function nr(e,t){var n=Zeplin.urls.baseURL+"/urls"+(t?"?path="+t:"");return fetch(n,{method:"POST",headers:Zeplin.headers,body:JSON.stringify({url:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(e){return e.url}).catch(function(e){throw Yi.handleError(e),e})}function ar(e){var t="#text"===e.target.nodeName?e.target.nextElementSibling?e.target.nextElementSibling:e.target.parentElement:e.target,n=(t.id?t.id:t.className).replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}).replace(/^./,function(e){return e.toUpperCase()}).replace(/ with label$/,"");n&&-1===["Sidebar row","No border","No screen colors","No screen assets","No color message"].indexOf(n)&&mixpanel.track("Copied something from "+e.currentTarget.id.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()}),{type:n})}function rr(){"web"===wi.type?mixpanel.track("Copied layer style",{type:document.querySelector("input[name='webStyleExportType']:checked").value,showDimensions:Gl.checked,unitlessLineHeight:Jl.checked,useMixin:$l.checked,showDefaultValues:Ql.checked}):"ios"!==wi.type&&"osx"!==wi.type||mixpanel.track("Copied attributed string style",{type:document.querySelector("input[name='"+wi.type+"StyleExportType']:checked").value,deploymentTarget:document.querySelector("input[name='"+wi.type+"DeploymentTarget']:checked").value})}function or(e){mixpanel.track("Copied asset style",{type:e})}function ir(){mixpanel.track("Copied text layer style html")}function sr(e){mixpanel.track("Selected asset naming convention",{projectType:wi.type,convention:e})}function lr(){var e=document.querySelector(".colorMenu");e&&e.remove()}function cr(e,t){var n=new Date;return"//\n//  UI"+t+"+"+Ks.value+"."+e+"\n//  "+wi.name+"\n//\n//  Generated on Zeplin. (by "+Zeplin.user.username+" on "+n.toLocaleDateString()+").\n//  Copyright (c) "+n.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function ur(e,t){var n=new Date;return"//\n//  NS"+t+"+"+Gs.value+"."+e+"\n//  "+wi.name+"\n//\n//  Generated on Zeplin. (by "+Zeplin.user.username+" on "+n.toLocaleDateString()+").\n//  Copyright (c) "+n.getFullYear()+" __MyCompanyName__. All rights reserved.\n//\n\n"}function dr(e,t){return"@implementation UIColor ("+t+")\n\n"+e.map(function(e){var t=Wi.roundToFloatString(e.a,2),n="+ (UIColor *)"+(wi.prefix?wi.prefix+"_":"")+Wi.lowercaseFirst(e.name)+"Color { \n";return e.r===e.g&&e.g===e.b?n+="    return [UIColor colorWithWhite:"+Wi.normalizeObjCColor(e.r):n+="    return [UIColor colorWithRed:"+Wi.normalizeObjCColor(e.r)+"green:"+Wi.normalizeObjCColor(e.g)+"blue:"+Wi.normalizeObjCColor(e.b),n+"alpha:"+t+"f];\n}"}).join("\n\n")+"\n\n@end"}function mr(e,t){return"extension UIColor {\n"+e.map(function(e){var n,a=Wi.roundToFloatString(e.a,2),r=(wi.prefix||"")+(wi.prefix?Wi.uppercaseFirst(e.name):Wi.lowercaseFirst(e.name));return n="swift2"===t?"  class func "+r+"Color() -> ":"  class var "+r+": ",n+="UIColor {\n",e.r===e.g&&e.g===e.b?n+="    return UIColor(white: "+Wi.normalizeSwiftColor(e.r):n+="    return UIColor(red: "+Wi.normalizeSwiftColor(e.r)+"green: "+Wi.normalizeSwiftColor(e.g)+"blue: "+Wi.normalizeSwiftColor(e.b),n+"alpha: "+a+")\n  }"}).join("\n\n")+"\n}"}function pr(e,t,n){var a={deploymentTarget:n,prefix:wi.prefix,densityDivisor:wi.densityDivisor};return"@implementation UIFont ("+t+")\n\n"+e.map(function(e){return e.generateTextStyleCode("ios",a,"objc")}).join("\n\n")+"\n\n@end"}function gr(e,t,n){var a={deploymentTarget:t,prefix:wi.prefix,densityDivisor:wi.densityDivisor,type:n};return"extension UIFont {\n"+e.map(function(e){return e.generateTextStyleCode("ios",a,"swift")}).join("\n\n")+"\n};"}function fr(e,t){return"@implementation NSColor ("+t+")\n\n"+e.map(function(e){var t=Wi.roundToFloatString(e.a,2),n="+ (NSColor *)"+(wi.prefix?wi.prefix+"_":"")+Wi.lowercaseFirst(e.name)+"Color {\n";return e.r===e.g&&e.g===e.b?n+="    return [NSColor colorWithCalibratedWhite:"+Wi.normalizeObjCColor(e.r):n+="    return [NSColor colorWithCalibratedRed:"+Wi.normalizeObjCColor(e.r)+"green:"+Wi.normalizeObjCColor(e.g)+"blue:"+Wi.normalizeObjCColor(e.b),n+"alpha:"+t+"f];\n}"}).join("\n\n")+"\n\n@end"}function hr(e,t){return"extension NSColor {\n"+e.map(function(e){var n,a=Wi.roundToFloatString(e.a,2),r=(wi.prefix||"")+(wi.prefix?Wi.uppercaseFirst(e.name):Wi.lowercaseFirst(e.name));return n="swift2"===t?"  class func "+r+"Color() -> ":"  class var "+r+": ",n+="NSColor {\n",e.r===e.g&&e.g===e.b?n+="    return NSColor(calibratedWhite: "+Wi.normalizeSwiftColor(e.r):n+="    return NSColor(calibratedRed: "+Wi.normalizeSwiftColor(e.r)+"green: "+Wi.normalizeSwiftColor(e.g)+"blue: "+Wi.normalizeSwiftColor(e.b),n+"alpha: "+a+")\n  }"}).join("\n\n")+"\n}"}function yr(e,t,n){var a={deploymentTarget:n,prefix:wi.prefix,densityDivisor:wi.densityDivisor};return"@implementation NSFont ("+t+")\n\n"+e.map(function(e){return e.generateTextStyleCode("osx",a,"objc")}).join("\n\n")+"\n\n@end"}function vr(e,t,n){var a={deploymentTarget:t,prefix:wi.prefix,densityDivisor:wi.densityDivisor,type:n};return"extension NSFont {\n"+e.map(function(e){return e.generateTextStyleCode("osx",a,"swift")}).join("\n\n")+"\n}"}function br(e,t,n){return t.map(function(t){return Hp[e].prefix+t.name+Hp[e].midfix+t.toCSS(n)+Hp[e].suffix}).join("")}function Sr(e,t,n,a){var r={type:e,densityDivisor:wi.densityDivisor,unitlessLineHeight:t,colorMap:wi.getColorMapByFormat(a),colorFormat:a};return n.filter(function(e){return!Xi.isHtmlTag(e.name)}).map(function(e){return e.generateMixinCode(r)}).join("\n")}function jr(e,t,n,a,r,o){var i={type:e,densityDivisor:wi.densityDivisor,unitlessLineHeight:t,colorFormat:r,colorMap:wi.getColorMapByFormat(r),defaultValues:o},s=n;return a&&(s=s.filter(function(e){return Xi.isHtmlTag(e.name)})),s.map(function(e){return e.generateTextStyleCode("web",i)}).join("\n\n")}function Er(e,t){return"const colors = {\n"+e.map(function(e){return"  "+e.name+': "'+e.toCSS(t)+'"'}).join(",\n")+"\n};"}function Lr(e,t,n){var a={densityDivisor:wi.densityDivisor,colorFormat:t,defaultValues:n},r=e.reduce(function(e,t){var n;if(t.color){var r=wi.findColorEqual(t.color);n=Object.assign({},a,{projectColor:r})}else n=a;var o=t.generateTextStyleCode("ios",n,"react");return Object.assign(e,o)},{});return"const textStyles = StyleSheet.create("+(r=JSON.stringify(r,null,2)).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+");"}function wr(e){return"<resources>\n"+e.map(function(e){return'  <color name="'+e.name.replace(/([A-Z])/g,function(e,t,n){return(n?"_":"")+e.toLowerCase()})+'">'+e.toHexString(!0)+"</color>"}).join("\n")+"\n</resources>"}function xr(e,t){var n={lineSpacingType:t,dimensionSuffix:wi.textDimensionSuffix,densityDivisor:wi.densityDivisor};return"<resources>\n"+e.map(function(e){var t;if(e.color){var a=wi.findColorEqual(e.color);t=Object.assign({},n,{projectColor:a})}else t=n;return e.generateTextStyleCode("android",t)}).join("\n")+"\n</resources>"}function Cr(e,t){return Wi.arrayRemove(e.dots,function(e){return e._id===t})}function kr(e,t){return Wi.arrayRemove(e.comments,function(e){return e._id===t})}function Dr(e){wi.removeTextStyle(e);var t=sa(e);if(t&&(t.removeAttribute("data-id"),t.classList.remove("added"),la(t,{name:""}),$(t.querySelector(".addTextStyle"),!1)),wi.textStyles.length){var n=iu.querySelector(".font[data-id='"+e+"']");n&&n.remove()}else iu.innerHTML="";qa(),Ca(),Ge()}function Tr(e){window.Notification&&"granted"===Notification.permission&&Vi.userPrefs.get("notificationStatus").then(function(t){if(t){var n=new Notification(e.title,{body:e.body,icon:"https://secure.gravatar.com/avatar/"+(0,is.default)(e.notifier.email)+"?s=160",name:0});n.addEventListener("show",function(){setTimeout(n.close.bind(n),5e3)}),"handler"in e&&n.addEventListener("click",e.handler)}})}function qr(e){wi.name=e,ie(),Es.value=e}function _r(e){ne(e),zd&&(Ft(Zd.snapshot,"density"),_t(Zd.snapshot.grid)),Ca(),qa(),Ge()}function Ir(e){e=e.toLowerCase();var t,n=[],a=[],r=[],o=[];wi.screens.forEach(function(i){var s=i.name.toLowerCase();s.startsWith(e)?n.push(i):Wi.startsWith(s,e)?a.push(i):(t=Pr(i,e))?r.push(Object.assign({filterTag:t},i)):s.includes(e)&&o.push(i)}),nm=n.sort(Wi.sortBy.name).concat(a.sort(Wi.sortBy.name)).concat(r.sort(Wi.sortBy.name)).concat(o.sort(Wi.sortBy.name)),gu.classList.toggle("noScreen",!nm.length),mu.innerHTML="",nm.forEach(Ar),nm.length&&(Ai=nm[0],mu.querySelector(".screenSuggestion[data-id='"+Ai._id+"']").classList.add("selected"))}function Ar(e,t){var n=document.importNode(Wp.content,!0),a=n.querySelector(".screenSuggestion");a.dataset.id=e._id,a.dataset.index=t,n.querySelector(".screenName").textContent=e.name,n.querySelector(".tagName").textContent=e.filterTag||"",mu.appendChild(n)}function Or(){du.value="",du.blur(),mu.innerHTML="",uu.classList.add("hidden")}function Pr(e,t){return e.tags&&e.tags.find(function(e){return e.toLowerCase().includes(t)})}function Nr(e){e.target.parentElement.classList.contains("added")?Fr(e.target.parentElement):Br(e)}function Fr(e){if(Wi.permissions.canManageColors(xi)){var t=e.dataset.id;"colorPalette"===e.parentElement.id?e.classList.add("hidden"):e.classList.remove("added"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/colors/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){am=!0,Rr(e.dataset.id)}).catch(function(t){Yi.handleError(t),am=!0,"colorPalette"===e.parentElement.id?e.classList.remove("hidden"):(e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"))})}}function Br(e){if(Wi.permissions.canManageColors(xi)){var t=e.target.parentElement,n=new Qi.default(JSON.parse(t.dataset.rgbcolor)),a={r:n.r,g:n.g,b:n.b,a:n.a,name:wi.getColorName(n)};t.querySelector(".colorName").value="#"+a.name,t.classList.add("added"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/colors",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(a)}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(e){am=!0,a._id=e._id,Mr(a),Wi.showToast("Added to Styleguide!",Qs)}).catch(function(e){Yi.handleError(e),am=!0,t.querySelector(".colorName").value="",t.classList.remove("added")})}}function Mr(e){var t=new Qi.default(e);wi.addColor(t),$e(t);var n=document.querySelectorAll(".color[data-color='"+t.toHexString()+"']");Array.from(n).forEach(function(e){e.dataset.id=t.id,e.querySelector(".colorName").value="#"+t.name,e.querySelector(".colorName").classList.remove("hidden"),e.classList.add("added"),J(e.querySelector(".addColor"),!0)}),Ca(),qa(),Ge(),Vn()}function Rr(e){wi.removeColor(e);var t=Qs.querySelectorAll(".color[data-id='"+e+"']");if(Array.from(t).forEach(function(e){e.querySelector(".colorName").value="",e.classList.remove("added"),J(e.querySelector(".addColor"),!1)}),wi.colors.length){var n=$s.querySelector(".color[data-id='"+e+"']");n&&n.remove()}else $s.innerHTML="";Ca(),qa(),Ge(),Vn()}function Ur(e,t){wi.updateColor(e,t);var n=$s.querySelector(".color[data-id='"+e+"']");if("name"in t){var a=Qs.querySelectorAll(".color[data-id='"+e+"'] .colorName");Array.from(a).forEach(function(e){e.value="#"+t.name}),n.querySelector(".colorName").value=t.name}if("r"in t||"g"in t||"b"in t||"a"in t){var r=wi.findColorById(e),o=Qs.querySelectorAll(".color[data-id='"+e+"']");Array.from(o).forEach(function(e){e.querySelector(".colorName").textContent="",e.classList.remove("added"),e.removeAttribute("data-id"),J(e.querySelector(".addColor"),!1)}),o=Qs.querySelectorAll(".color[data-color='"+r.toHexString()+"']"),Array.from(o).forEach(function(t){t.querySelector(".colorName").value="#"+r.name,t.classList.add("added"),t.dataset.id=e,J(t.querySelector(".addColor"),!0)}),n.querySelector(".colorPreview").style.backgroundColor=r.toCSS(),n.querySelector(".colorHex").value=r.hexBase(),n.querySelector(".colorAlpha").value=Math.round(100*r.a),n.querySelector(".colorRGB").textContent=r.toRGBAString()}Ca(),qa(),Ge(),Vn()}function zr(e,t,n){if(Wi.permissions.canManageColors(xi)){var a=n.dataset.id;fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/colors/"+a,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){Ur(a,e)}).catch(function(e){Yi.handleError(e),n.querySelector(".colorName").value=(n.querySelector(".colorNameForm")?"#":"")+t.name,n.querySelector(".colorHex").value=t.hexBase(),n.querySelector(".colorAlpha").value=t.a?100*t.a:100})}}function Zr(e){Jo();var t=document.importNode(Vp.content,!0),n=t.querySelector(".memberMenu"),a=e.dataset.id;n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"assign":Wr(a,"admin",e);break;case"unassign":Wr(a,"user",e);break;case"transfer":Zi.create({message:'Transfer ownership of "'+wi.name+'" to '+e.querySelector(".memberName").textContent+"?",done:{name:"TRANSFER",cb:function(){Yr(a)}},cancel:{name:"CANCEL"}});break;case"remove":var r,o;a===Zeplin.user._id?(r='Leave "'+wi.name+'"?',o="LEAVE"):(r='Remove "'+e.querySelector(".memberName").textContent+'" ?',o="REMOVE"),Zi.create({message:r,done:{name:o,cb:function(){Vr(a)}},cancel:{name:"CANCEL"}})}setTimeout(function(){Hr()},80)}}});var r=Ue(a);_(xi.role)?(n.querySelector(".menuitem[data-action='assign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='unassign']").classList.add("hidden"),n.querySelector(".menuitem[data-action='transfer']").classList.add("hidden")):(n.querySelector(".menuitem[data-action='assign']").classList.toggle("hidden","user"===xi.role||"user"!==r.role),n.querySelector(".menuitem[data-action='unassign']").classList.toggle("hidden","user"===xi.role||"admin"!==r.role),n.querySelector(".menuitem[data-action='transfer']").classList.toggle("hidden",!Wi.permissions.canTransferOwnership(xi))),n.querySelector(".menuitem[data-action='remove']").classList.toggle("hidden","owner"===r.role||Wi.permissions.isSuperior(r,xi)),e.classList.add("memberMenuOpen"),e.appendChild(t)}function Hr(){var e=document.querySelector(".memberMenu");e&&(e.parentElement.classList.remove("memberMenuOpen"),e.remove())}function Wr(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/users/"+e+"/role",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({role:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){n.dataset.role=t,wi.changeUserRole(e,t),F(wi.users)}).catch(Yi.handleError)}function Vr(e){fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/users/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){wi.removeUser(e),e===Zeplin.user._id?(Zn(),se()):(F(wi.users),Ki.removeUser(wi.id,e),Vn())}).catch(Yi.handleError)}function Yr(e){fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/users/"+e+"/ownership",{method:"POST",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){wi.changeUserRole(Zeplin.user._id,"admin"),wi.changeUserRole(e,"owner"),F(wi.users)}).catch(Yi.handleError)}function Kr(e,t,n){Wi.permissions.canManageScreens(xi)&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).catch(function(t){wi.screens.find(function(t){return t._id===e}).name=n,qn().then(function(){Yi.handleError(t,{dialogCallback:function(){var t=je(e);t.querySelector(".screenNameMirror").classList.add("hidden"),Wi.highlightInput(t.querySelector(".screenName"))}})})})}function Xr(e){Wi.permissions.canUpdateProject(xi)&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/name",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({name:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(e){qr(e.name),re(e.prefix,!0)}).catch(function(e){Yi.handleError(e,{dialogCallback:function(){Wi.highlightInput(Es)}})})}function Gr(e){if(Wi.permissions.canUpdateProject(xi)){var t=Co(e);fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/thumbnail",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({thumbnail:t.versions[0].snapshot.url})})}}function Jr(e){var t=Co(e);return rt(t.versions[0].snapshot).then(function(e){var n=new Blob([e.data],{type:Sm.png}),a=t.name+".png";return{data:URL.createObjectURL(n),name:a}})}function $r(e){if(document.body.classList.contains("canDownload"))Jr(e).then(ut);else{var t=Co(e).versions[0].snapshot.url;t.includes("raven-warehouse")||(t="https://cdn.zeplin.io"+new URL(t).pathname),q(t)}}function Qr(e){var t=je(e),n=wi.findScreenSection(e);return t&&t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){wi.removeScreen(n._id,e)},function(e){Yi.handleError(e),t&&t.classList.remove("hidden")}).catch(Yi.handleError)}function eo(e,t){var n=Kp.querySelector(".integration[data-id='"+t+"']");n&&n.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/integrations/"+e+"/"+t,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){n&&n.remove(),wi.removeIntegration(e,t),wi.integration[e].length||(Kp.classList.add("hidden"),Cd.classList.remove("hidden"))}).catch(function(e){Yi.handleError(e),n&&n.classList.remove("hidden")})}function to(){var e=document.querySelector(".slackSettingsMenu");e&&(e.parentElement.classList.remove("slackMenuOpen"),e.remove())}function no(e){Kp.innerHTML="",e.reverse().forEach(ao),Cd.classList.add("hidden"),Kp.classList.remove("hidden")}function ao(e){var t=document.importNode(Xp.content,!0).querySelector(".integration"),n=t.querySelector(".slackChannel"),a=new URL(e.incomingWebHook.configurationURL);n.textContent=e.incomingWebHook.channel,n.href=a.origin+"/messages/"+(e.incomingWebHook.channelId||e.incomingWebHook.channel.replace("#","")),t.dataset.id=e._id,Kp.appendChild(t)}function ro(e,t){t.value=t.value.trim();var n=wi.findTextStyleById(e),a=t.value;a.length?n.name!==a&&Eo(e,{name:a}):t.value=n.name}function oo(e,t,n){if(t.name!==e){var a=(n.querySelector(".colorNameForm")?"#":"")+t.name;e&&!xm[wi.type].test(e)?wi.checkDuplicateColorName(e,t)?(Zi.create({title:e+" already exists",message:"Please enter another name for this color.",done:{name:"GOT IT"}}),n.querySelector(".colorName").value=a):zr({name:e},t,n):n.querySelector(".colorName").value=a}}function io(e,t,n){mixpanel.track("Exported styleguide "+e,{projectType:Ui.projectTypes[t],type:jm[n]})}function so(e){Vi.projectPrefs.get(Bd.pid,"webStyleExportType").then(function(t){e.stopPropagation(),ut({data:URL.createObjectURL(new Blob(["/*\n"+wm+"*/\n\n"+oc.value],{type:"text/"+t})),name:"colors."+t}),io("color",wi.type,t)})}function lo(e){Vi.projectPrefs.get(Bd.pid,"webStyleExportType").then(function(t){e.stopPropagation(),ut({data:URL.createObjectURL(new Blob(["/*\n"+wm+"*/\n\n"+ic.value],{type:"text/"+t})),name:"fonts."+t}),io("text styles",wi.type,t)})}function co(){Vi.projectPrefs.get(Bd.pid,"androidStyleExportType").then(function(e){var t,n;"xml"===e?(t='<?xml version="1.0" encoding="utf-8"?>\n\x3c!--\n'+wm+"--\x3e\n\n"+oc.value,n="xml"):(t="/*\n"+wm+"*/\n\n"+oc.value,n="js"),ut({data:URL.createObjectURL(new Blob([t],{type:Sm[n]})),name:"colors."+n}),io("color",wi.type,e)})}function uo(){Vi.projectPrefs.get(Bd.pid,"androidStyleExportType").then(function(e){var t,n;"xml"===e?(t='<?xml version="1.0" encoding="utf-8"?>\n\x3c!--\n'+wm+"--\x3e\n\n"+ic.value,n="xml"):(t="/*\n"+wm+"*/\n\n"+ic.value,n="js"),ut({data:URL.createObjectURL(new Blob([t],{type:Sm[n]})),name:"textstyles."+n}),io("text styles",wi.type,e)})}function mo(e){Vi.projectPrefs.get(Bd.pid,"osxStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ur("h","Color")+"#import <Cocoa/Cocoa.h>\n\n@interface NSColor ("+Gs.value+")\n\n"+wi.colors.map(function(e){return"+ (NSColor *)"+(wi.prefix?wi.prefix+"_":"")+Wi.lowercaseFirst(e.name)+"Color;"}).join("\n")+"\n\n@end",a=ur("m","Color")+'#import "NSColor+'+Gs.value+'.h"\n\n'+oc.value,r=new os.default;r.file("NSColor+"+Gs.value+".h",n),r.file("NSColor+"+Gs.value+".m",a),r.generateAsync({type:"blob"}).then(function(e){ut({data:URL.createObjectURL(e),name:"colors_"+wi.name+".zip"})})}else{var o=ur("swift","Color")+"import Cocoa\n\n"+oc.value;ut({data:URL.createObjectURL(new Blob([o])),name:"NSColor+"+Gs.value+".swift"})}io("color",wi.type,t)})}function po(e){Vi.projectPrefs.get(Bd.pid,"osxStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=ur("h","Font")+"#import <Cocoa/Cocoa.h>\n\n@interface NSFont ("+Gs.value+")\n\n"+wi.textStyles.map(function(e){var t=(0,ls.default)(e.name,"camelCase");return t=t.trim().length?Wi.lowercaseFirst(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (NSFont *)"+(wi.prefix?wi.prefix+"_":"")+t+";"}).join("\n")+"\n\n@end",a=ur("m","Font")+'#import "NSFont+'+Gs.value+'.h"\n\n'+ic.value,r=new os.default;r.file("NSFont+"+Gs.value+".h",n),r.file("NSFont+"+Gs.value+".m",a),r.generateAsync({type:"blob"}).then(function(e){ut({data:URL.createObjectURL(e),name:"textstyles_"+wi.name+".zip"})})}else{var o=ur("swift","Font")+"import Cocoa\n\n"+ic.value;ut({data:URL.createObjectURL(new Blob([o])),name:"NSFont+"+Gs.value+".swift"})}io("text styles",wi.type,t)})}function go(e){Vi.projectPrefs.get(Bd.pid,"iosStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=cr("h","Color")+"#import <UIKit/UIKit.h>\n\n@interface UIColor ("+Ks.value+")\n\n"+wi.colors.map(function(e){return"+ (UIColor *)"+(wi.prefix?wi.prefix+"_":"")+Wi.lowercaseFirst(e.name)+"Color;"}).join("\n")+"\n\n@end",a=cr("m","Color")+'#import "UIColor+'+Ks.value+'.h"\n\n'+oc.value,r=new os.default;r.file("UIColor+"+Ks.value+".h",n),r.file("UIColor+"+Ks.value+".m",a),r.generateAsync({type:"blob"}).then(function(e){ut({data:URL.createObjectURL(e),name:"colors_"+wi.name+".zip"})})}else if("react"===t){var o="/*\n"+wm+"*/\n\n"+oc.value;ut({data:URL.createObjectURL(new Blob([o],{type:Sm.js})),name:"colors.js"})}else{var i=cr("swift","Color")+"import UIKit\n\n"+oc.value;ut({data:URL.createObjectURL(new Blob([i])),name:"UIColor+"+Ks.value+".swift"})}io("color",wi.type,t)})}function fo(e){Vi.projectPrefs.get(Bd.pid,"iosStyleExportType").then(function(t){if(e.stopPropagation(),"objc"===t){var n=cr("h","Font")+"#import <UIKit/UIKit.h>\n\n@interface UIFont ("+Ks.value+")\n\n"+wi.textStyles.map(function(e){var t=(0,ls.default)(e.name,"camelCase");return t=t.trim().length?Wi.lowercaseFirst(t.replace(/\s(\w)/g,function(e,t){return t.toUpperCase()}))+"Font":"textStyleFont","+ (UIFont *)"+(wi.prefix?wi.prefix+"_":"")+t+";"}).join("\n")+"\n\n@end",a=cr("m","Font")+'#import "UIFont+'+Ks.value+'.h"\n\n'+ic.value,r=new os.default;r.file("UIFont+"+Ks.value+".h",n),r.file("UIFont+"+Ks.value+".m",a),r.generateAsync({type:"blob"}).then(function(e){ut({data:URL.createObjectURL(e),name:"textstyles_"+wi.name+".zip"})})}else if("react"===t){var o="/*\n"+wm+"*/\n\n"+ic.value;ut({data:URL.createObjectURL(new Blob([o],{type:Sm.js})),name:"textstyles.js"})}else{var i=cr("swift","Font")+"import UIKit\n\n"+ic.value;ut({data:URL.createObjectURL(new Blob([i])),name:"UIFont+"+Ks.value+".swift"})}io("text styles",wi.type,t)})}function ho(e){wi.addTextStyle(e),qa(),Ca(),Ge();var t=sa(e);t&&(t.classList.add("added"),la(t,{name:e.name}),t.dataset.id=e._id,$(t.querySelector(".addTextStyle"),!0))}function yo(e){if(Wi.permissions.canManageTextStyles(xi))return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/textStyles",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(function(e){var t={};return["name","fontFace","fontSize","lineHeight","letterSpacing","textAlign","color"].forEach(function(n){t[n]=e[n]}),t}(e))}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(t){e._id=t._id,ho(e)})}function vo(e){if(Wi.permissions.canManageTextStyles(xi)){var t=new ts.default(Di).textStyles[e.dataset.index],n=t&&t.font;return n.name=wi.getTextStyleName(),rm=!1,e.classList.add("added"),la(e,{name:n.name}),yo(n).then(function(e){rm=!0,Wi.showToast("Added to Styleguide!",Qs),Ca()}).catch(function(t){Yi.handleError(t),rm=!0,e.classList.remove("added"),la(e,{name:""})})}}function bo(e){if(Wi.permissions.canManageTextStyles(xi))return fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/textStyles/"+e,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){Dr(e)})}function So(e){return bo(e).catch(function(e){Yi.handleError(e)})}function jo(e){return rm=!1,e.classList.remove("added"),bo(e.dataset.id).then(function(){rm=!0}).catch(function(t){Yi.handleError(t),e.classList.add("added"),rm=!0})}function Eo(e,t){Wi.permissions.canManageTextStyles(xi)&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/textStyles/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(t)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){wi.updateTextStyle(e,t),qa(),Ca(),Ge(),"name"in t&&_l&&1===_l.querySelectorAll(".textStyleWrapper").length&&Xi.isHtmlTag(t.name)?ka(t.name,Al.textContent):yd.classList.add("hidden")}).catch(function(n){Yi.handleError(n);var a=document.querySelector(".font[data-id='"+e+"']");"name"in t&&Wi.highlightInput(a.querySelector(".styleName")),"color"in t&&a.querySelector(".colorContainer").classList.remove("hidden")})}function Lo(){var e=document.querySelector(".textStyleMenu");e&&e.remove()}function wo(e,t){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return!0;return!1}function xo(e,t,n){if(!bu.classList.toggle("taglessProject",0===e.length&&!n)){t=t||[],ku.innerHTML="";var a=0;Jp=0,e.forEach(function(e){if(-1===t.indexOf(e)&&(!n||-1!==e.toLowerCase().indexOf(n.toLowerCase()))){var r=document.importNode(xu.content,!0);0===ku.childElementCount&&r.querySelector(".tagSuggestion").classList.add("selected"),r.querySelector(".tagSuggestion").dataset.tag=Wi.escapeHTML(e),r.querySelector(".tagSuggestion").dataset.suggestionIndex=a,a++,r.querySelector(".tagSuggestion .tagSuggestionText").textContent=e,ku.appendChild(r)}}),!n||wo(e,n)?(Su.classList.add("hidden"),Su.classList.remove("selected")):(Su.classList.remove("hidden"),Su.dataset.suggestionIndex=a,Su.dataset.tag=Wi.escapeHTML(n),ju.textContent=n,Su.classList.toggle("selected",0===ku.childElementCount)),bu.classList.toggle("taglessScreen",0===t.length)||(Cu.innerHTML="",t.forEach(function(e){var t=document.importNode(wu.content,!0);t.querySelector(".tagOfScreen").dataset.tag=Wi.escapeHTML(e),t.querySelector(".tagButtonText").textContent=e,Cu.appendChild(t)}))}}function Co(e){if(wi.screens)return wi.screens.find(function(t){return t._id===e})}function ko(e){Wi.permissions.canManageScreens(xi)&&(Oi=0,Pi=0,Wn(),Jo(),bu.classList.remove("hidden"),bu.dataset.sid=e,Tu.value="",Tu.focus(),xo(wi.tags,Co(e).tags))}function Do(){Tu.value="",Tu.blur(),bu.classList.add("hidden")}function To(e){zd&&Dt(Co(zd._id)),Je(),e&&("dashboard"===Vd?On():qn()),bu.classList.contains("hidden")||xo(wi.tags,Co(bu.dataset.sid).tags,Tu.value)}function qo(e){Wi.permissions.canManageScreens(xi)&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/tags",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({screens:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).catch(function(t){Yi.handleError(t),e.forEach(function(e){var t=Co(e._id);"add"===e.operation?t.tags=t.tags.filter(function(t){return-1===e.tags.indexOf(t)}):t.tags=t.tags.concat(e.tags)}),To()})}function _o(e,t,n){Wi.permissions.canManageScreens(xi)&&(Tu.value="",qo([{_id:e._id,operation:n,tags:[t]}]),"add"===n?(e.tags=e.tags||[],e.tags.push(t)):e.tags=e.tags.filter(function(e){return e!==t}),To(Wt()||"remove"===n&&!!bs.querySelector(".tag.selected[data-tag='"+Wi.escapeHTML(t)+"']")))}function Io(e){var t=Lu.querySelector(".tagSuggestion[data-suggestion-index='"+e+"']");t&&(Lu.querySelector(".tagSuggestion.selected").classList.remove("selected"),t.classList.add("selected"),Wi.scrollIfNecessary(t),Jp=e)}function Ao(e){Wi.permissions.canManageScreens(xi)&&(qo(wi.deleteTag(e)),To(Wt()||!!bs.querySelector(".tag.selected[data-tag='"+Wi.escapeHTML(e)+"']")))}function Oo(){var e=document.querySelector(".tagMenu");e&&e.remove()}function Po(e){var t=wi.screens.filter(Vt([e]));return 0!==t.length&&t.every(function(e){var t=wi.findScreenSection(e._id);return wi.isDefaultSection(t._id)})}function No(e,t,n,a){var r=parseInt(t.dataset.minWidth,10);if(t.classList.contains("collapsed")){if(!(e>r/2))return;t.classList.remove("collapsed"),a&&a(t)}t.style.width=e+"px",e<r?(document.body.classList.add("minResizing"),t.classList.toggle("collapsed",e<r/2)&&n&&n(t)):e>t.clientWidth?(t.classList.add("maxSizebar"),document.body.classList.add("maxResizing")):(t.classList.remove("maxSizebar"),document.body.classList.remove("maxResizing","minResizing"))}function Fo(e,t,n){function a(t){t.preventDefault&&t.preventDefault(),No(r="left"===e.dataset.side?t.clientX||t.changedTouches[0].clientX:window.innerWidth-(t.clientX||t.changedTouches[0].clientX),e,n.onCollapse,n.onExpand),n.onResize&&n.onResize()}n=n||{};var r;document.body.classList.add("resizing","resizing"+e.dataset.side),e.classList.add("resizing"),document.addEventListener(Mi,a),document.addEventListener(Ri,function n(){e.style.width=e.clientWidth+"px",Vi.projectPrefs.set(Bd.pid,t,r),document.body.classList.remove("resizing","resizing"+e.dataset.side,"maxResizing","minResizing"),e.classList.remove("resizing"),setTimeout(function(){Li.refresh(),Object.keys(Lc).forEach(function(e){Lc[e].refresh()}),ji&&ji.refresh()},8),document.removeEventListener(Mi,a),document.removeEventListener(Ri,n)})}function Bo(e,t){var n=t.dataset.id;t.classList.add("hidden"),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+e._id+"/dots/"+n,{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){Cr(e,n),He(e.dots),t.remove(),mixpanel.track("Deleted dot")}).catch(function(e){t.classList.remove("hidden"),Yi.handleError(e)})}function Mo(){var e=document.querySelector(".dotMenu"),t=document.querySelector(".dot.menuOpen");e&&(e.remove(),t&&t.classList.remove("menuOpen"))}function Ro(e){function t(t){var a=e.getBoundingClientRect();if(i){t.preventDefault();var l=Oc.getBoundingClientRect();Zn(),e.classList.add("moving"),e.style.zIndex=lm+5,sm=!0,s.x=Math.max(0,Math.min((t.clientX-l.left)/l.width,1)),s.y=Math.max(0,Math.min((t.clientY-l.top)/l.height,1)),e.dataset.position=s.x<=.5?"left":"right",e.style.left="calc("+100*s.x+"% - 13px)",e.style.top="calc("+100*s.y+"% - 13px)",n=requestAnimationFrame(function(){e.classList.toggle("overlap",Wo(e))})}else o={x:Math.abs(t.clientX-a.left+13),y:Math.abs(t.clientY-a.top+13)},Math.hypot(o.x,o.y)>r&&(i=!0)}var n,a={},r=12,o={},i=!1;Mo();var s=zd.dots.find(function(t){return t._id===e.dataset.id});a.x=s.x,a.y=s.y,document.addEventListener("mousemove",t),document.addEventListener("mouseup",function r(o){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r),i?(cancelAnimationFrame(n),i=!1,o.target.classList&&o.target.classList.contains("dot")||(sm=!1),e.classList.remove("moving","overlap"),e.style.zIndex=++lm,Wo(e)?(e.addEventListener("transitionend",function t(){e.removeEventListener("transitionend",t),e.classList.remove("backToFuture")}),e.classList.remove("hover"),e.classList.add("backToFuture"),e.dataset.position=a.x<=.5?"left":"right",e.style.left="calc("+100*a.x+"% - 13px)",e.style.top="calc("+100*a.y+"% - 13px)",s.x=a.x,s.y=a.y):a.x===s.x&&a.y===s.y||Ho({x:s.x,y:s.y},a,e),a=null):Pc.classList.remove("hidden")})}function Uo(e){var t=fl.lastElementChild.getBoundingClientRect();e.style.left=t.left-233+"px",e.style.top=t.top+32+"px",e.style.bottom="initial"}function zo(){Mu.classList.contains("collapsed")&&No(300,Mu);var e,t;t=new MutationObserver(function(t){t.forEach(function(t){Uo(e)})}),Uo(e=Hi.create({content:"Ping ping! You can access the resolved notes from this tab.",popover:!0,anchor:"top",noControls:!0,hideCallback:function(){t.disconnect(),Vi.userPrefs.set("resolvedDotsTutorialSeen",!0)}})),t.observe(Mu,{attributes:!0,attributeFilter:["style"]}),document.body.appendChild(e),setTimeout(function(){t.disconnect(),e.remove(),Vi.userPrefs.set("resolvedDotsTutorialSeen",!0)},1e4)}function Zo(e,t){var n=zd.dots.find(function(t){return t._id===e}),a=n.status;n.status=t;var r=document.querySelector(".dot[data-id='"+e+"']");Pc.dataset.id===e&&Zn(),Lt(r),r.classList.add(t),He(zd.dots),Vi.userPrefs.get("resolvedDotsTutorialSeen").then(function(e){!e&&"resolved"===t&&Qs.classList.contains("resourceView")&&"dot"!==fl.dataset.selection&&zo()}),fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+zd._id+"/dots/"+e,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({status:t})}).then(function(e){if(!e.ok)return e.json().then(function(t){return Yi.createError(e.status,t)});mixpanel.track("Re"+("open"===t?"open":"solv")+"ed dot")}).catch(function(e){n.status=a,r.classList.remove(t),r.classList.add(a),He(zd.dots),Yi.handleError(e)})}function Ho(e,t,n){fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+zd._id+"/dots/"+n.dataset.id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(e)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){mixpanel.track("Moved dot",{distance:Math.hypot(Ic.offsetWidth*(e.x-t.x),Ic.offsetHeight*(e.y-t.y))/Jd})}).catch(function(e){n.dataset.position=t.x<=.5?"left":"right",n.style.left="calc("+100*t.x+"% - 13px)",n.style.top="calc("+100*t.y+"% - 13px)",Yi.handleError(e)})}function Wo(e){if(document.elementsFromPoint){for(var t=e.getBoundingClientRect(),n=document.elementsFromPoint(t.left+13,t.top+13),a=0;a<n.length;a++)if(n[a].classList.contains("dot")&&n[a]!==e)return!0;return!1}return Vo(e)}function Vo(e){for(var t=e.getBoundingClientRect(),n=document.querySelectorAll(".dot"),a=t.left+13,r=t.top+13,o=0;o<n.length;o++){var i=n[o].getBoundingClientRect();if(n[o]!==e&&a>i.left&&a<i.right&&r>i.top&&r<i.bottom)return!0}return!1}function Yo(e){e.stopPropagation(),Jo();var t,n,a=document.importNode(Uu.content,!0).querySelector(".shortLinkMenu");t=wi.shortUrl,n="zpl://project?pid="+wi.id,Ru.classList.add("menuOpen"),a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){e.stopPropagation();var r;switch(a.dataset.action){case"copy-app-uri":r=n;break;case"copy-web-link":r=t}Wi.copyContent({content:r,toastContainer:Nu}),setTimeout(function(){Ko()},80)}}}),Ru.appendChild(a)}function Ko(){var e=document.querySelector(".shortLinkMenu");e&&e.remove(),Ru.classList.remove("menuOpen")}function Xo(e){fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/public",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({public:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){wi.public=e,e?tr(wi):Wi.showToast("Unshared the Scene link.",Nu)}).catch(Yi.handleError)}function Go(){var e=document.querySelector(".shareSceneMenu");e&&e.remove()}function Jo(){Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(mi),Ki.dismiss(),Nu.removeEventListener("scroll",gi),Fu.removeEventListener("listRefreshed",fi),lr(),Lo(),$t(),Oo(),Hr(),Mo(),Ko(),Go(),ri(),to(),Qt(),ms.close(),ds.close()}function $o(e){return function(){var t=arguments[arguments.length-1];e.screens.find(function(e){return e._id===t.body._id})||(t.body.dots=t.body.dots||[],t.body.tags=t.body.tags||[],t.body.versions=[t.body.latestVersion],delete t.body.latestVersion,e.addScreen(t.body),qn(),"dashboard"!==Vd||CSS.supports("grid-template-columns","repeat(auto-fill, 220px)")||Ve())}}function Qo(e){return function(){var t=arguments[arguments.length-1],n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&!n.versions.find(function(e){return e._id===t.body._id})){var a=n.versions[0]._id,r=e.addVersion(t.params.sid,t.body),o=je(t.params.sid);o&&(Wi.resizeImage(o.querySelector(".screenImage"),t.body.snapshot.url,{crop:!0}),o.querySelector(".screenLastUpdated").setAttribute("datetime",n.updated),zd===n&&(nl.setAttribute("datetime",n.updated),(Zd._id===a||r&&r._id===Zd._id)&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Ut(n,Zd=n.versions[0],"initial"),r&&r._id===Zd._id&&Wi.showToast("Displayed version is not available anymore.",document.querySelector("main"))),Tc.classList.contains("versionsShown")?(Tt(n),Vi.projectPrefs.set(e.id,n._id,"versionsLastSeen",new Date(n.versions[0].created))):zt(n)))}}}function ei(e){return{createScreen:"project:"+e+":createScreen",createVersion:"project:"+e+":createVersion"}}function ti(e){Qp&&(Gi.default.ipcRenderer.removeAllListeners(Qp.createScreen),Gi.default.ipcRenderer.removeAllListeners(Qp.createVersion)),e&&(Qp=ei(e.id),Gi.default.ipcRenderer.on(Qp.createScreen,$o(e)),Gi.default.ipcRenderer.on(Qp.createVersion,Qo(e)))}function ni(e){wi.updateUserInfo(e.params.uid,e.body),F(wi.users),Vn(),zd&&He(zd.dots)}function ai(e){function t(t){if(t.params.mid===Zeplin.user._id){if(t.params.uid===Zeplin.user._id)return void se();var n=Ue(t.params.uid,!0),a=n?n.user.username:"Anonymous";Zi.create({title:a+' removed you from "'+e.name+'".',message:"You won't be able to access its resources from now on.\nIf you think this is a mistake, please contact "+a},{defer:!0}),se()}else e.removeUser(t.params.mid),F(e.users),Vn()}Ni&&Ui.pusher.unsubscribe(Ni),Ni="private-project@"+e.id;var n=Ui.pusher.subscribe(Ni);n.bind("UpdateProjectDensity",function(e){_r(e.body.density)}),n.bind("UpdateProjectName",function(e){qr(e.body.name),re(e.body.prefix,!0)}),n.bind("UpdateProjectPrefix",function(e){re(e.body.prefix,!0)}),n.bind("ArchiveProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Ue(t.params.uid,!0),a=n?n.user.username:"Anonymous";Zi.create({title:a+' archived "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}se()}),n.bind("DeleteProject",function(t){if(t.params.uid!==Zeplin.user._id){var n=Ue(t.params.uid,!0),a=n?n.user.username:"Anonymous";Zi.create({title:a+' deleted "'+e.name+'".',message:"You won't be able to access its resources from now on."+(n?"\nIf you think this is a mistake, please contact "+a:"")},{defer:!0})}se()}),n.bind("InviteUser",function(t){e.addUser(t.body),F(e.users),Vn(),zd&&He(zd.dots)}),n.bind("CreateUser",function(t){e.updateUserInfo(t.params.uid,{username:t.body.username,status:"registered"}),F(e.users)}),n.bind("UpdateUsername",function(t){e.updateUserInfo(t.params.uid,t.body),F(e.users),Vn(),zd&&He(zd.dots)}),n.bind("UpdateEmail",function(t){e.updateUserInfo(t.params.uid,t.body),F(e.users)}),n.bind("UpdateUserEmotar",ni),n.bind("UpdateUserAvatar",ni),n.bind("UpdateUserSubscription",function(t){var n=e.findUser(t.params.uid);n&&(Object.assign(n.user,t.body),"owner"===n.role&&Ui.getPlans().then(function(t){var a=t.find(function(e){return e._id===n.user.paymentPlan}),r=e.allowedVersionCount;e.allowedVersionCount=a.allowedVersionCount,r>e.allowedVersionCount?(e.screens.forEach(function(t){t.versions.length>e.allowedVersionCount&&(t.versions.length=e.allowedVersionCount)}),zd&&(zd.versions.some(function(e){return e._id===Zd._id})||(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Zd=zd.versions[0],Tc.classList.remove("oldVersion"),Ut(zd,Zd,"initial"),Wi.showToast("Displayed version is not available anymore.",document.querySelector("main"))),zd.versions.length===e.allowedVersionCount&&Tc.classList.contains("versionsShown")&&Tt(zd))):r<e.allowedVersionCount&&(e.screens.forEach(function(e){e.totalVersionCount&&e.totalVersionCount>r&&delete e.totalVersionCount}),zd&&(!zd.totalVersionCount||zd.totalVersionCount>r)&&Be(zd).then(function(e){Tc.classList.contains("versionsShown")&&Tt(e)}))}))}),n.bind("DeleteUser",function(t){Zeplin.user._id!==t.params.uid&&(e.removeUser(t.params.uid),F()),zd&&He(zd.dots)}),n.bind("CreateColor",function(e){Mr(e.body)}),n.bind("UpdateColor",function(e){Ur(e.params.cid,e.body)}),n.bind("DeleteColor",function(e){Rr(e.params.cid)}),n.bind("UpdateScreen",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});Object.assign(n,t.body),"name"in t.body&&(zd===n&&(ie(),Us.textContent=t.body.name,Us.title=t.body.name),qn()),"description"in t.body&&zd===n&&(tl.value=t.body.description)}),n.bind("UpdateSectionScreens",function(e){Xt(e.params.seid,e.body.screens,e.body.index)}),n.bind("UpdateSectionScreensOrder",function(t){var n=e.findScreenSection(t.body.screens[0]._id);n&&(t.body.screens.forEach(function(t){e.updateScreenOrder(n._id,t._id,t.to)}),pd.classList.contains("searching")||pd.querySelector('#sortOptions input[type="checkbox"]:checked')||qn())}),n.bind("UpdateScreensTags",function(t){t.body.screens.forEach(function(t){var n=e.screens.find(function(e){return e._id===t._id});if(n){switch(t.operation){case"add":n.tags=(n.tags||[]).concat(t.tags);break;case"remove":t.tags.forEach(function(e){n.tags.splice(n.tags.indexOf(e),1)})}zd===n&&Dt(zd),bu.classList.contains("hidden")||xo(e.tags,Co(bu.dataset.sid).tags,Tu.value)}}),Je(),"dashboard"===Vd?On():qn()}),n.bind("DeleteScreen",function(t){var n=e.findScreenSection(t.params.sid);if(n){var a=e.removeScreen(n._id,t.params.sid);if(a&&(Je(),"dashboard"===Vd?On():qn(),zd===a)){var r=Ue(t.params.uid,!0),o=r?r.user.username:"Anonymous";Zi.create({title:o+" deleted this screen",message:"You won't be able to access \""+a.name+'" from now on.'}),ce(e.id,In())}}}),n.bind("CreateSection",function(t){var n=Object.assign({},t.body);delete n.index,e.addSection(n,t.body.index),qn()}),n.bind("UpdateSectionsOrder",function(t){t.body.sections.forEach(function(t){e.updateSectionOrder(t._id,t.to)}),pd.classList.contains("searching")||pd.querySelector('#sortOptions input[type="checkbox"]:checked')||qn()}),n.bind("UpdateSection",function(t){var n=e.findSection(t.params.seid);n&&(Object.assign(n,t.body),qn())}),n.bind("DeleteSection",function(t){e.removeSection(t.params.seid),qn()}),n.bind("UpdateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a=n.dots.find(function(e){return e._id===t.params.did}),r=document.querySelector(".dot[data-id='"+a._id+"']");if(Object.assign(a,t.body),"color"in t.body){var o=Em[new Qi.default(t.body.color).hexBase()];Hd===a&&(wt(Pc),Pc.classList.add(o)),r&&(wt(r),r.classList.add(o),r.dataset.color=o)}"x"in t.body&&"y"in t.body&&r&&(Wn(),Mo(),r.addEventListener("transitionend",function e(){r.removeEventListener("transitionend",e),r.classList.remove("backToFuture")}),r.classList.add("backToFuture"),r.dataset.position=t.body.x<=.5?"left":"right",r.style.left="calc("+100*t.body.x+"% - 10px)",r.style.top="calc("+100*t.body.y+"% - 10px)"),"status"in t.body&&(Hd===a&&Pc.classList.contains(t.body.status)&&Zn(),r&&(Lt(r),r.classList.add(t.body.status))),He(n.dots)}}),n.bind("DeleteDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(Cr(n,t.params.did),je(t.params.sid))){var a=document.querySelector(".dot[data-id='"+t.params.did+"']");a&&($d===a&&Zn(),a.remove()),He(n.dots)}}),n.bind("DeleteDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots){var a,r=n.dots.find(function(e){return e._id===t.params.did});r&&1!==r.comments.length?(kr(r,t.params.cmid),a=document.querySelector(".comment[data-id='"+t.params.cmid+"']")):(Cr(n,t.params.did),Hd===r&&Zn(),a=document.querySelector(".dot[data-id='"+t.params.did+"']")),a&&a.remove(),He(n.dots)}}),n.bind("AuthSlack",function(t){t.body.integration.slacks.forEach(function(t){e.addIntegration("slacks",t)},e),no(e.integration.slacks)}),n.bind("DeleteIntegration",function(t){if(e.removeIntegration("slacks",t.params.inid),e.integration.slacks.length){var n=Kp.querySelector(".integration[data-id='"+t.params.inid+"']");n&&n.remove()}else Kp.classList.add("hidden"),Cd.classList.remove("hidden")}),n.bind("CreateTextStyle",function(e){ho(new es.default(e.body))}),n.bind("UpdateTextStyle",function(t){if(e.removeTextStyle(t.params.tsid),e.addTextStyle(t.body),"name"in t.body){var n=sa(t.params.tsid);n&&la(n,{name:t.body.name})}qa(),Ca(),Ge()}),n.bind("DeleteTextStyle",function(e){Dr(e.params.tsid)}),n.bind("UpdateProjectAccessibility",function(t){e.public=t.body.public,e.public&&tr(e)}),n.bind("UpdateUserRole",function(t){e.changeUserRole(t.params.mid,t.body.role),F(e.users),Q(),"pawn"!==xi.role&&zi.closeBanner("transition")}),n.bind("TransferOwnership",function(t){document.body.classList.toggle("organizationProject",!!t.params.oid),t.body.users.forEach(function(t){e.changeUserRole(t.user._id,t.role)}),F(e.users),Q(),t.params.oid?he(e.id).then(function(){"pawn"===xi.role&&(Ci.transitionFinished&&e.screens.forEach(function(e){delete e.versions[0].snapshot.layers,delete e.versions[0].snapshot.assets}),"screen"===Vd&&Ut(zd))}):(Ci&&"screen"===Vd&&Ut(zd),zi.closeBanner("transition"),Ci=null)}),n.bind("RemoveUserFromProject",t),n.bind("RemoveMemberFromOrganization",t),n.bind("CreateScreen",$o(e)),n.bind("CreateVersion",Qo(e)),n.bind("UpdateVersionCommitColor",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),zd===n&&Tc.classList.contains("versionsShown"))){var r=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!r)return;var o=Em[new Qi.default(a.commit.color).hexBase()];wt(r),r.classList.add(o);var i=r.querySelector(".commitMessage");wt(i),i.classList.add(o)}}}),n.bind("UpdateVersionCommitMessage",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions.find(function(e){return e._id===t.params.vid});if(a&&(a.commit=a.commit||{},Object.assign(a.commit,t.body),zd===n&&Tc.classList.contains("versionsShown"))){var r=document.querySelector(".version[data-id='"+t.params.vid+"']");if(!r)return;Pm.get(r).value=a.commit.message}}}),n.bind("DeleteVersion",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n){var a=n.versions[0]._id;e.removeVersion(t.params.sid,t.params.vid);(!n.versions.length||n.versions.length<e.allowedVersionCount&&n.totalVersionCount>=e.allowedVersionCount?Be(n):Promise.resolve(n)).then(function(e){var r=je(t.params.sid);r&&a===t.params.vid&&Wi.resizeImage(r.querySelector(".screenImage"),n.versions[0].snapshot.url,{crop:!0}),zd===n&&(Zd._id===t.params.vid&&(Qs.classList.add("resourceView"),Qs.classList.remove("layerView"),Zd=e.versions[0],Ut(n,Zd,"initial"),Wi.showToast("Displayed version is not available anymore.",document.querySelector("main"))),Tc.classList.contains("versionsShown")?Tt(e):zt(n))})}}),n.bind("CreateDot",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid});if(n&&n.dots&&(n.dots.push(t.body),zd===n&&xt(t.body),He(n.dots)),t.params.uid!==Zeplin.user._id&&em.test(t.body.comments[0].note)){var a=Ue(t.params.uid,!0);if(!a)return;Tr({title:a.user.username+" mentioned you",body:t.body.comments[0].note,notifier:a.user,handler:function(){le(Wi.urlResolve("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.body._id,cmid:t.body.comments[0]._id}}))}})}}),n.bind("CreateDotComment",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var r=n.dots.find(function(e){return e._id===t.params.did});if(r){var o,i=r._id;r.comments.push(t.body),He(n.dots),Hd===r&&(o=Ya(t.body,n._id,i)),a&&zd===n&&Hd===r&&(H(o),Fa(document.querySelector(".dot[data-id='"+i+"']")))}}if(a&&em.test(t.body.note)){var s=Ue(t.params.uid,!0);if(!s)return;Tr({title:s.user.username+" mentioned you",body:t.body.note,notifier:s.user,handler:function(){le(Wi.urlResolve("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.body._id}}))}})}}),n.bind("UpdateDotCommentNote",function(t){var n=e.screens.find(function(e){return e._id===t.params.sid}),a=t.params.uid!==Zeplin.user._id;if(n&&n.dots){var r=n.dots.find(function(e){return e._id===t.params.did});if(r){var o=r.comments.find(function(e){return e._id===t.params.cmid}),i=new Date(o.created),s=t.body.updated?new Date(t.body.updated):new Date;if(o.note=t.body.note,o.updated=s,He(n.dots),a&&zd===n&&Hd===r){var l=document.querySelector(".comment[data-id='"+t.params.cmid+"']");l.querySelector(".commentMirror").innerHTML=Wa(t.body.note),l.querySelector(".commentMirror").classList.toggle("jumboEmojis",Me(t.body.note)),l.querySelector(".commentEdited").setAttribute("datetime",s-i>3e5?s:""),H(l),Fa(document.querySelector(".dot[data-id='"+r._id+"']"))}}}if(a&&em.test(t.body.note)){var c=Ue(t.params.uid,!0);if(!c)return;Tr({title:c.user.username+" mentioned you",body:t.body.note,notifier:c.user,handler:function(){le(Wi.urlResolve("project-screen",{url:{pid:t.params.pid,sid:t.params.sid},query:{did:t.params.did,cmid:t.params.cmid}}))}})}}),n.bind("UpdateProjectUpdated",function(t){e.id===t.params.pid&&(e.updated=t.body.updated)}),n.bind("RequestPaymentFail",function(e){if(!e.params.oid||"pawn"!==xi.role){var t={currentRole:xi.role};Object.assign(t,e.params),e.params.oid||"owner"===xi.role||(t.ownerEmail=e.body.email),Ui.showFailedPaymentBanner(t)}})}function ri(){od.classList.contains("hidden")||(Vi.userPrefs.set("tabTutorialSeen",!0),od.classList.add("hidden"))}function oi(e){Array.from(Qs.querySelectorAll(".color")).forEach(function(t){var n=new Qi.default(JSON.parse(t.dataset.rgbcolor));t.querySelector(".colorValue").textContent=n.toCSS(e)})}function ii(e){if(si(),e){e.classList.add("subMenuOpen");var t=e.closest(".sidebarMenu").getBoundingClientRect().top,n=e.getBoundingClientRect().top,a=document.querySelector(".subMenu."+e.id+"s");a.style.transform="translateY("+(n-t)+"px)",a.classList.add("open")}}function si(){Array.from(document.querySelectorAll(".mainMenu.subMenuOpen")).forEach(function(e){e.classList.remove("subMenuOpen")}),Array.from(document.querySelectorAll(".subMenu.open")).forEach(function(e){e.classList.remove("open")})}function li(e,t){if(null!==t.querySelector(".subMenu")){var n=t.getBoundingClientRect().width;e.offsetWidth>=n+56+120?(t.classList.remove("toLeft"),t.classList.add("toRight")):(t.classList.remove("toRight"),t.classList.add("toLeft"))}}function ci(e,t,n,a){var r=n.getBoundingClientRect();e.style.top=a.clientY-r.top+2+"px",e.style.left=a.clientX-r.left+2+"px",a.clientX+t.getBoundingClientRect().width+e.offsetWidth>window.innerWidth&&e.classList.add("toLeft"),a.clientY+e.offsetHeight>window.innerHeight&&e.classList.add("toTop")}function ui(e){var t="xml"===e;Kl.dataset.menuOffsetX=t?"52":"12",Kl.dataset.menuOffsetY=t?"6":"54"}function di(e,t){var n,a,r=parseInt(e.dataset.menuOffsetX,10),o=parseInt(e.dataset.menuOffsetY,10),i=e.closest(".sidebarOptionRealm").getBoundingClientRect(),s=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=s.bottom-60-o,u=s.right-i.left-r;a=c<12?12:c+l.height+12>window.innerHeight-60?window.innerHeight-l.height-12-60:c,n=u+l.width+12>i.width?i.width-l.width-12:u,t.style.transform="translate3d("+n+"px, "+a+"px, 0)"}function mi(e){var t=e.closest(".sidebarOptionRealm");if(t.classList.contains("optionsOpen")){t.classList.remove("optionsOpen");var n=document.getElementById(e.dataset.menuId);n.classList.remove("open"),n.dataset.submenu="",n.style.transform="",si();var a=t.closest(".optionsOpen");a||(a=t),a.classList.remove("optionsOpen"),a.style.top=0,a.scrollTop=hm,hm=0}}function pi(){var e=(Hs.getBoundingClientRect().height-cg)/2,t=lg+cg+e;ag=lg-e>og&&t<window.innerHeight-ig?e:ug,gi()}function gi(){var e=Zs.getBoundingClientRect(),t=Math.max(e.top-ag,sg)-rg;Hs.style.transform="translate3d(0, "+t+"px, 0)",fi()}function fi(){var e=Hs.getBoundingClientRect(),t=Zs.getBoundingClientRect(),n=t.top+t.height/2-e.top-11;Ws.classList.toggle("hidden",e.bottom<t.bottom)||(Ws.style.top=n+"px")}function hi(){gd.classList.remove("focus"),pd.classList.toggle("searching",!!md.value.length)}function yi(e){Array.from(bl.querySelectorAll(".asset")).forEach(function(t){var n=Zd.snapshot.assets.find(function(e){return e._id===t.dataset.id});t.querySelector(".assetName").textContent=bt(n,e)})}function vi(e){var t={web:"Web developer",android:"Android developer",ios:"iOS developer",mac:"macOS developer"};fetch(Zeplin.urls.baseURL+"/intercom/users/tags",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({name:t[e]})})}function bi(e){if(!e||!Wi.validateId(e,"project"))return Zi.create({title:"Invalid project link",message:"There might be a typo, please try again."},{defer:!0}),void se();var t=Promise.resolve(wi);return wi&&wi.id===e||(Vi.projectPrefs.get(e,"layoutGridEnabled").then(function(e){ol.checked=e,ou.classList.toggle("hidden",!e)}),Vi.projectPrefs.get(e,"zoomLevel").then(function(e){Jd=e,xc.textContent=(100*Jd).toFixed(),wc.disabled=5===Jd,kc.disabled=.25===Jd,qt({saveZoomLevel:!1})}),Vi.projectPrefs.get(e,"noteVisibility").then(function(e){Dc.checked=e,Oc.classList.toggle("invisible",!e)}),Vi.projectPrefs.get(e,"sectionsCollapseState").then(function(e){Nd=e}),t=ye(e)),t}function Si(){setTimeout(function(){Ns.classList.remove("online")},1e4)}var ji,Ei,Li,wi,xi,Ci,ki,Di,Ti,qi,_i,Ii,Ai,Oi,Pi,Ni,Fi,Bi,Mi,Ri,Ui=D(e),zi=D(t),Zi=D(n),Hi=D(a),Wi=D(r),Vi=D(o),Yi=D(i),Ki=D(s),Xi=D(l),Gi=k(c),Ji=k(u),$i=k(d),Qi=k(m),es=k(p),ts=k(g),ns=k(f),as=k(h),rs=k(y),os=k(v),is=k(b),ss=k(S),ls=k(j),cs=k(E),us=D(L),ds=D(w),ms=D(x),ps=k(C),gs=document.getElementById("loading"),fs=document.getElementById("userMenu"),hs=document.getElementById("notificationContainer"),ys=document.querySelector(".projectOverview"),vs=document.getElementById("screenCount"),bs=document.getElementById("tags"),Ss=document.getElementById("taglessProjectInfoLine"),js=document.getElementById("resetTags"),Es=document.getElementById("projectName"),Ls=document.getElementById("projectNameForm"),ws=document.getElementById("projectType"),xs=document.getElementById("projectDensity"),Cs=document.getElementById("changeDensityButton"),ks=document.getElementById("densityDialog"),Ds=document.getElementById("densityDialogSubmitButton"),Ts=document.getElementById("densityHelp"),qs=document.getElementById("densityTooltip"),_s=document.getElementById("projectLink"),Is=document.getElementById("copyProjectLinkButton"),As=document.querySelector("title"),Os=document.getElementById("dashboardTab"),Ps=document.getElementById("styleguideTab"),Ns=document.querySelector("header"),Fs=document.querySelector(".headerTitle"),Bs=document.getElementById("upLink"),Ms=document.getElementById("arrowLeft"),Rs=document.getElementById("arrowRight"),Us=document.getElementById("header"),zs=document.getElementById("headerExtra"),Zs=document.getElementById("addUserButton"),Hs=document.getElementById("inviteUserPopup"),Ws=document.getElementById("inviteUserPopupAnchor"),Vs=document.getElementById("noOtherMembers"),Ys=document.getElementById("members"),Ks=document.getElementById("iosCategoryName"),Xs=document.getElementById("iosCategoryPrefix"),Gs=document.getElementById("osxCategoryName"),Js=document.getElementById("osxCategoryPrefix"),$s=document.getElementById("colorPalette"),Qs=document.getElementById("rightSidebar"),el=document.getElementById("screenDescription"),tl=new Ji.default(el,Ha),nl=document.getElementById("screenLastUpdated"),al=document.getElementById("screenTags"),rl=document.getElementById("layoutGridInfoContainer"),ol=document.getElementById("layoutGridCheckbox"),il=document.getElementById("gridViz"),sl=document.getElementById("gridColumnWidth"),ll=document.getElementById("gridGutterWidth"),cl=document.getElementById("gridColumnViz"),ul=document.getElementById("verticalGutterViz"),dl=document.getElementById("gridRowHeight"),ml=document.getElementById("gridGutterHeight"),pl=document.getElementById("gridTotalWidth"),gl=document.getElementById("gridNumberOfCols"),fl=document.getElementById("resourceTabs"),hl=document.getElementById("colorContent"),yl=document.getElementById("screenColors"),vl=document.getElementById("assetContent"),bl=document.getElementById("screenAssets"),Sl=document.getElementById("screenAssetExports"),jl=document.getElementById("layerView"),El=document.getElementById("layerName"),Ll=document.getElementById("layerPositionX"),wl=document.getElementById("layerPositionY"),xl=document.getElementById("layerWidth"),Cl=document.getElementById("layerHeight"),kl=document.getElementById("layerRotation"),Dl=document.getElementById("layerOpacity"),Tl=document.getElementById("layerRadius"),ql=document.getElementById("layerBlendMode"),_l=document.getElementById("textLayerInfo"),Il=document.getElementById("copyLayerContent"),Al=document.getElementById("layerContent"),Ol=document.getElementById("layerFillContainer"),Pl=document.getElementById("layerFills"),Nl=document.getElementById("layerBorderContainer"),Fl=document.getElementById("layerBorders"),Bl=document.getElementById("layerShadowContainer"),Ml=document.getElementById("layerShadows"),Rl=document.getElementById("layerBlurContainer"),Ul=document.getElementById("layerBlurType"),zl=document.getElementById("layerBlurRadius"),Zl=document.getElementById("layerAssetContainer"),Hl=document.getElementById("layerAssetPreview"),Wl=document.getElementById("layerAssetName"),Vl=document.getElementById("layerAssetExports"),Yl=document.getElementById("svgoCheckbox"),Kl=document.getElementById("styleOptionsButton"),Xl=document.getElementById("selectedStyleExportType"),Gl=document.getElementById("showDimensionsCheckbox"),Jl=document.getElementById("unitlessLineHeightCheckbox"),$l=document.getElementById("mixinCheckbox"),Ql=document.getElementById("defaultValuesCheckbox"),ec=document.getElementById("guidelineDefaultValuesCheckbox"),tc=document.getElementById("copyLayerStyleContent"),nc=document.getElementById("layerStyle"),ac=document.getElementById("guidelineStyle"),rc=document.getElementById("layerStyleMirror"),oc=document.getElementById("colorStyleMirror"),ic=document.getElementById("textStyleMirror"),sc=document.getElementById("webStyleExportType"),lc=document.getElementById("styleguideStyleMirror"),cc=document.getElementById("generatorContainer"),uc=document.getElementById("guidelineStyleExportContainer"),dc=document.getElementById("guidelineSelectedStyleExportType"),mc=document.getElementById("guidelineShowDimensionsCheckbox"),pc=document.getElementById("guidelineUnitlessLineHeightCheckbox"),gc=document.getElementById("guidelineMixinCheckbox"),fc=document.getElementById("styleguideWebStyleExportType"),hc=document.getElementById("styleguideColorFormat"),yc=document.querySelector("input[name='attributedStringShowDefaultAttributes']"),vc=document.getElementById("iosDeploymentTarget"),bc=document.getElementById("osxDeploymentTarget"),Sc=document.getElementById("styleguideIosDeploymentTarget"),jc=document.getElementById("styleguideOsxDeploymentTarget"),Ec=document.getElementById("shareSceneDialog"),Lc=[],wc=document.getElementById("zoomIn"),xc=document.getElementById("zoomDropdownLabel"),Cc=document.getElementById("zoomDropdown"),kc=document.getElementById("zoomOut"),Dc=document.getElementById("maymusCheckbox"),Tc=document.querySelector(".screenContent"),qc=document.getElementById("screenView"),_c=document.getElementById("dotgrid"),Ic=document.getElementById("screenContainer"),Ac=document.getElementById("cursorImage"),Oc=document.getElementById("dots"),Pc=document.getElementById("dotPopup"),Nc=document.getElementById("dotPopupAnchor"),Fc=document.getElementById("dotColors"),Bc=document.getElementById("dotComments"),Mc=document.getElementById("newComment"),Rc=document.getElementById("newCommentButtons"),Uc=document.getElementById("newCommentButton"),zc=document.getElementById("newCommentMirror"),Zc=document.getElementById("newCommentNote"),Hc=document.getElementById("newCommentSendButton"),Wc=document.getElementById("layers"),Vc=document.getElementById("rulers"),Yc=document.getElementById("topRuler"),Kc=document.getElementById("rightRuler"),Xc=document.getElementById("bottomRuler"),Gc=document.getElementById("leftRuler"),Jc=document.getElementById("leftDistance"),$c=document.getElementById("leftDistanceValue"),Qc=document.getElementById("rightDistance"),eu=document.getElementById("rightDistanceValue"),tu=document.getElementById("topDistance"),nu=document.getElementById("topDistanceValue"),au=document.getElementById("bottomDistance"),ru=document.getElementById("bottomDistanceValue"),ou=document.getElementById("layoutGridContainer"),iu=document.getElementById("fontBook"),su=document.getElementById("screenImage"),lu=document.getElementById("suggestedUsersContainer"),cu=document.getElementById("suggestedEmojisContainer"),uu=document.getElementById("searchScreenContainer"),du=document.getElementById("screenSearchText"),mu=document.getElementById("suggestedScreensContainer"),pu=document.getElementById("jumpToScreen"),gu=document.getElementById("searchPopup"),fu=document.getElementById("namingTip"),hu=document.getElementById("slackButton"),yu=document.getElementById("exportColors"),vu=document.getElementById("exportTextStyles"),bu=document.getElementById("manageTagsContainer"),Su=document.getElementById("createTagContainer"),ju=Su.querySelector("span"),Eu=document.getElementById("manageTagsPopup"),Lu=document.getElementById("selectTags"),wu=document.getElementById("tagOfScreenTemplate"),xu=document.getElementById("tagSuggestionTemplate"),Cu=document.getElementById("tagsOfScreen"),ku=document.getElementById("tagSuggestions"),Du=document.getElementById("manageTagsDone"),Tu=document.getElementById("tagSearchText"),qu=document.getElementById("manageTagsButtonTemplate"),_u=document.getElementById("tagMenuTemplate"),Iu=document.getElementById("projectInfoResizer"),Au=document.getElementById("versionsSidebarResizer"),Ou=document.getElementById("rightSidebarResizer"),Pu=document.getElementById("generatorResizer"),Nu=document.getElementById("projectInfo"),Fu=document.getElementById("projectInfoWrapper"),Bu=document.querySelector(".versionsSidebarWrapper"),Mu=document.getElementById("rightSidebarWrapper"),Ru=document.getElementById("projectLinkRow"),Uu=document.getElementById("shortLinkMenuTemplate"),zu=document.getElementById("openSceneDialogButton"),Zu=document.getElementById("shareSceneMenuTemplate"),Hu=document.getElementById("shareSceneButton"),Wu=document.getElementById("cancelShareSceneButton"),Vu=document.getElementById("shareSceneRow"),Yu=document.getElementById("sharedSceneContainer"),Ku=document.getElementById("unsharedSceneContainer"),Xu=document.getElementById("sceneShortLink"),Gu=document.getElementById("openSceneNewTab"),Ju=document.getElementById("copySceneShortLink"),$u=document.getElementById("dotListingTemplate"),Qu=document.getElementById("dotListings"),ed=document.getElementById("dotListingsOptions"),td=document.getElementById("dotContent"),nd=document.getElementById("otherAuthorAvatarFrameTemplate"),ad=document.getElementById("tabsTutorialCircle"),rd=document.getElementById("versionsTutorialCircle"),od=document.getElementById("tabsTutorialPopup"),id=document.getElementById("currentUser"),sd=document.getElementById("notificationsButton"),ld=document.getElementById("exportProgressesButton"),cd=document.getElementById("screenBgColor"),ud=document.getElementById("screenBgColorContainer"),dd=document.getElementById("styleOptionsMenu"),md=document.getElementById("screenSearch"),pd=document.querySelector(".menuBar"),gd=document.querySelector(".searchArea"),fd=document.getElementById("assetStyleExportContainer"),hd=document.getElementById("popoutWidget"),yd=document.getElementById("textLayerStyleExportContainer"),vd=document.getElementById("textLayerStyleMirror"),bd=document.getElementById("copyTextLayerStyle"),Sd=document.getElementById("textLayerStyle"),jd=document.getElementById("sourceFile"),Ed=document.getElementById("sourceFileName"),Ld=document.getElementById("sourceFilePath"),wd=document.getElementById("sourceFileActions"),xd=document.getElementById("slackContainer"),Cd=document.getElementById("slackIntegrationRow"),kd=document.getElementById("screenLinks"),Dd=document.getElementById("allAssetsNamingConvention"),Td=document.getElementById("assetNamingConvention"),qd=document.getElementById("sortOptions"),_d=document.getElementById("androidResFolderReminderDialog"),Id=document.getElementById("androidResFolderReminderDoneButton"),Ad=document.getElementById("sectionTemplate"),Od=document.getElementById("sections"),Pd=document.getElementById("sectionDivider"),Nd={},Fd=new Set,Bd={},Md="",Rd=!1,Ud=-2,zd=null,Zd=null,Hd=null,Wd=null,Vd="",Yd=null,Kd=[],Xd=!1,Gd=!1,Jd=1,$d=null,Qd=null,em=new RegExp("(?:"+[Zeplin.user.username,"everyone","all","tutti"].join("|")+")\\b"),tm=!1,nm=[],am=!0,rm=!0,om={},im=!1,sm=!1,lm=75,cm={},um=null,dm=null,mm=function(e){function t(t){return o=(o+1)%9999,t.animate([{transform:"scaleX(0)",zIndex:o},{transform:"scaleX(1)",zIndex:o}],{duration:e,fill:"forwards",easing:"cubic-bezier(0.165, 0.84, 0.44, 1.0)"})}function n(e){t(a[e]).addEventListener("finish",function(){i?s||(t(r),s=!0):n((e+1)%a.length)})}var a=Array.from(document.querySelectorAll(".loadingBar")),r=document.querySelector(".whiteBar"),o=1,i=!1,s=!0;return{start:function(){s&&(i=!1,s=!1,n(0))},stop:function(){i||(i=!0)}}}(1100),pm=!0,gm=!1,fm=!1,hm=0,ym=!!Gi.default&&!!Gi.default.features&&"popout"in Gi.default.features,vm=ym&&Gi.default.features.popout,bm=new ss.default({mac:document.body.classList.contains("mac")}),Sm={jpg:"image/jpeg",js:"application/javascript",pdf:"application/pdf",png:"image/png",svg:"image/svg+xml",xml:"application/xml"},jm={css:"CSS",sass:"Sass",scss:"SCSS",less:"Less",stylus:"Stylus",swift2:"Swift 2.3",swift:"Swift 3",objc:"Objective-C",react:"React Native",xml:"XML"},Em={fecf33:"yellow",f69833:"orange",ee6723:"peach",c8cf2d:"green","0dcfda":"turquoise"},Lm={yellow:{name:"yellow",r:254,g:207,b:51,a:1},orange:{name:"orange",r:246,g:152,b:51,a:1},peach:{name:"peach",r:238,g:103,b:35,a:1},green:{name:"green",r:200,g:207,b:45,a:1},turquoise:{name:"turquoise",r:13,g:207,b:218,a:1}},wm="    Generated by Zeplin\n    Copyright (C) "+(new Date).getFullYear()+' - present Zeplin\n\n    Licensed under the Apache License, Version 2.0 (the "License");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an "AS IS" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n',xm={ios:/([^a-zA-Z0-9])/g,osx:/([^a-zA-Z0-9])/g,web:/([^a-zA-Z0-9-_])/g,android:/([^a-z0-9_])/g},Cm={default:"Default",hex:"HEX",rgb:"RGB",hsl:"HSL"},km={default:"Default",camelCase:"camelCase",snakeCase:"snake_case",kebabCase:"kebab-case",original:"Original"};Zi.polyfill.registerDialog(ks),Zi.polyfill.registerDialog(Ec),Zi.polyfill.registerDialog(_d),document.body.classList.toggle("features-popout",ym)?vm&&(hd.classList.remove("disabled"),hd.dataset.tooltip="Pop screen out",Gi.default.ipcRenderer.on("open-popout",T),hd.addEventListener("click",T)):hd.remove();var Dm={king:"Owner",queen:"Admin",rook:"Editor",knight:"Member",pawn:"",owner:"Owner",admin:"Admin",user:""},Tm=document.getElementById("memberTemplate"),qm=(new TextDecoder).decode(new Uint8Array(Array.from(crypto.getRandomValues(new Uint8Array(16)),function(e){return e%94+33}))),_m=document.querySelector(".styleContainer");Array.from(document.querySelectorAll("input[name='androidDensity']")).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelector("input[name='androidTabletDensity'][value='"+e.target.value+"']");t?t.checked=!0:(t=document.querySelector("input[name='androidTabletDensity']:checked"))&&(t.checked=!1)})}),Array.from(document.querySelectorAll("input[name='androidTabletDensity']")).forEach(function(e){e.addEventListener("change",function(e){document.querySelector("input[name='androidDensity'][value='"+e.target.value+"']").checked=!0})}),Cs.addEventListener("click",function(e){Wi.permissions.canUpdateProject(xi)&&ks.showModal()}),Ds.addEventListener("click",function(){var e=document.querySelector("input[name='"+te()+"']:checked");e&&e.value!==wi.density&&ae(e.value)}),ks.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&qs.classList.add("hidden")}),ks.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:qs.classList.contains("hidden")||(e.preventDefault(),e.stopPropagation(),qs.classList.add("hidden"));break;case Zeplin.KEY_CODE.SPACE:var t=ks.querySelector("label:focus");t&&t.click();break;case Zeplin.KEY_CODE.ENTER:Ds.click()}}),Ts.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(e.stopPropagation(),e.preventDefault(),qs.classList.toggle("hidden"))}),qs.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".projectTab")).forEach(function(e){e.addEventListener("change",function(e){switch(e.target.value){case"styleguide":ue(wi.id);break;case"dashboard":default:ce(wi.id,In())}})}),Zs.addEventListener("click",function(e){e.stopPropagation(),Ki.isHidden()&&(Jo(),Ki.show(Fu,wi.id,wi.users,Ci&&"pawn"!==xi.role),pi(),Nu.addEventListener("scroll",gi),Fu.addEventListener("listRefreshed",fi),mixpanel.track("Showed invite user pop up",{type:"project"}))});var Im,Am=Intl.DateTimeFormat("en",{year:"numeric",month:"long",day:"numeric"}),Om=Intl.DateTimeFormat("en",{hour:"numeric",minute:"numeric"}),Pm=new WeakMap,Nm=document.querySelector(".versions"),Fm=document.getElementById("versionTemplate"),Bm=document.getElementById("nodeColorChooserTemplate");Nm.addEventListener("click",function(e){e.stopPropagation()});var Mm=document.getElementById("versionHeaderTemplate"),Rm=/\ud83c[\udffb-\udfff]/g,Um={open:"noOpenDots",resolved:"noResolvedDots"};Qu.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".dotListing");oa(t.dataset.did,t.dataset.cmid)}});var zm,Zm=document.getElementById("screenTemplate"),Hm=document.getElementById("textStyleTemplate"),Wm=document.getElementById("guidelineColorTemplate"),Vm=document.getElementById("colorTemplate"),Ym=document.getElementById("layerShadowTemplate");Sl.addEventListener("click",mt),bl.addEventListener("click",pt),Zl.addEventListener("click",pt);var Km=document.getElementById("assetExportTemplate"),Xm=document.getElementById("assetTemplate"),Gm=document.getElementById("layerTemplate");Fc.addEventListener("click",function(e){e.target.classList.contains("dotColor")&&kt(e.target.dataset.color,Pc.dataset.id,zd,Hd)}),document.querySelector(".versionsToggle").addEventListener("click",function(){zd.totalVersionCount?Tt(zd):Be(zd).then(Tt),rd.classList.add("hidden"),Vi.userPrefs.set("versionsTutorialSeen",!0),document.querySelector(".versionsToggle").classList.remove("hasNewVersions"),Vi.projectPrefs.set(wi.id,zd._id,"versionsLastSeen",new Date(zd.versions[0].created)),Tc.classList.add("versionsShown"),Bu.classList.remove("collapsed")}),document.querySelector(".versionsCollapser").addEventListener("click",function(){Bu.classList.toggle("collapsed")?Tc.classList.contains("oldVersion")?Bu.classList.add("compact"):Tc.classList.remove("versionsShown"):Bu.classList.contains("compact")?Bu.classList.remove("compact"):Tc.classList.remove("versionsShown")});var Jm,$m,Qm=!1;ol.addEventListener("change",function(){ou.classList.toggle("hidden",!ol.checked),clearTimeout($m),$m=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"layoutGridEnabled",ol.checked)},1e3)});var ep=document.getElementById("gridCanvas"),tp={initial:[function(e){su.width/Jd===e.width&&su.height/Jd===e.height||(su.src=""),su.src=e.url},Ot,Pt,Nt],zoom:[Ot],density:[Ot,Pt,Nt],layers:[Pt,Nt]},np=!1;document.querySelector(".screenColorsRestricted a").addEventListener("click",function(e){e.preventDefault(),Bt(Ci._id,Mu)}),document.querySelector(".screenAssetsRestricted a").addEventListener("click",function(e){e.preventDefault(),Bt(Ci._id,Mu)});var ap,rp,op,ip,sp=document.getElementById("sectionMenuTemplate"),lp=document.getElementById("screenMenuTemplate"),cp=document.getElementById("moveCubuk");Pd.addEventListener("click",function(){var e=Pd.dataset.nextScreenId,t=je(e),n=wi.findScreenSection(e);Pd.classList.add("hidden"),n&&Wi.permissions.canManageScreens(xi)&&dn(n._id,t.dataset.index)});var up,dp;ys.addEventListener("scroll",function(){up||(up=!0,Pd.classList.add("hidden"),clearTimeout(dp),dp=setTimeout(function(){up=!1},200))}),Od.addEventListener("dragstart",function(e){e.target.closest(".screenLink")&&e.preventDefault()});var mp,pp="36px";ps.default.enable({containers:Od,root:ys,allowX:!1,canGrab:function(e){return!(!Wi.permissions.canManageScreens(xi)||!e.classList.contains("user"))},onGrab:function(e,t){e.classList.contains("collapsed")||(rn(e,!1),t.classList.add("collapsed")),Xe(),document.body.classList.add("dragging"),t.classList.add("grabbed")},onDrop:function(e,t,n,a,r){return new Promise(function(e){var n=t.getBoundingClientRect(),a=r.getBoundingClientRect(),o=n.left-a.left,i=n.top-a.top,s=Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),l=150*Math.max(Math.sqrt(s/n.height),1);r.classList.remove("grabbed"),r.style.transition="transform "+l+"ms ease-out, box-shadow "+l+"ms ease-in",r.style.transform="translate("+o+"px, "+i+"px)",r.style.boxShadow="none",r.addEventListener("transitionend",function n(){r.removeEventListener("transitionend",n);var a=parseInt(t.dataset.index,10),o=Array.prototype.indexOf.call(t.parentNode.children,t);Od.firstElementChild.classList.contains("default")||(a++,o++),o!==a&&Cn(t.dataset.id,o,a),document.body.classList.remove("dragging"),e()})})},onMove:function(e,t,n,a,r){if(n){var o=t.getBoundingClientRect();if(n!==e){var i=n.getBoundingClientRect();t.remove(),o.bottom>i.bottom?n.appendChild(t):n.insertBefore(t,n.firstElementChild)}else if(a&&a!==t){if(a.classList.contains("default"))return;var s=a.getBoundingClientRect(),l=r.getBoundingClientRect();o.top>=s.bottom?l.height<=s.top&&l.top<s.top+s.height/2&&(t.remove(),n.insertBefore(t,a)):l.bottom>s.top+s.height/2&&s.bottom<=window.innerHeight&&(t.remove(),n.insertBefore(t,a.nextElementSibling))}}}}),bs.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&e.target.classList.contains("tag")&&!pd.classList.contains("searching")&&(e.target.classList.contains("selected")?e.target.classList.remove("selected"):(e.target.classList.contains("untagged")?_n():((document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)||_n(),document.querySelector(".tag.untagged").classList.remove("selected")),e.target.classList.add("selected")),On())}),js.addEventListener("click",function(){_n(),On()}),id.addEventListener("click",Nn),ld.addEventListener("click",Nn),sd.addEventListener("click",Nn);var gp={};_c.addEventListener("mousedown",function(e){fm=!0,gp={x:e.clientX,y:e.clientY},document.addEventListener("mouseup",Fn),gm&&(_c.classList.remove("holdingSpace"),_c.classList.add("panMode"),Ac.src=Zeplin.urls.appURL+"/img/grabbing.svg")}),_c.addEventListener("mousemove",function(e){if(e.preventDefault(),gm&&fm){Na();var t=qc.scrollTop-e.clientY+gp.y;t=t>0?t:0;var n=qc.scrollLeft-e.clientX+gp.x;n=n>0?n:0,qc.scrollTop=t,qc.scrollLeft=n}Ac.style.transform="translate("+(e.clientX-8+qc.scrollLeft)+"px, "+(e.clientY-68+qc.scrollTop)+"px)",gp={x:e.clientX,y:e.clientY}}),document.addEventListener("keyup",function(e){e.keyCode===Zeplin.KEY_CODE.SPACE&&(e.preventDefault(),gm=!1,_c.classList.remove("panMode","holdingSpace"),Ac.classList.add("hidden"))}),document.addEventListener("keydown",function(e){if(e.keyCode===Zeplin.KEY_CODE.ESC)Nn();else if(e.keyCode===Zeplin.KEY_CODE.ArrowLeft){if(Pn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),Nn(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),Ud-1>=0&&(Ud--,de(wi.id,Se(Ud).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowRight){if(Pn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),Nn(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),Ud>=0&&Ud+1<xn()&&(Ud++,de(wi.id,Se(Ud).dataset.id))}else if(e.keyCode===Zeplin.KEY_CODE.ArrowUp){if(Pn()||document.querySelector(".optionsOpen")||Gd)return;if(!Tc.classList.contains("versionsShown"))return;e.preventDefault(),Nn(),(t=zd.versions.findIndex(function(e){return e._id===Zd._id})-1)>=0&&Ie(zd,zd.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.ArrowDown){if(Pn()||document.querySelector(".optionsOpen")||Gd)return;if(!Tc.classList.contains("versionsShown"))return;e.preventDefault(),Nn();var t=zd.versions.findIndex(function(e){return e._id===Zd._id})+1;t<zd.versions.length&&Ie(zd,zd.versions[t],{scrollIfNecessary:!0})}else if(e.keyCode===Zeplin.KEY_CODE.SPACE){if(Pn()||document.querySelector(".optionsOpen"))return;e.preventDefault(),gm||(gm=!0,document.body.classList.contains("mac")?(_c.classList.add("panMode"),Ac.src=fm?Zeplin.urls.appURL+"/img/grabbing.svg":Zeplin.urls.appURL+"/img/grab.svg",Ac.classList.remove("hidden"),Ac.style.transform="translate("+(gp.x-8+qc.scrollLeft)+"px, "+(gp.y-68+qc.scrollTop)+"px)"):fm?_c.classList.add("panMode"):_c.classList.add("holdingSpace"))}else if(e.altKey)switch(e.keyCode){case Zeplin.KEY_CODE.KeyD:e.stopPropagation(),ce(wi.id,In());break;case Zeplin.KEY_CODE.KeyS:e.stopPropagation(),ue(wi.id);break;case Zeplin.KEY_CODE.KeyEqualGecko:case Zeplin.KEY_CODE.KeyEqualWebkit:e.preventDefault(),e.stopPropagation();for(n=0;n<Cc.childElementCount;n++)if((a=parseFloat(Cc.children[n].value))>Jd){Jd=a;break}_c.classList.add("zooming"),qt();break;case Zeplin.KEY_CODE.KeyMinusGecko:case Zeplin.KEY_CODE.KeyMinusWebkit:e.preventDefault(),e.stopPropagation();for(var n=Cc.childElementCount-1;n>=0;n--){var a=parseFloat(Cc.children[n].value);if(a<Jd){Jd=a;break}}_c.classList.add("zooming"),qt();break;case Zeplin.KEY_CODE.Digit0:e.preventDefault(),e.stopPropagation(),Jd=1,_c.classList.add("zooming"),qt();break;case Zeplin.KEY_CODE.KeyJ:e.preventDefault(),e.stopPropagation(),Pd.classList.add("hidden"),wi&&wi.screens&&wi.screens.length&&uu.classList.contains("hidden")&&Bn();break;case Zeplin.KEY_CODE.KeyT:e.preventDefault(),e.stopPropagation(),wi&&wi.screens&&zd&&ko(zd._id)}else if(e.keyCode===Zeplin.KEY_CODE.KeyF&&(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){if("dashboard"!==Vd)return;e.preventDefault(),Pd.classList.add("hidden"),ys.scrollTop=0,gd.classList.add("focus"),setTimeout(function(){Wi.highlightInput(md)},500)}});var fp=0;gu.addEventListener("click",function(e){e.stopPropagation(),e.target.classList.contains("screenSuggestion")&&(Ai=nm[e.target.dataset.index],Mn())}),mu.addEventListener("mousemove",function(e){if(e.stopPropagation(),Oi!==e.clientX||Pi!==e.clientY){var t=mu.querySelector(".selected");t&&t.classList.remove("selected"),e.target.classList.add("selected"),fp=parseInt(e.target.dataset.index),Ai=nm[e.target.dataset.index],Oi=e.clientX,Pi=e.clientY}}),gu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),nm.length&&fp<nm.length-1&&Rn(fp+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),nm.length&&fp>0&&Rn(fp-1);break;case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Mn();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Or()}}),du.addEventListener("input",function(e){e.preventDefault(),Ir(e.target.value)}),pu.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),wi.screens&&wi.screens.length&&uu.classList.contains("hidden")&&Bn()}),Ms.addEventListener("click",function(){Ud-1>=0&&(Un(),Ud--,de(wi.id,Se(Ud).dataset.id))}),Rs.addEventListener("click",function(){Ud+1<wi.screens.length&&(Un(),Ud++,de(wi.id,Se(Ud).dataset.id))}),document.addEventListener("click",function(e){e.button!==Zeplin.MOUSE_BUTTON.LEFT||im||Nn(),im=!1}),document.getElementById("closeLayerView").addEventListener("click",function(){Zn(),Yn()});var hp=0,yp=document.getElementById("layerBorderTemplate");_l.addEventListener("mouseover",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Al.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.add("hovered")})}}),_l.addEventListener("mouseout",function(e){var t=e.target.closest(".textStyleWrapper");if(t&&(!e.relatedTarget||e.relatedTarget.closest(".textStyleWrapper")!==t)){var n=Al.querySelectorAll('span[data-color-group="'+t.dataset.colorGroup+'"]');Array.from(n).forEach(function(e){e.classList.remove("hovered")})}});var vp={css:"css",javascript:"text/javascript",less:"text/x-less",objc:"text/x-objectivec",react:"text/javascript",sass:"sass",scss:"text/x-scss",stylus:"stylus",swift:"text/x-swift",swift2:"text/x-swift",xml:"application/xml"},bp={android:function(e){return La(["showDefaultValues","showDimensions","styleColorFormat","androidLineSpacingType","androidStyleExportType"]).then(function(t){var n=t[0],a=t[1],r=t[2],o=t[3];return"react"===t[4]?wa(e,a,r,n):xa(e,o)})},ios:function(e){return La(["showDefaultValues","showDimensions","styleColorFormat","iosStyleExportType","iosDeploymentTarget","attributedStringShowDefaultAttributes"]).then(function(t){var n=t[0],a=t[1],r=t[2],o=t[3],i=t[4],s=t[5];if("react"===o)return wa(e,a,r,n);if("swift"===o||"objc"===o){if(!(Di&&"text"===Di.type&&e.textStyles.length>1))return void document.body.classList.remove("multipleTextStyles");var l=ma(e),c=(0,cs.default)(wi,e,l,o,i,s);return c?(document.body.classList.add("multipleTextStyles"),c):void document.body.classList.remove("multipleTextStyles")}document.body.classList.remove("multipleTextStyles")})},osx:function(e){return La(["osxStyleExportType","osxDeploymentTarget","attributedStringShowDefaultAttributes"]).then(function(t){var n=t[0],a=t[1],r=t[2];if("swift"===n||"objc"===n){if(!(Di&&"text"===Di.type&&e.textStyles.length>1))return void document.body.classList.remove("multipleTextStyles");var o=ma(e),i=(0,cs.default)(wi,e,o,n,a,r);return i?(document.body.classList.add("multipleTextStyles"),i):void document.body.classList.remove("multipleTextStyles")}document.body.classList.remove("multipleTextStyles")})},web:function(e){return La(["showDefaultValues","showDimensions","styleColorFormat","webMixin","webStyleExportType","webUnitlessLineHeight"]).then(function(t){var n,a=t[0],r=t[1],o=t[2],i=t[3],s=t[4],l=t[5],c=e.toCSS(wi.densityDivisor,r,l,o,a),u=[];if("text"===e.type){var d=e.generateTextStyleCSS(wi,l,i,o,a);u=u.concat(d)}if(Object.keys(c).length>1&&u.unshift(c),i){var m=e.getDefaultTextStyle(),p=m&&wi.findTextStyleEqual(m);if(p&&!Xi.isHtmlTag(Xi.selectorize(p.name))){var g=u[0],f=p.toCSS(wi.densityDivisor,l,o,a);for(var h in f)"selector"!==h&&delete g[h];g.mixinEntry=f.selector.substr(1)}}return n=u.map(function(e){return Xi.toStyleRule(s,e,wi.getColorMapByFormat(o))}).join("\n\n"),{exportType:s,content:n}})}},Sp={android:function(e,t,n,a){var r,o,i;return La(["showDefaultValues","styleColorFormat","androidLineSpacingType","androidStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3];return"xml"===d?(r=wr(t),o=xr(a,u),i="\x3c!-- "+e+" --\x3e\n\n"+r+"\n\n\x3c!-- "+n+" --\x3e\n\n"+o):(r=Er(t,c),o=Lr(a,c,l),i="// "+e+"\n\n"+r+"\n\n// "+n+"\n\n"+o),{exportType:d,colorStyle:r,textStyle:o,allStyles:i}})},ios:function(e,t,n,a){var r,o,i;return La(["showDefaultValues","styleColorFormat","iosCategoryName","iosDeploymentTarget","iosStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3],m=s[4];if("objc"===m){var p;u?p=u:(p=wi.prefix.toUpperCase()+"Additions",Vi.projectPrefs.set(Bd.pid,"iosCategoryName",p)),r=dr(t,u),o=pr(a,p,d)}else"react"===m?(r=Er(t,c),o=Lr(a,c,l)):(r=mr(t,m),o=gr(a,d,m));return i="// "+e+"\n\n"+r+"\n\n// "+n+"\n\n"+o,{exportType:m,colorStyle:r,textStyle:o,allStyles:i}})},osx:function(e,t,n,a){var r,o,i;return La(["osxCategoryName","osxDeploymentTarget","osxStyleExportType"]).then(function(s){var l=s[0],c=s[1],u=s[2];if("objc"===u){var d;l?d=l:(d=wi.prefix.toUpperCase()+"Additions",Vi.projectPrefs.set(Bd.pid,"osxCategoryName",d)),r=fr(t,d),o=yr(a,d,c)}else r=hr(t,u),o=vr(a,c,u);return i="// "+e+"\n\n"+r+"\n\n// "+n+"\n\n"+o,{exportType:u,colorStyle:r,textStyle:o,allStyles:i}})},web:function(e,t,n,a){var r,o,i;return La(["showDefaultValues","styleColorFormat","webMixin","webStyleExportType","webUnitlessLineHeight"]).then(function(s){var l=s[0],c=s[1],u=s[2],d=s[3],m=s[4];r=br(d,t,c),o=jr(d,m,a,u,c,l),i="/* "+e+" */\n\n"+("css"===d?":root {\n":"")+r+("css"===d?"}":"")+"\n\n/* "+n+" */\n\n";var p=u?Sr(d,m,a,c):"";return p.length&&(i+=(p=("css"===d?":root {\n":"")+p+("css"===d?"}":""))+Xi.mixinSample(d,a)+"\n\n"),i+=o,{exportType:d,colorStyle:r,textStyle:o,allStyles:i}})}},jp={android:"light_orange",ios:"lightOrange",osx:"lightOrange",web:"light-orange"},Ep=[new Qi.default({r:254,g:207,b:51,a:1,name:"yellow"}),new Qi.default({r:253,g:189,b:57,a:1,name:"lightOrange"}),new Qi.default({r:238,g:103,b:35,a:1,name:"peach"})],Lp=Object.freeze({android:[new es.default({name:"header",fontFace:"Roboto-Regular",fontSize:24,color:{r:87,g:71,b:81}})],ios:[new es.default({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],osx:[new es.default({name:"header",fontFace:"SFUIDisplay-Regular",fontSize:24,color:{r:87,g:71,b:81}})],web:[new es.default({name:"header",fontFace:"system-ui",fontSize:24,color:{r:87,g:71,b:81}})]});Array.from(document.querySelectorAll('input[type="radio"][name="dotListingsStatusFilter"]')).forEach(function(e){e.addEventListener("change",function(e){Ia(e.target.value)})}),Array.from(document.querySelectorAll(".sidebarOptionsButton")).forEach(function(e){e.addEventListener("click",function(t){t.stopPropagation();var n=e.closest(".sidebarOptionRealm"),a=document.getElementById(e.dataset.menuId);if(n.classList.contains("optionsOpen"))mi(e);else{var r=Wi.getFirstScrollableParent(e)||n;hm=r.scrollTop,Jo(),n.classList.add("optionsOpen"),r.classList.add("optionsOpen"),r.style.top=-hm+"px",a.classList.add("open"),li(r,a),di(e,a)}})}),Array.from(document.querySelectorAll("input[name='colorFormat']")).forEach(function(e){e.addEventListener("change",function(e){Aa("styleguideColorFormat",e.target.value)})}),Array.from(document.querySelectorAll("input[name='styleguideColorFormat']")).forEach(function(e){e.addEventListener("change",function(e){Aa("colorFormat",e.target.value)})}),Array.from(document.querySelectorAll("input[name='lineSpacingType']")).forEach(function(e){e.addEventListener("change",function(e){Oa("styleguideLineSpacingType",e.target.value)})}),Array.from(document.querySelectorAll("input[name='styleguideLineSpacingType']")).forEach(function(e){e.addEventListener("change",function(e){Oa("lineSpacingType",e.target.value)})}),Array.from(document.querySelectorAll("input[name='androidStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],ui(e.target.value),Vi.projectPrefs.set(Bd.pid,"androidStyleExportType",e.target.value).then(function(){Ca(),qa()})})}),yc.addEventListener("change",function(e){Vi.projectPrefs.set(Bd.pid,"attributedStringShowDefaultAttributes",e.target.checked).then(function(){Ca()})}),Array.from(document.querySelectorAll("input[name='iosStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],document.querySelector("input[name='styleguideIosStyleExportType'][value='"+e.target.value+"']").checked=!0,document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",Vi.projectPrefs.set(Bd.pid,"iosStyleExportType",e.target.value).then(function(){Ca(),qa()})})}),Array.from(document.querySelectorAll("input[name='styleguideIosStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],document.querySelector("input[name='iosStyleExportType'][value='"+e.target.value+"']").checked=!0,document.querySelector(".iosCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",Vi.projectPrefs.set(Bd.pid,"iosStyleExportType",e.target.value).then(function(){Ca(),qa()})})}),Array.from(document.querySelectorAll("input[name='osxStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],document.querySelector("input[name='styleguideOsxStyleExportType'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"osxStyleExportType",e.target.value).then(function(){qa(),Ca()})})}),Array.from(document.querySelectorAll("input[name='styleguideOsxStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,document.querySelector(".osxCategoryContainer .categoryNameContainer .categoryTitle").textContent=("objc"===e.target.value?"Category":"Extension")+" name:",dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],document.querySelector("input[name='osxStyleExportType'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"osxStyleExportType",e.target.value).then(function(){qa(),Ca()})})}),Array.from(document.querySelectorAll("input[name='webStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],sc.querySelector("span").textContent=jm[e.target.value],fc.querySelector("span").textContent=jm[e.target.value],document.querySelector("input[name='styleguideWebStyleExportType'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"webStyleExportType",e.target.value).then(function(){Ca(),qa()})})}),Array.from(document.querySelectorAll("input[name='styleguideWebStyleExportType']")).forEach(function(e){e.addEventListener("change",function(e){document.body.dataset.styleType=e.target.value,dc.textContent=jm[e.target.value],Xl.textContent=jm[e.target.value],sc.querySelector("span").textContent=jm[e.target.value],fc.querySelector("span").textContent=jm[e.target.value],document.querySelector("input[name='webStyleExportType'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"webStyleExportType",e.target.value).then(function(){Ca(),qa()})})}),Array.from(document.querySelectorAll("input[name='iosDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){vc.querySelector("span").textContent=e.target.value,Sc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='styleguideIosDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"iosDeploymentTarget",e.target.value).then(function(){qa(),Ca()})})}),Array.from(document.querySelectorAll("input[name='styleguideIosDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){Sc.querySelector("span").textContent=e.target.value,vc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='iosDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"iosDeploymentTarget",e.target.value).then(function(){qa(),Ca()})})}),Array.from(document.querySelectorAll("input[name='osxDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){bc.querySelector("span").textContent=e.target.value,jc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='styleguideOsxDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"osxDeploymentTarget",e.target.value).then(function(){qa(),Ca()})})}),Array.from(document.querySelectorAll("input[name='styleguideOsxDeploymentTarget']")).forEach(function(e){e.addEventListener("change",function(e){jc.querySelector("span").textContent=e.target.value,bc.querySelector("span").textContent=e.target.value,document.querySelector("input[name='osxDeploymentTarget'][value='"+e.target.value+"']").checked=!0,Vi.projectPrefs.set(Bd.pid,"osxDeploymentTarget",e.target.value).then(function(){qa(),Ca()})})});var wp;Gl.addEventListener("change",function(){mc.checked=Gl.checked,clearTimeout(wp),wp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"showDimensions",Gl.checked).then(function(){Ca(),qa()})})});var xp;mc.addEventListener("change",function(){Gl.checked=mc.checked,clearTimeout(xp),xp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"showDimensions",mc.checked).then(function(){Ca(),qa()})})});var Cp;Jl.addEventListener("change",function(){pc.checked=Jl.checked,clearTimeout(Cp),Cp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"webUnitlessLineHeight",Jl.checked).then(function(){Ca(),qa()})})});var kp;pc.addEventListener("change",function(){Jl.checked=pc.checked,clearTimeout(kp),kp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"webUnitlessLineHeight",pc.checked).then(function(){Ca(),qa()})})});var Dp;$l.addEventListener("change",function(){gc.checked=$l.checked,clearTimeout(Dp),Dp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"webMixin",$l.checked).then(function(){Ca(),qa()})})});var Tp;gc.addEventListener("change",function(){$l.checked=gc.checked,clearTimeout(Tp),Tp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"webMixin",gc.checked).then(function(){Ca(),qa()})})});var qp;Ql.addEventListener("change",function(){ec.checked=Ql.checked,clearTimeout(qp),qp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"showDefaultValues",Ql.checked).then(function(){Ca(),qa()})})});var _p;ec.addEventListener("change",function(){Ql.checked=ec.checked,clearTimeout(_p),_p=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"showDefaultValues",ec.checked).then(function(){Ca(),qa()})})});var Ip;Yl.addEventListener("change",function(){clearTimeout(Ip),Ip=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"showOptimizedSVG",Yl.checked).then(function(){Array.from(document.querySelectorAll(".assetExporter[data-format='svg']")).forEach(function(e){e.querySelector(".assetStats").classList.toggle("hidden",!Yl.checked)})})})});var Ap=!1;if(Ic.addEventListener("click",function(e){if(Jo(),sm)sm=!1;else{var t=!1;if(e.target.classList.contains("dot"))e.stopPropagation(),t=!0,Hn(),oa(e.target);else if(Ap||(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)){e.stopPropagation(),t=!0,Na(),Dc.checked=!0,Oc.classList.remove("invisible"),Vi.projectPrefs.set(Bd.pid,"noteVisibility",!0),Hn(),Zn(),Ia("open",!0);var n=Oc.getBoundingClientRect(),a=zd.dots&&zd.dots.length?""+(parseInt(zd.dots[zd.dots.length-1].name,10)+1):"1";Hd=null,Vi.projectPrefs.get(Bd.pid,"lastNoteColorUsed").then(function(t){oa(xt(Qd={name:a,x:Math.max(0,Math.min((e.clientX-n.left)/n.width,1)),y:Math.max(0,Math.min((e.clientY-n.top)/n.height,1)),color:Lm[t]}))})}else if(e.target.classList.contains("layer")){e.stopPropagation(),t=!0,Wn();var r=e.target;if(document.elementsFromPoint){var o=document.elementsFromPoint(e.clientX,e.clientY).filter(function(e){return e.classList.contains("layer")});if(um&&dm){var i=document.elementsFromPoint(um,dm).filter(function(e){return e.classList.contains("layer")});r=Math.hypot(um-e.clientX,dm-e.clientY)>40||!Wi.arrayEqual(o,i,function(e,t){if(e.dataset.index===t.dataset.index)return!0})?o[0]:o[(o.findIndex(function(e){return e.classList.contains("selected")})+1)%o.length]}else r=o[0];um=e.clientX,dm=e.clientY}ya(r)}t&&(fs.classList.add("hidden"),hs.classList.add("hidden"),mi(Kl),tl.submitEdits())}}),Ic.addEventListener("mouseleave",function(){if(Yd){_c.addEventListener("mousemove",ra),Ic.classList.add("measuring"),Xd=!0;var e=document.querySelector(".parent");e&&e.classList.remove("parent")}}),Ic.addEventListener("mouseenter",function(e){_c.removeEventListener("mousemove",ra),Xd=!1}),_c.addEventListener("mouseenter",function(){gm&&document.body.classList.contains("mac")&&Ac.classList.remove("hidden"),Ic.classList.add("measuring"),Xd=!0}),_c.addEventListener("mouseleave",function(){Ac.classList.add("hidden"),Xd=!1,Ic.classList.remove("measuring"),Kn()}),wc.addEventListener("click",function(e){e.stopPropagation();for(var t=0;t<Cc.childElementCount;t++){var n=parseFloat(Cc.children[t].value);if(n>Jd){Jd=n;break}}_c.classList.add("zooming"),qt()}),kc.addEventListener("click",function(e){e.stopPropagation();for(var t=Cc.childElementCount-1;t>=0;t--){var n=parseFloat(Cc.children[t].value);if(n<Jd){Jd=n;break}}_c.classList.add("zooming"),qt()}),Cc.addEventListener("click",function(e){e.stopPropagation()}),Cc.addEventListener("change",function(){Jd=parseFloat(Cc.value),_c.classList.add("zooming"),qt({updateSelectedIndex:!1})}),_c.addEventListener("wheel",function(e){e.ctrlKey&&(e.preventDefault(),Jd=Math.max(.25,Math.min(Jd-e.deltaY/100,5)),qt())}),"GestureEvent"in window){var Op;_c.addEventListener("gesturestart",function(e){e.preventDefault(),Op=Jd}),_c.addEventListener("gesturechange",function(e){e.preventDefault(),Jd=Math.max(.25,Math.min(Op*e.scale,5)),qt()})}var Pp;Dc.addEventListener("change",function(){Oc.classList.toggle("invisible",!Dc.checked),clearTimeout(Pp),Pp=setTimeout(function(){Vi.projectPrefs.set(Bd.pid,"noteVisibility",Dc.checked)},1e3)}),document.getElementById("addNoteButton").addEventListener("click",function(e){e.stopPropagation(),Pa()}),Array.from(document.querySelectorAll(".addFirstNoteButton")).forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation(),Pa()})});var Np=6,Fp=13,Bp=26,Mp=29,Rp=!1,Up=document.getElementById("commentTemplate");Pc.addEventListener("click",function(e){e.stopPropagation();var t=e.target.closest(".comment"),n=zd.dots.find(function(e){return e._id===Pc.dataset.id});if(e.target.classList.contains("dotResolveButton"))Zo(Pc.dataset.id,"resolved");else if(e.target.classList.contains("dotReopenButton"))Zo(Pc.dataset.id,"open");else if(e.target.classList.contains("commentEditButton")){var a=Pc.querySelector(".comment.editing");a&&(a.querySelector(".commentMirror").innerHTML=Wa(Wd.note),a.querySelector(".commentMirror").classList.toggle("jumboEmojis",Me(Wd.note)),a.classList.remove("editing")),ms.close(),ds.close(),Mc.classList.add("hidden"),Mc.classList.remove("composing"),zc.innerHTML="&nbsp;",Zc.value="";var r=t.querySelector(".commentMirror"),o=t.querySelector(".commentNote");Wd=n.comments.find(function(e){return e._id===t.dataset.id}),r.innerHTML=Wa(Wd.note),r.classList.remove("jumboEmojis"),o.value=Wd.note,t.classList.add("editing"),o.focus()}else if(e.target.classList.contains("commentDeleteButton")){var i="Delete comment?";t.classList.contains("commentOwner")||(i="Delete "+t.querySelector(".commentAuthorName").textContent+"'s comment?"),Zi.create({title:i,message:"Deleted comments cannot be restored.",done:{name:"DELETE",cb:function(){Ja(t,zd,n)}},cancel:{name:"CANCEL",cb:function(){Zn()}}})}else e.target.classList.contains("commentDoneButton")&&Ga(t,zd,n,Wd)}),Pc.addEventListener("keydown",function(e){if(e.target.classList.contains("commentNote")){e.stopPropagation();var t=e.target.closest(".comment"),n=zd.dots.find(function(e){return e._id===Pc.dataset.id});switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Ga(t,zd,n,Wd);break;case Zeplin.KEY_CODE.ESC:ms.close(),ds.close(),t.classList.remove("editing"),Mc.classList.remove("hidden"),t.querySelector(".commentMirror").innerHTML=Wa(Wd.note),t.querySelector(".commentMirror").classList.toggle("jumboEmojis",Me(Wd.note)),e.target.blur()}}});var zp={positive:"👍",neutral:"🤔",negative:"😩"};Rc.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){if(Pc.classList.contains("resolved")){var t=document.querySelector("#dotPopup .comment:first-child .commentButtons");return t.classList.add("flashing"),void(t.animate([{opacity:0},{opacity:1},{opacity:0}],{duration:1e3,easing:"ease-in-out"}).onfinish=function(){t.classList.remove("flashing")})}if(e.target.closest("#newCommentButton"))return Mc.classList.add("composing"),void Zc.focus();var n=e.target.closest(".newCommentReaction"),a=zd.dots.find(function(e){return e._id===Pc.dataset.id}),r=a.comments[a.comments.length-1];if(r.author!==Zeplin.user._id||r.note!==zp[n.dataset.reaction]){var o=Zc.value;Zc.value=zp[n.dataset.reaction],Xa(zd,a,!0),Zc.value=o}}}),Zc.addEventListener("input",function(){$a(Zc,zc)}),Zc.addEventListener("click",function(e){e.stopPropagation(),$a(Zc,zc)}),Hc.addEventListener("click",function(){Hd?Xa(zd,Hd):Ct(zd,$d)}),Zc.addEventListener("keyup",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:$a(Zc,zc)}}),Zc.addEventListener("keydown",function(e){if(e.stopPropagation(),lu.classList.contains("hidden")&&cu.classList.contains("hidden"))switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&(Hd?Xa(zd,Hd):Ct(zd,$d));break;case Zeplin.KEY_CODE.ESC:cm[zd._id]&&(Hd?cm[zd._id].reply&&(cm[zd._id].reply[Hd._id]=null):cm[zd._id].comment=null),Mc.classList.remove("composing"),zc.innerHTML="&nbsp;",Zc.value="",Hd||Zn()}}),Bc.addEventListener("mouseover",function(e){e.target!==Bc&&e.target.closest(".comment").classList.remove("highlight")}),kd.querySelector(".screenLink.app").addEventListener("mouseleave",function(e){e.target.scrollLeft=0}),document.queryCommandSupported("copy")?(Il.addEventListener("click",function(){Wi.copyContent({content:Di.content,toastContainer:Qs})}),Al.addEventListener("focus",function(){Wi.copyContent({content:Di.content,toastContainer:Qs}),setTimeout(function(){Wi.selectContent(Al)},40)}),_s.addEventListener("focus",function(){Wi.copyContent({content:wi.shortUrl,toastContainer:Nu}),setTimeout(function(){Wi.selectContent(_s)},40)}),Ju.addEventListener("click",function(e){e.stopPropagation(),Wi.copyContent({content:wi.sceneUrl,toastContainer:Nu,container:Yu}),Ju.classList.add("copied")}),Is.addEventListener("click",function(e){Yo(e)}),kd.addEventListener("click",function(e){var t;if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&(t=e.target.closest(".copyLink"))){var n=t.classList.contains("web")?zd.url:kd.querySelector(".screenLink.app").textContent;Wi.copyContent({content:n,toastContainer:Qs})}}),kd.querySelector(".screenLink.web").addEventListener("focus",function(e){Wi.copyContent({content:zd.url,toastContainer:Qs}),setTimeout(function(){Wi.selectContent(e.target)},4)}),kd.querySelector(".screenLink.app").addEventListener("focus",function(e){Wi.copyContent({content:e.target.textContent,toastContainer:Qs}),setTimeout(function(){Wi.selectContent(e.target)},4)}),tc.addEventListener("click",function(){Wi.copyContent({content:rc.value,toastContainer:Qs}),rr(),vi(wi.type)}),fd.addEventListener("click",function(e){if(e.target.classList.contains("copyAssetStyleButton")){var t=document.querySelector(".assetStyle[data-export-type='"+e.target.dataset.exportType+"'] textarea").value;t=t.split("--\x3e")[1],Wi.copyContent({content:t.trim(),toastContainer:Qs}),or(e.target.dataset.exportType),vi("web")}}),bd.addEventListener("click",function(){Wi.copyContent({content:vd.value,toastContainer:Qs}),ir(),vi("web")})):(Is.remove(),Il.remove(),tc.remove(),Ju.remove(),bd.remove(),Array.from(document.querySelector(".copyAssetStyleButton")).forEach(function(e){e.remove()}),Array.from(kd.querySelectorAll(".copyLink")).forEach(function(e){e.remove()}),Array.from(kd.querySelectorAll(".screenLink")).forEach(function(e){e.addEventListener("click",function(e){Wi.selectContent(e.target)}),e.parentElement.dataset.tooltip="Click to select all",e.parentElement.dataset.tooltipType="text"})),Qs.addEventListener("click",function(e){if(e.stopPropagation(),e.target.classList.contains("addColor"))am&&(am=!1,Nr(e));else if(e.target.classList.contains("addTextStyle")){if(!rm)return;var t=e.target.closest(".textStyleWrapper");if(!t)return;t.classList.contains("added")?jo(t):vo(t)}window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),fs.classList.add("hidden"),hs.classList.add("hidden"),mi(Kl),tl.submitEdits(),Jo()}),Qs.addEventListener("contextmenu",function(e){e.stopPropagation()}),Qs.addEventListener("blur",function(e){if(e.preventDefault(),e.target.classList.contains("textStyleName")){if(!Wi.permissions.canManageTextStyles(xi))return;var t=e.target.closest(".textStyleWrapper");t&&ro(t.dataset.id,e.target)}else if(e.target.classList.contains("colorName")){if(!Wi.permissions.canManageColors(xi))return;var n=e.target.closest(".color");if(!n)return;var a=wi.findColorById(n.dataset.id);oo(e.target.value.substr(1),a,n)}},!0),Qs.addEventListener("submit",function(e){e.preventDefault(),e.target.classList.contains("textStyleNameForm")?e.target.querySelector(".textStyleName").blur():e.target.classList.contains("colorNameForm")&&e.target.querySelector(".colorName").blur()}),Qs.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:if(e.target.classList.contains("textStyleName")){var t=e.target.closest(".textStyleWrapper");if(t){var n=wi.findTextStyleById(t.dataset.id);e.target.value=n.name,e.target.blur()}}else if(e.target.classList.contains("colorName")){var a=e.target.closest(".color");if(!a)return;var r=wi.findColorById(a.dataset.id);e.target.value="#"+r.name,e.target.blur()}}}),Qs.addEventListener("input",function(e){if(e.preventDefault(),e.target.classList.contains("colorName")){var t=e.target.selectionStart,n=e.target.selectionEnd;"#"!==e.target.value.charAt(0)&&(t+=1,n+=1);var a=e.target.value;e.target.value="#"+e.target.value.replace(xm[wi.type],"");var r=a.length-e.target.value.length;r>0&&(t-=r,n-=r),e.target.setSelectionRange(t,n)}}),el.addEventListener("autocomplete",function(){var e=ds.manageSuggestedEmojis(el.querySelector("textarea"),el.querySelector(".mirror"));e&&(e.style.top=el.getBoundingClientRect().top+el.offsetHeight-90+"px",Qs.appendChild(e),ds.open())}),Qs.addEventListener("copy",ar),$s.addEventListener("copy",ar),nc.addEventListener("copy",rr),fd.addEventListener("copy",function(e){or(e.target.closest(".assetStyle").dataset.exportType)}),Sd.addEventListener("copy",ir);var Zp=document.getElementById("colorMenuTemplate");$s.addEventListener("contextmenu",function(e){if(Wi.permissions.canManageColors(xi)){Jo();var t=e.target.closest(".color");if(t){e.preventDefault();var n=t.querySelector(".colorName").value,a=document.importNode(Zp.content,!0),r=a.querySelector(".colorMenu");Array.from(r.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),r.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var n=e.target.closest(".menuitem");if(n){switch(e.stopPropagation(),n.dataset.action){case"delete":Fr(t)}setTimeout(function(){lr()},80)}}}),t.appendChild(a),ci(r,cc,t,e)}}}),$s.addEventListener("mouseover",function(e){e.target!==$s&&e.target.closest(".color").classList.remove("highlight")}),$s.addEventListener("input",function(e){var t=e.target.selectionStart,n=e.target.selectionEnd,a=e.target.value;if(e.preventDefault(),e.target.classList.contains("colorName"))e.target.value=e.target.value.replace(xm[wi.type],"");else if(e.target.classList.contains("colorHex"))e.target.value=e.target.value.replace(/([^a-fA-F0-9])/g,"");else{if(!e.target.classList.contains("colorAlpha"))return;e.target.value=e.target.value.replace(/([^0-9])/g,"")}t-=a.length-e.target.value.length,n-=a.length-e.target.value.length,e.target.setSelectionRange(t,n)}),$s.addEventListener("submit",function(e){e.target.classList.contains("colorInfoForm")&&e.target.checkValidity()&&(e.preventDefault(),e.target.querySelector("input[type='text']").blur())}),$s.addEventListener("blur",function(e){if(Wi.permissions.canManageColors(xi)){e.preventDefault();var t=e.target.closest(".color");if(t){var n,a=t.dataset.id,r=e.target,o=e.target.value,i=wi.findColorById(a);if(r.classList.contains("colorName"))oo(o,i,t);else if(r.classList.contains("colorHex")){if(i.hexBase()===o)return;if(!o||!/^[\da-f]{6}$/i.test(o))return void(e.target.value=i.hexBase());(n=wi.checkDuplicateColorHex(o,i))?(Zi.create({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=i.hexBase()):zr(Qi.default.hex2rgb(o),i,t)}else if(r.classList.contains("colorAlpha")){if(100*i.a===o)return;if(!o||/\D/.test(o)||o/100>1)return void(e.target.value=Math.round(100*i.a));(n=wi.checkDuplicateColorAlpha(o,i))?(Zi.create({title:"This color already exists: "+n.name,message:"Please check the values and try again!",done:{name:"GOT IT"}}),e.target.value=Math.round(100*i.a)):zr({a:o/100},i,t)}}}},!0),$s.addEventListener("keydown",function(e){e.stopPropagation();var t=e.target.closest(".color");if(t)switch(e.keyCode){case Zeplin.KEY_CODE.ESC:var n=wi.findColorById(t.dataset.id);e.target.classList.contains("colorName")?e.target.value=n.name:e.target.classList.contains("colorHex")?e.target.value=n.hexBase():e.target.classList.contains("colorAlpha")&&(e.target.value=Math.round(100*n.a)),e.target.blur()}else e.target.blur()});var Hp={css:{prefix:"  --",midfix:": ",suffix:";\n"},sass:{prefix:"$",midfix:": ",suffix:"\n"},scss:{prefix:"$",midfix:": ",suffix:";\n"},less:{prefix:"@",midfix:": ",suffix:";\n"},stylus:{prefix:"",midfix:" = ",suffix:"\n"}};document.body.classList.contains("canDownload")&&(yu.addEventListener("click",function(e){"web"===wi.type?(so(e),vi("web")):"android"===wi.type?(co(),vi("android")):"ios"===wi.type?(go(e),vi("ios")):"osx"===wi.type&&(mo(e),vi("mac"))}),vu.addEventListener("click",function(e){"web"===wi.type?(lo(e),vi("web")):"android"===wi.type?(uo(),vi("android")):"ios"===wi.type?(fo(e),vi("ios")):"osx"===wi.type&&(po(e),vi("mac"))})),Xs.addEventListener("blur",function(){Wi.permissions.canUpdateProject(xi)&&Xs.value!==wi.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:Xs.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(e){wi.prefix=e.prefix,qa()}).catch(Yi.handleError)}),Xs.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Xs.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Xs.value=wi.prefix,om.iosCategoryPrefix=wi.prefix,Xs.blur()}}),Xs.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?om.iosCategoryPrefix=e.target.value:e.target.value=om.iosCategoryPrefix}),Ks.addEventListener("blur",function(e){e.preventDefault(),e.target.value?Vi.projectPrefs.set(Bd.pid,"iosCategoryName",e.target.value).then(qa):Vi.projectPrefs.get(Bd.pid,"iosCategoryName").then(function(e){Ks.value=e,om.iosCategoryName=e})}),Ks.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:Ks.blur();break;case Zeplin.KEY_CODE.ESC:Vi.projectPrefs.get(Bd.pid,"iosCategoryName").then(function(e){Ks.value=e,om.iosCategoryName=e,Ks.blur()})}}),Ks.addEventListener("input",function(e){e.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(e.target.value)?om.iosCategoryName=e.target.value:e.target.value=om.iosCategoryName}),Js.addEventListener("blur",function(){Wi.permissions.canUpdateProject(xi)&&Js.value!==wi.prefix&&fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/prefix",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({prefix:Js.value})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw Yi.createError(e.status,t)})}).then(function(e){wi.prefix=e.prefix,qa()}).catch(Yi.handleError)}),Js.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),Js.blur();break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Js.value=wi.prefix,om.osxCategoryPrefix=wi.prefix,Js.blur()}}),Js.addEventListener("input",function(e){e.stopPropagation(),/^([a-z](?=[\da-z]*?)[\da-z]*|)$/i.test(e.target.value)?om.osxCategoryPrefix=e.target.value:e.target.value=om.osxCategoryPrefix}),Gs.addEventListener("blur",function(e){e.preventDefault(),e.target.value?Vi.projectPrefs.set(Bd.pid,"osxCategoryName",e.target.value).then(qa):Vi.projectPrefs.get(Bd.pid,"osxCategoryName").then(function(e){Gs.value=e,om.osxCategoryName=e})}),Gs.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:Gs.blur();break;case Zeplin.KEY_CODE.ESC:Vi.projectPrefs.get(Bd.pid,"osxCategoryName").then(function(e){Gs.value=e,om.osxCategoryName=e,Gs.blur()})}}),Gs.addEventListener("input",function(e){e.stopPropagation(),/^[a-z](?=[\da-z]*?)[\da-z]*$/i.test(e.target.value)?om.osxCategoryName=e.target.value:e.target.value=om.osxCategoryName}),window.addEventListener("offline",function(){"screen"===Ns.dataset.selection&&(zs.textContent="Looks like there is a problem with the connection.",Ns.className="offline")});var Wp=document.getElementById("screenSuggestionTemplate"),Vp=document.getElementById("memberMenuTemplate");Ys.addEventListener("click",function(e){e.preventDefault();var t=e.target.closest(".memberActionsButton"),n=t&&t.parentElement;t&&!n.classList.contains("memberMenuOpen")&&(e.stopPropagation(),Zr(n))}),Es.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:e.target.value=wi.name,e.target.blur()}}),Es.addEventListener("blur",function(e){e.preventDefault(),e.target.value!==wi.name&&Xr(e.target.value)}),Ls.addEventListener("submit",function(e){e.preventDefault(),Es.blur()});var Yp=document.getElementById("slackSettingsMenuTemplate");xd.addEventListener("click",function(e){if(e.stopPropagation(),Jo(),e.target.classList.contains("slackSettingsButton")){var t=e.target.closest(".integration"),n=wi.integration.slacks.find(function(e){return e._id===t.dataset.id}),a=document.importNode(Yp.content,!0).querySelector(".slackSettingsMenu");a.querySelector("a").href=n.incomingWebHook.configurationURL,a.addEventListener("click",function(e){switch(e.target.dataset.action){case"add":U(),q(Fi,{inNewTab:!1});break;case"remove":eo("slacks",t.dataset.id)}}),t.classList.add("slackMenuOpen"),t.appendChild(a)}});var Kp=document.getElementById("integrations"),Xp=document.getElementById("slackIntegrationTemplate");iu.addEventListener("mouseover",function(e){e.target!==iu&&e.target.closest(".font").classList.remove("highlight")}),iu.addEventListener("submit",function(e){e.preventDefault(),e.target.querySelector(".styleName").blur()}),iu.addEventListener("blur",function(e){if(Wi.permissions.canManageTextStyles(xi)){e.stopPropagation();var t=e.target.closest(".font");t&&(e.target.selectionEnd-e.target.selectionStart&&e.target.setSelectionRange(0,0),ro(t.dataset.id,e.target))}},!0),iu.addEventListener("keydown",function(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:var t=e.target.closest(".font").dataset.id,n=wi.findTextStyleById(t);e.target.value=n.name,e.target.blur()}}),iu.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".font");t&&(e.target.classList.contains("deleteTextStyle")?Zi.create({title:'Delete "'+t.querySelector(".styleName").value+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){So(t.dataset.id)}},cancel:{name:"CANCEL"}}):e.target.classList.contains("deleteTSColor")&&Zi.create({message:'Delete color of "'+t.querySelector(".styleName").value+'"?',done:{name:"DELETE",cb:function(){e.target.parentElement.classList.add("hidden"),Eo(t.dataset.id,{color:null})}},cancel:{name:"CANCEL"}}))}});var Gp=document.getElementById("textStyleMenuTemplate");iu.addEventListener("contextmenu",function(e){if(Wi.permissions.canManageTextStyles(xi)){Jo();var t=e.target.closest(".font");if(t){e.preventDefault();var n=t.querySelector(".styleName").value,a=document.importNode(Gp.content,!0),r=a.querySelector(".textStyleMenu");Array.from(r.querySelectorAll(".actionSubject")).forEach(function(e){e.textContent=n}),r.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var a=e.target.closest(".menuitem");if(a){switch(e.stopPropagation(),a.dataset.action){case"rename":Wi.highlightInput(t.querySelector(".styleName"));break;case"delete":Zi.create({title:'Delete "'+n+'"?',message:"Deleted text styles cannot be restored.",done:{name:"DELETE",cb:function(){So(t.dataset.id),Lo()}},cancel:{name:"CANCEL"}})}setTimeout(function(){Lo()},80)}}}),t.appendChild(a),ci(r,cc,t,e)}}});var Jp=0;Lu.addEventListener("click",function(e){e.stopPropagation(),Tu.focus();var t=Co(bu.dataset.sid);if(e.target.classList.contains("removeTag"))_o(t,Wi.unescapeHTML(e.target.parentElement.dataset.tag),"remove");else{var n=e.target.closest(".tagSuggestion");if(!n)return;_o(t,Wi.unescapeHTML(n.dataset.tag),"add")}}),Eu.addEventListener("click",function(e){Tu.focus(),e.stopPropagation()}),Eu.addEventListener("keydown",function(e){e.stopPropagation();var t=ku.querySelectorAll(".tagSuggestion");switch(e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault();var n=Lu.querySelector(".tagSuggestion.selected");n&&_o(Co(bu.dataset.sid),Wi.unescapeHTML(n.dataset.tag),"add"),(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&Do();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),t.length&&Jp<t.length-1&&Io(Jp+1);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),t.length&&Jp>0&&Io(Jp-1);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),Do()}}),Lu.addEventListener("mousemove",function(e){if(e.stopPropagation(),Oi!==e.clientX||Pi!==e.clientY){Tu.focus();var t=e.target.closest(".tagSuggestion");t&&(Io(parseInt(t.dataset.suggestionIndex)),Oi=e.clientX,Pi=e.clientY)}}),Du.addEventListener("click",Do),Tu.addEventListener("input",function(e){xo(wi.tags,Co(bu.dataset.sid).tags,e.target.value)}),bs.addEventListener("contextmenu",function(e){if(Wi.permissions.canManageScreens(xi)&&(Jo(),e.target.classList.contains("tag")&&!e.target.classList.contains("untagged"))){e.preventDefault();var t=document.importNode(_u.content,!0),n=t.querySelector(".tagMenu");n.dataset.tag=Wi.unescapeHTML(e.target.dataset.tag);var a,r=Wi.urlResolve("project-dashboard",{url:{pid:wi.id},query:{tag:[Wi.unescapeHTML(e.target.dataset.tag)]}});nr(r).then(function(e){a=e}),n.querySelector('.menuitem[data-action="create-section"]').classList.toggle("hidden",!Po(Wi.unescapeHTML(e.target.dataset.tag))),n.addEventListener("click",function(t){if(t.button===Zeplin.MOUSE_BUTTON.LEFT){var n=t.target.closest(".menuitem");if(n){switch(t.stopPropagation(),n.dataset.action){case"copy-web-link":Wi.copyContent({content:a||r,toastContainer:document.querySelector(".projectOverview")});break;case"copy-app-uri":Wi.copyContent({content:"zpl://project?pid="+wi.id+"&tag="+encodeURI(Wi.unescapeHTML(e.target.dataset.tag)),toastContainer:document.querySelector(".projectOverview")});break;case"create-section":cn(Wi.unescapeHTML(n.parentElement.dataset.tag));break;case"delete":Ao(Wi.unescapeHTML(n.parentElement.dataset.tag))}setTimeout(function(){Oo()},80)}}}),bs.appendChild(t),ci(n,Fu,bs,e)}}),"PointerEvent"in window?(Bi="pointerdown",Mi="pointermove",Ri="pointerup"):"ontouchstart"in document?(Bi="touchstart",Mi="touchmove",Ri="touchend"):(Bi="mousedown",Mi="mousemove",Ri="mouseup"),Iu.addEventListener(Bi,function(e){e.preventDefault(),Fo(Fu,"projectInfoWidth",{onResize:Tn})}),Au.addEventListener(Bi,function(e){e.preventDefault(),im=!0,Wn(),Jo(),Fo(Bu,"versionsSidebarWrapperWidth",{location:"left",onCollapse:function(){Tc.classList.contains("oldVersion")?Bu.classList.add("compact"):Tc.classList.remove("versionsShown")},onExpand:function(){Bu.classList.remove("compact"),Tc.classList.add("versionsShown")}})}),Ou.addEventListener(Bi,function(e){e.preventDefault(),im=!0,Wn(),Jo(),Fo(Mu,"rightSidebarWrapperWidth")}),Pu.addEventListener(Bi,function(e){e.preventDefault(),Fo(cc,"generatorContainerWidth")});var $p=document.getElementById("dotMenuTemplate");Ic.addEventListener("contextmenu",function(e){if(!sm&&(Jo(),Wn(),e.target.classList.contains("dot")&&"undefined"!==e.target.dataset.id)){e.preventDefault();var t=document.importNode($p.content,!0).querySelector(".dotMenu"),n=e.target,a=zd.dots.find(function(e){return e._id===n.dataset.id});t.style.zIndex=lm+1,document.queryCommandSupported("copy")||t.querySelector("button[data-action='copy-link']").remove(),n.classList.contains("open")?t.querySelector("button[data-action='reopen']").remove():t.querySelector("button[data-action='resolve']").remove(),n.classList.add("menuOpen"),n.classList.remove("hover"),t.addEventListener("click",function(e){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"reopen":Zo(a._id,"open");break;case"resolve":Zo(a._id,"resolved");break;case"copy-link":Wi.copyContent({content:Wi.urlResolve("project-screen",{url:{pid:wi.id,sid:zd._id},query:{did:a._id}}),toastContainer:qc});break;case"delete":var r;if(n.classList.contains("dotOwner"))r="Delete your note?";else{var o=Ue(a.creator,!0);r="Delete "+(o?o.user.username:"Anonymous")+"'s note?"}Zi.create({title:r,message:"Deleted notes cannot be restored.",done:{name:"DELETE",cb:function(){Bo(zd,n)}},cancel:{name:"CANCEL"}})}setTimeout(function(){Mo()},80)}}),t.querySelector(".menuitem[data-action='delete']").classList.toggle("hidden",!(e.target.classList.contains("dotOwner")||Wi.permissions.canRemoveNotes(xi))),Oc.appendChild(t),ci(t,Mu,Oc,e)}}),Ic.addEventListener("mousedown",function(e){e.target.classList.contains("dot")&&e.button===Zeplin.MOUSE_BUTTON.LEFT&&"undefined"!==e.target.dataset.id&&Ro(e.target)}),Ic.addEventListener("mouseenter",function(e){e.target.classList.contains("dot")&&e.target.classList.add("hover")},!0),Ic.addEventListener("mouseout",function(e){e.target.classList.contains("dot")&&e.target.classList.remove("hover")}),el.addEventListener("submit",function(){if(Wi.permissions.canManageScreens(xi)){var e=ds.replace(/:(\w+):/g,tl.value.trim());if(tl.value=e,zd&&zd.description!==e){var t=zd;fetch(Zeplin.urls.baseURL+"/projects/"+wi.id+"/screens/"+t._id,{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({description:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw Yi.createError(e.status,t)})}).then(function(){t.description=e}).catch(function(e){Yi.handleError(e,{dialogCallback:function(){tl.startEditing()}})})}}}),Ec.querySelector(".organizationRules .minRole").textContent=Dm.rook,zu.addEventListener("click",function(e){Hu.disabled=!1,Ju.classList.remove("copied");var t=Wi.permissions.canChangeProjectAccesibility(xi);if(wi.public){if(e.stopPropagation(),Jo(),!t&&!document.queryCommandSupported("copy"))return void q(wi.sceneUrl);var n=document.importNode(Zu.content,!0),a=n.querySelector(".shareSceneMenu");a.querySelector("button[data-action='copy-scene-link'] > span").textContent=document.queryCommandSupported("copy")?"Copy link":"Open in new tab",a.addEventListener("click",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".menuitem");if(t){switch(e.stopPropagation(),t.dataset.action){case"unshare":Xo(!1);break;case"copy-scene-link":document.queryCommandSupported("copy")?Wi.copyContent({content:wi.sceneUrl,toastContainer:Nu}):q(wi.sceneUrl)}setTimeout(function(){Go()},80)}}}),n.querySelector(".menuitem[data-action='unshare']").classList.toggle("hidden",!t),Vu.appendChild(n)}else Hu.disabled=!t,Yu.classList.add("hidden"),Ku.classList.remove("hidden"),Ec.showModal()}),Hu.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),Hu.classList.contains("loading")||(Hu.classList.add("loading"),Wu.disabled=!0,Xo(!0))}),Wu.addEventListener("click",function(e){Hu.classList.contains("loading")&&(e.preventDefault(),e.stopPropagation())}),Xu.addEventListener("click",function(){Wi.selectContent(Xu)}),Gu.addEventListener("click",function(){Ec.close()}),"undefined"!=typeof process&&document.querySelector("#installPanelInfo a").addEventListener("click",function(e){e.preventDefault(),Gi.default.shell.openExternal(e.target.href)});var Qp;od.addEventListener("click",function(e){e.stopPropagation()}),Array.from(document.querySelectorAll(".sidebarMenu")).forEach(function(e){e.addEventListener("mouseenter",function(e){e.target.closest(".sidebarMenuItems")&&ii(e.target.closest(".mainMenu"))},!0),e.addEventListener("click",function(t){t.button===Zeplin.MOUSE_BUTTON.LEFT&&(t.stopPropagation(),t.target.closest(".mainMenu")||mi(document.querySelector(".sidebarOptionsButton[data-menu-id='"+e.id+"']")))})});var eg,tg=document.getElementById("invitePopupContainer"),ng=new MutationObserver(function(e){e.forEach(function(e){if(e.oldValue&&e.oldValue.includes("sticky")||!e.target.classList.contains("sticky"))e.oldValue.includes("sticky")&&!e.target.classList.contains("sticky")&&(tg.style.right=0);else{var t=tg.clientWidth-eg;tg.style.right=t?t+"px":0}})});CSS.supports("position","sticky")||(ng.observe(Nu,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),Nu.addEventListener("scroll",function(){eg=tg.offsetWidth,Nu.classList.toggle("sticky",Nu.scrollTop>=242+xd.offsetHeight)}));var ag,rg=60,og=108,ig=12,sg=12,lg=359,cg=26,ug=lg-og;md.addEventListener("search",function(e){pd.classList.toggle("searching",!!md.value.length),qn({immediate:!1})});var dg;md.addEventListener("input",function(){_n(),pd.classList.toggle("searching",!!md.value.length),clearTimeout(dg),dg=setTimeout(function(){if(pd.classList.toggle("searching",!!md.value.length),!md.value)return delete Bd.q,void ce(wi.id);var e="q"in Bd;le(Wi.urlResolve("project-dashboard",{url:{pid:Bd.pid},query:{q:md.value}}),{shouldReplace:e})},200)}),md.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&(e.preventDefault(),e.stopPropagation(),md.value.trim()?(md.value="",pd.classList.remove("searching"),ce(wi.id)):hi())}),md.addEventListener("focus",function(e){e.preventDefault(),gd.classList.add("focus"),pd.classList.toggle("searching",!!md.value.length)}),md.addEventListener("blur",hi),Array.from(qd.querySelectorAll('input[type="checkbox"]')).forEach(function(e){e.addEventListener("change",function(e){var t="lastUpdated"===e.target.name?"name":"lastUpdated";document.querySelector('#sortOptions input[name="'+t+'"]').checked=!1,qn(),e.target.checked&&e.preventDefault()})}),Array.from(document.querySelectorAll("input[name='allAssetsNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){Td.querySelector("span").textContent=km[e.target.value],Dd.querySelector("span").textContent=km[e.target.value],document.querySelector("input[name='assetNamingConvention'][value='"+e.target.value+"']").checked=!0,sr(e.target.value),yi(e.target.value),Vi.projectPrefs.set(Bd.pid,"assetNamingConvention",e.target.value)})}),Array.from(document.querySelectorAll("input[name='assetNamingConvention']")).forEach(function(e){e.addEventListener("change",function(e){Td.querySelector("span").textContent=km[e.target.value],Dd.querySelector("span").textContent=km[e.target.value],document.querySelector("input[name='allAssetsNamingConvention'][value='"+e.target.value+"']").checked=!0,sr(e.target.value),yi(e.target.value);var t=Zd.snapshot.assets.find(function(e){return e.layerId?e.layerId===Di.sourceId:e.layerName===Di.name});if(t){var n=ht(t.contents);n&&fa(Di,n,t,e.target.value)}Vi.projectPrefs.set(Bd.pid,"assetNamingConvention",e.target.value)})}),bm.route(/\/project\/([0-9a-z]+)\/screen\/([0-9a-z]+)/i,function(e){ga("set","location",location.href),ga("set","title","Screen - Zeplin"),ga("send","pageview");var t=e.match[0],n=e.match[1];Bd=Object.assign({pid:t,sid:n},e.query);var a=bi(t);a&&a.then(function(){if(wi){if(Wi.validateId(n,"screen")){if(!zd||zd._id!==n)return Zt(n)}else Zi.create({title:"Invalid screen link",message:"There might be a typo, please try again."}),ce(wi.id,In());return Promise.resolve()}}).then(function(){if(zd){if(ie(),!("dots"in zd))return;e.query.did&&1===e.query.did.length?(Ia(ge(e.query.did[0]),!0),oa(e.query.did[0],e.query.cmid)):Z(e.query.did)}})}),bm.route(/\/project\/([0-9a-z]+)(?:\/(dashboard|styleguide))?/i,function(e){var t=e.match[0],n=e.match[1]||"dashboard";ga("set","location",location.href),ga("set","title",Wi.uppercaseFirst(n)+" - Zeplin"),ga("send","pageview"),Bd=Object.assign({pid:t},e.query);var a=bi(t);a&&a.then(function(){wi&&("sid"in e.query?("dashboard"!==Vd&&me(),Ht().length&&(_n(),qn()),W(e.query.sid)):"dashboard"===n?("dashboard"!==Vd&&me(),"tag"in e.query?An(e.query.tag):(_n(),"untagged"in e.query&&bs.childElementCount&&document.querySelector(".tag.untagged").classList.add("selected"),"q"in e.query?(md.value=e.query.q||"",pd.classList.toggle("searching",!!md.value.length)):(md.value="",pd.classList.remove("searching")),qn())):"cid"in e.query?("styleguide"!==Vd&&pe(),Y(e.query.cid)):"tsid"in e.query?("styleguide"!==Vd&&pe(),X(e.query.tsid)):"styleguide"===n&&"styleguide"!==Vd&&pe(),ie())})}),bm.start(document.body,function(){ns.default.measurePageDefaults(),ns.default.measure("page.start"),window.addEventListener("online",function(){Cookies.get("userToken")&&(R(),"screen"===Ns.dataset.selection&&(zs.textContent="Keep working! Connection is back…",Ns.className="online",document.hidden?document.addEventListener("visibilitychange",function e(){document.removeEventListener("visibilitychange",e),Si()}):Si()),tm=!0,setTimeout(function(){ye(Bd.pid)},1e3))}),fl.dataset.selection=document.querySelector(".resourceTab:checked").value,Array.from(document.querySelectorAll(".resourceTab")).forEach(function(e){e.addEventListener("change",function(e){fl.dataset.selection=e.target.value})}),Vi.userPrefs.get("tabTutorialSeen").then(function(e){e||(ad.classList.remove("hidden"),ad.addEventListener("click",function(e){e.stopPropagation(),ad.classList.add("hidden"),od.classList.remove("hidden")}))}),Vi.userPrefs.get("versionsTutorialSeen").then(function(e){e||(rd.classList.remove("hidden"),rd.addEventListener("click",function(e){e.stopPropagation(),rd.classList.add("hidden");var t=Hi.create({content:"Ping ping! Versions of screens are listed here.",popover:!0,noControls:!0,hideCallback:function(){Vi.userPrefs.set("versionsTutorialSeen",!0)}});document.body.appendChild(t)}))})})}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(2)],void 0!==(r=function(e,t){"use strict";function n(e){return e.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/'/gm,"&apos;")}function a(e){for(var t=e.parentElement;t&&t.scrollHeight<=t.clientHeight;)t=t.parentElement;return t}function r(e,t){var n=document.createElement("div"),a=document.createElement("div");n.appendChild(a),n.classList.add("toastContainer"),a.classList.add("toast"),a.textContent=e,(t=t||document.body).appendChild(n),setTimeout(function(){n.classList.add("show"),setTimeout(function(){n.addEventListener("transitionend",function(){n.remove()}),n.classList.remove("show")},3e3)},50)}function o(e){getSelection().removeAllRanges();var t=document.createRange();t.selectNodeContents(e),getSelection().addRange(t)}function i(e,t){return e=Number(e),t=void 0===t?0:Number(t),t=Math.pow(10,t),Math.round(e*t)/t}function s(e){return e.charAt(0).toUpperCase()+e.substring(1)}function l(e){if(!Object.keys(e))return"";var t=[];return Object.keys(e).forEach(function(n){e[n]&&("string"==typeof e[n]?t.push([n,e[n]]):e[n].forEach(function(e){t.push([n,e])}))}),t.map(function(e){return e.map(encodeURIComponent).join("=")}).join("&")}function c(e,t){return Object.keys(t).reduce(function(e,n){return e.replace(new RegExp(":"+n),t[n])},e)}function u(e){return 0===Object.keys(e).length}function d(e){return(e.getDay()+6)%7}function m(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=t.getTime(),a=new Date(n-864e5),r=new Date(n-864e5*d(e)),o=new Date(n-864e5*(d(e)+7)),i=new Date(n-864e5*(e.getDate()-1)),s=new Date(n-864e5*(e.getDate()+1));return s.setDate(1),[["today",t],["yesterday",a],["this week",r],["last week",o],["this month",i],["last month",s]]}Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeSwiftColor=e.normalizeObjCColor=e.getFirstInvalidCharIndex=e.startsWith=e.getTimeSlot=e.escapeAndroidXML=e.urlResolve=e.joinUrlParams=e.parseUrlParams=e.highlightMatchedParts=e.calculateMatchingScore=e.permissions=e.uppercaseFirst=e.lowercaseFirst=e.validateId=e.arrayEqual=e.spanEmojis=e.emojiRegex=e.fontSort=e.arrayRemove=e.wiggle=e.sortBy=e.setAvatar=e.scrollIfNecessary=e.roundToPriceString=e.roundToFloatString=e.round=e.resizeImage=e.isElementVisible=e.copyContent=e.selectContent=e.showToast=e.getFirstScrollableParent=e.highlightInput=e.unescapeHTML=e.escapeHTML=void 0;var p=function(e){return e&&e.__esModule?e:{default:e}}(t),g=["alien","bear","grapes","meat_on_bone","bread","lollipop","chicken","cookie","dark_sunglasses","dart","dog","eyes","frog","ghost","gift","jack_o_lantern","hamburger","koala","four_leaf_clover","lemon","lion_face","tophat","monkey_face","new_moon_with_face","hamster","mushroom","chestnut","octopus","panda_face","penguin","pig_nose","rabbit","mouse","robot_face","space_invader","full_moon_with_face","tennis","tomato","tv"],f={},h={king:4,queen:3,rook:2,knight:1,pawn:0,owner:2,admin:1,user:0},y={role:function(e,t){return"invited"===e.user.status?"invited"===t.user.status&&e.user.email<t.user.email?-1:1:"invited"===t.user.status?-1:e.role===t.role?e.user.username<t.user.username?-1:1:h[t.role]-h[e.role]},created:function(e,t){return new Date(t.created)-new Date(e.created)},lastUpdated:function(e,t){return new Date(t.updated)-new Date(e.updated)},name:function(e,t){for(var n=e.name.toLowerCase().match(/\D+|\d+/g),a=t.name.toLowerCase().match(/\D+|\d+/g),r=Math.min(n.length,a.length),o=0;o<r;o++)if(n[o]!==a[o]){var i=parseInt(n[o],10),s=parseInt(a[o],10);return isNaN(i)||isNaN(s)?n[o]<a[o]?-1:n[o]>a[o]?1:0:i-s}return n.length-a.length}},v=/(?:0\u20E3|1\u20E3|2\u20E3|3\u20E3|4\u20E3|5\u20E3|6\u20E3|7\u20E3|8\u20E3|9\u20E3|#\u20E3|\*\u20E3|\uD83C(?:\uDDE6\uD83C(?:\uDDE8|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDEE|\uDDF1|\uDDF2|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFC|\uDDFD|\uDDFF)|\uDDE7\uD83C(?:\uDDE6|\uDDE7|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDEF|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFB|\uDDFC|\uDDFE|\uDDFF)|\uDDE8\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF5|\uDDF7|\uDDFA|\uDDFB|\uDDFC|\uDDFD|\uDDFE|\uDDFF)|\uDDE9\uD83C(?:\uDDEA|\uDDEC|\uDDEF|\uDDF0|\uDDF2|\uDDF4|\uDDFF)|\uDDEA\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEC|\uDDED|\uDDF7|\uDDF8|\uDDF9|\uDDFA)|\uDDEB\uD83C(?:\uDDEE|\uDDEF|\uDDF0|\uDDF2|\uDDF4|\uDDF7)|\uDDEC\uD83C(?:\uDDE6|\uDDE7|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDEE|\uDDF1|\uDDF2|\uDDF3|\uDDF5|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFC|\uDDFE)|\uDDED\uD83C(?:\uDDF0|\uDDF2|\uDDF3|\uDDF7|\uDDF9|\uDDFA)|\uDDEE\uD83C(?:\uDDE8|\uDDE9|\uDDEA|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF6|\uDDF7|\uDDF8|\uDDF9)|\uDDEF\uD83C(?:\uDDEA|\uDDF2|\uDDF4|\uDDF5)|\uDDF0\uD83C(?:\uDDEA|\uDDEC|\uDDED|\uDDEE|\uDDF2|\uDDF3|\uDDF5|\uDDF7|\uDDFC|\uDDFE|\uDDFF)|\uDDF1\uD83C(?:\uDDE6|\uDDE7|\uDDE8|\uDDEE|\uDDF0|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFB|\uDDFE)|\uDDF2\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF5|\uDDF6|\uDDF7|\uDDF8|\uDDF9|\uDDFA|\uDDFB|\uDDFC|\uDDFD|\uDDFE|\uDDFF)|\uDDF3\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEB|\uDDEC|\uDDEE|\uDDF1|\uDDF4|\uDDF5|\uDDF7|\uDDFA|\uDDFF)|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C(?:\uDDE6|\uDDEA|\uDDEB|\uDDEC|\uDDED|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF7|\uDDF8|\uDDF9|\uDDFC|\uDDFE)|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C(?:\uDDEA|\uDDF4|\uDDF8|\uDDFA|\uDDFC)|\uDDF8\uD83C(?:\uDDE6|\uDDE7|\uDDE8|\uDDE9|\uDDEA|\uDDEC|\uDDED|\uDDEE|\uDDEF|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF7|\uDDF8|\uDDF9|\uDDFB|\uDDFD|\uDDFE|\uDDFF)|\uDDF9\uD83C(?:\uDDE6|\uDDE8|\uDDE9|\uDDEB|\uDDEC|\uDDED|\uDDEF|\uDDF0|\uDDF1|\uDDF2|\uDDF3|\uDDF4|\uDDF7|\uDDF9|\uDDFB|\uDDFC|\uDDFF)|\uDDFA\uD83C(?:\uDDE6|\uDDEC|\uDDF2|\uDDF8|\uDDFE|\uDDFF)|\uDDFB\uD83C(?:\uDDE6|\uDDE8|\uDDEA|\uDDEC|\uDDEE|\uDDF3|\uDDFA)|\uDDFC\uD83C(?:\uDDEB|\uDDF8)|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C(?:\uDDEA|\uDDF9)|\uDDFF\uD83C(?:\uDDE6|\uDDF2|\uDDFC)))|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2694\u2696\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD79\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED0\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3]|\uD83E[\uDD10-\uDD18\uDD80-\uDD84\uDDC0]/g,b=["user","admin","owner","pawn","knight","rook","queen","king"],S={canTransferOwnership:["king","queen","rook","owner"],canLeaveProject:["king","queen","rook","knight","pawn","user","admin"],canCreateProject:["king","queen","rook"],canUpdateProject:["king","queen","rook","owner","admin","user"],canChangeProjectAccesibility:["king","queen","rook","owner","admin"],canChangeProjectStatus:["king","queen","rook","owner","admin"],canDeleteProject:["king","queen","rook","owner"],canManageScreens:["king","queen","rook","owner","admin","user"],canManageColors:["king","queen","rook","owner","admin","user"],canManageTextStyles:["king","queen","rook","owner","admin","user"],canRemoveNotes:["king","queen","owner","admin"]},j={isSuperior:function(e,t,n){var a=b.indexOf(e.role),r=b.indexOf(t.role);return n&&a===r||a>r}};for(var E in S)j[E]=function(e){return function(t){return S[e].indexOf(t.role)>=0}}(E);var L={downloads:"/downloads",forgotPassword:"/forgot-password",hodor:"/hodor",huggingSlack:"/hugging-slack",login:"/login",preview:"/project/:pid/preview",profile:"/profile","profile-account":"/profile/account","profile-password":"/profile/password","profile-billing":"/profile/billing",project:"/project/:pid","project-dashboard":"/project/:pid/dashboard","project-styleguide":"/project/:pid/styleguide","project-screen":"/project/:pid/screen/:sid",projects:"/projects",register:"/register",resetPassword:"/reset-password",thanks:"/thanks",verify:"/verify",welcome:"/welcome","organization-create":"/organization/create","organization-dashboard":"/organization/:oid/dashboard","organization-profile":"/organization/:oid/profile","organization-profile-billing":"/organization/:oid/profile/billing","organization-projects":"/organization/:oid/projects"};e.escapeHTML=n,e.unescapeHTML=function(e){return e.replace(/&apos;/gm,"'").replace(/&quot;/gm,'"').replace(/&gt;/gm,">").replace(/&lt;/gm,"<").replace(/&amp;/gm,"&")},e.highlightInput=function(e){setTimeout(function(){e.focus(),e.select()},4)},e.getFirstScrollableParent=a,e.showToast=r,e.selectContent=o,e.copyContent=function(e){var t=document.createElement("div");t.classList.add("copyContainer"),t.textContent=e.content,e.container?e.container.appendChild(t):document.body.appendChild(t),o(t);try{document.execCommand("copy")&&e.toastContainer&&r("Copied to clipboard!",e.toastContainer)}catch(e){}getSelection().removeAllRanges(),t.remove()},e.isElementVisible=function(e,t){if(!(t=t||a(e)))return!0;var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return r.top<=n.top&&r.bottom>=n.bottom&&r.left<=n.left&&r.right>=n.right},e.resizeImage=function(e,t,n){var a=Zeplin.urls.imgURL+"/"+encodeURIComponent(t),r="?w="+e.width,o="?w="+2*e.width;n&&n.crop&&(r+="&cropTop=0&cropLeft=0&cropWidth="+e.width+"&cropHeight="+e.height,o+="&cropTop=0&cropLeft=0&cropWidth="+2*e.width+"&cropHeight="+2*e.height);var i=a+r,s=a+o+" 2x";e.addEventListener("error",function n(){e.removeEventListener("error",n),e.removeAttribute("srcset"),e.crossOrigin="anonymous",e.src=t}),e.src=i,e.srcset=s},e.round=i,e.roundToFloatString=function(e,t){return e=i(e,t),Number.isInteger(e)?e.toFixed(1):String(e)},e.roundToPriceString=function(e){return e=i(e,2),Number.isInteger(e)?e.toFixed():e.toFixed(2)},e.scrollIfNecessary=function(e,t){if(t=t||a(e)){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();setTimeout(function(){n.top<r.top?t.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(t.scrollTop+=n.bottom-r.bottom)},4)}},e.setAvatar=function(e,t,n){var a=e.parentElement;if(a.classList.add("loading"),e.removeAttribute("src"),e.removeAttribute("srcset"),e.addEventListener("load",function t(){e.removeEventListener("load",t),a.classList.remove("loading")}),t){var r=!1;if("ignoreRandomEmotar"in(n=n||{})&&(r=n.ignoreRandomEmotar),!r&&t.emotar){var o=t.emotar.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});return o=s(o),void(e.src=Zeplin.urls.appURL+"/img/emotars/emotar"+o+".png")}if(t.avatar)e.src=t.avatar;else{var i;if(r)i=Zeplin.urls.appURL+"/img/emotars/icRandom.svg";else{var l=f[t._id];l||(l=Array.from((0,p.default)(t._id)).reduce(function(e,t){return e+t.charCodeAt()},0),f[t._id]=l),i=s(i=g[l%g.length].replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()})),i=Zeplin.urls.appURL+"/img/emotars/emotar"+i+".png"}if(t.email){var c=e.width,u="https://secure.gravatar.com/avatar/"+(0,p.default)(t.email);e.src=u+"?s="+c+"&d="+i,e.srcset=u+"?s="+2*c+"&d="+i+" 2x"}}}else e.src=Zeplin.urls.appURL+"/img/emotars/emotarAnonymous.png"},e.sortBy=y,e.wiggle=function(e){e.addEventListener("animationend",function(t){e.classList.remove("wiggle")}),e.classList.add("wiggle")},e.arrayRemove=function(e,t){var n=e.findIndex(t);if(-1!==n)return e.splice(n,1)[0]},e.fontSort=function(e,t){return e.fontSize>t.fontSize?-1:e.fontSize===t.fontSize?e.fontWeight>t.fontWeight?-1:e.fontWeight===t.fontWeight?e.color&&t.color?e.fontFace<=t.fontFace?-1:1:e.color?-1:t.color?1:e.fontFace<=t.fontFace?-1:1:1:1},e.emojiRegex=v,e.spanEmojis=function(e){return e.replace(v,function(e){return'<span class="emoji">'+e+"</span>"}).replace(/<\/span><span class="emoji">/g,"")},e.arrayEqual=function(e,t,n){if(e.length!==t.length)return!1;for(var a=0;a<e.length;a++)if(!n(e[a],t[a]))return!1;return!0},e.validateId=function(e,t){return!(!e||!/^[0-9a-f]{24}$/i.test(e))||("Raven"in window&&Raven.captureException(new Error("Invalid "+(t||"object")+" id"),{extra:{id:e}}),!1)},e.lowercaseFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},e.uppercaseFirst=s,e.permissions=j,e.calculateMatchingScore=function(e,t,n){var a=t.toLowerCase();if(e===a)return{score:1,hasFuzzyMatch:!1};var r=0,o=e,i=n&&n.toLowerCase();if(i&&o.includes(i)){r+=.3;var s=o.replace(new RegExp("\\s*\\b"+i+"\\s*\\b","g")," ").trim();s.length&&(o=s)}var l=a.indexOf(o);l>-1&&(r+=.3,a.startsWith(o)?r+=.3:" "===a.charAt(l-1)&&(r+=.2),r+=(a.length-l)/a.length/200);for(var c=-1,u=0,d=0,m=c=a.indexOf(o.charAt(d));m<a.length&&-1!==c;m++){u+=(a.length-c)/a.length/200," "===a.charAt(c>0?c-1:c)&&(u+=(a.length-c)/a.length/200);var p=o[++d];c=p?a.indexOf(p,c+1):-1}var g=!1;return d===o.length&&(r+=.05,r+=u,g=!0),{score:r,hasFuzzyMatch:g}},e.highlightMatchedParts=function(e,t,a,r){var o=0,i=t.toLowerCase();if(i.includes(a))o=i.indexOf(a),e.innerHTML=n(t.slice(0,o))+"<span class='highlight'>"+n(t.slice(o,o+a.length))+"</span>"+n(t.slice(o+a.length,t.length));else if(r){var s=Array.from(t),l=Array.from(i),c=Array.from(a),u="",d=0;o=l.indexOf(c[0]);for(var m=0;m<l.length;m++)if(o===m){var p=c[++d];o=p?l.indexOf(p,o+1):-1,u+="<span class='highlight'>"+n(s[m])+"</span>"}else u+=n(s[m]);e.innerHTML=u}else e.textContent=t},e.parseUrlParams=function(e){var t=(e="?"===e[0]?e.substring(1):e).split("&").map(function(e){return e.split("=").map(function(e){return e.replace(/\+/g,"%20")}).map(decodeURIComponent)}),n=Array.from(new Set(t.map(function(e){return e[0]}))).reduce(function(e,t){return e[t]=[],e},{});return t.forEach(function(e){var t=n[e[0]];t&&e[1]&&t.push(e[1])}),n},e.joinUrlParams=l,e.urlResolve=function(e,t){t=t||{};var n=new URL(t.origin||"https://app.zeplin.io");return n.pathname=t.url?c(L[e],t.url):L[e],t.query&&!u(t.query)&&(n.search=l(t.query)),t.hash&&!u(t.hash)&&(n.hash=l(t.hash)),n.toString()},e.escapeAndroidXML=function(e){return n(e).replace(/^@/gm,"\\ufeff@")},e.getTimeSlot=function(e){var t=m().find(function(t){return e>=t[1]});if(t)return t[0];return((new Date).getFullYear()===e.getFullYear()?Intl.DateTimeFormat("en",{month:"long"}):Intl.DateTimeFormat("en",{year:"numeric",month:"long"})).format(e)},e.startsWith=function(e,t){return e.split(/[\W_]/).some(function(e){return e.startsWith(t)})},e.getFirstInvalidCharIndex=function(e,t){return t?e.length-e.split("").reverse().join("").search(/\W/)-1:e.search(/\W/)},e.normalizeObjCColor=function(e){return e=Math.round(e),e?255===e?"1.0f ":e+".0f / 255.0f ":"0.0f "},e.normalizeSwiftColor=function(e){return e=Math.round(e),e?255===e?"1.0, ":e+".0 / 255.0, ":"0.0, "}}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=md5},function(e,t,n){var a,r;a=[t,n(4)],void 0!==(r=function(e,t){"use strict";function n(){r=i.default.createInstance({driver:[i.default.INDEXEDDB,i.default.LOCALSTORAGE],name:"userPrefs",version:1}),o=i.default.createInstance({driver:[i.default.INDEXEDDB,i.default.LOCALSTORAGE],name:"projectPrefs",version:1})}function a(e){return function(){var t=arguments;return e.apply(null,t).catch(function(){n(),e.apply(null,t)})}}Object.defineProperty(e,"__esModule",{value:!0}),e.projectPrefs=e.userPrefs=void 0;var r,o,i=function(e){return e&&e.__esModule?e:{default:e}}(t),s={notificationStatus:!1,notificationBannerStatus:!0,projectSortType:"created",tabTutorialSeen:!1,versionsTutorialSeen:!1,hideNoVectorAssetInfo:!1,lastOrganization:"user",dashboardMemberSortKey:{field:"role",reverse:!0},resolvedDotsTutorialSeen:!1},l={assetNamingConvention:"default",dotListingsStatusFilter:"open",generatorContainerWidth:300,lastNoteColorUsed:"yellow",layoutGridEnabled:!1,noResourceInfoDismissed:!1,noteVisibility:!0,projectInfoWidth:280,rightSidebarWrapperWidth:280,sectionsCollapseState:{},showOptimizedSVG:!0,showDefaultValues:!1,showDimensions:!0,styleColorFormat:"default",versionsLastSeen:{},versionsSidebarWrapperWidth:280,zoomLevel:1,attributedStringShowDefaultAttributes:!1,androidLineSpacingType:"extra",androidStyleExportType:"xml",androidResFolderReminderSeen:!1,iosDeploymentTarget:"10.0",iosStyleExportType:"swift",osxDeploymentTarget:"10.12",osxStyleExportType:"swift",webMixin:!1,webStyleExportType:"css",webUnitlessLineHeight:!0};n();var c={get:function(e){return r.getItem(e).then(function(t){return null===t?s[e]:t})},set:function(e,t){return r.setItem(e,t)}},u={get:function(e,t,n){return o.getItem(e).then(function(e){return e&&t in e?n?e[t][n]:e[t]:l[t]})},set:function(e,t,n,a){return o.getItem(e).then(function(r){return r||(r={}),a?(r[t]||(r[t]={}),r[t][n]=a,o.setItem(e,r)):(r[t]=n,o.setItem(e,r))})}};u.get=a(u.get),u.set=a(u.set),c.get=a(c.get),c.set=a(c.set),o.iterate(function(e,t){var n=!1;"webStyleColorFormat"in e&&(e.styleColorFormat=e.webStyleColorFormat,delete e.webStyleColorFormat,n=!0),"webDefaultValues"in e&&(e.showDefaultValues=e.webDefaultValues,delete e.webDefaultValues,n=!0),"webShowDimensions"in e&&(e.showDimensions=e.webShowDimensions,delete e.webShowDimensions,n=!0),n&&o.setItem(t,e)}),e.userPrefs=c,e.projectPrefs=u}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=localforage},function(e,t,n){var a,r;a=[t,n(6),n(7),n(8)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.handleError=e.createError=void 0;var o=r(t),i=r(n),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);e.createError=function(e,t){return t=t||{},e>=400&&e<500?new o.default(e,t.title,t.message):e>=500&&e<600?new i.default(e):new Error("We're experiencing a problem here, our developers are on the case. Please try it later.")},e.handleError=function(e,t){var n={title:e.title,message:e.message};if(e instanceof i.default)t?"serverErrorHandler"in t?t.serverErrorHandler(e):("serverErrorDialogCallback"in t?n.done={cb:t.serverErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n)):s.create(n);else if(e instanceof o.default)if(401===e.status){if(t&&"clientErrorHandler"in t&&"object"==typeof t.clientErrorHandler&&"function"==typeof(r=t.clientErrorHandler[401]))return void r();Cookies.expire("userToken"),localStorage.removeItem("user"),Raven.setUserContext(),s.create({title:e.title,message:e.message},{defer:!0}),Zeplin.requireLogin()}else if(400===e.status&&Raven.captureException(e),t)if("clientErrorHandler"in t){var a=t.clientErrorHandler;if("function"==typeof a)a(e);else if("object"==typeof a){var r=a[e.status];"function"==typeof r?r(e):"default"in a&&a.default(e)}}else"clientErrorDialogCallback"in t?n.done={cb:t.clientErrorDialogCallback}:"dialogCallback"in t&&(n.done={cb:t.dialogCallback}),s.create(n);else s.create(n);else Raven.captureException(e),t&&"fallbackHandler"in t?t.fallbackHandler():s.create()}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";function t(e,t,n){this.stack=(new Error).stack,this.status=e||400,this.title=t||"Ooops!",this.message=n||"We're experiencing a problem here, our developers are on the case. Please try it later."}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t,(t.prototype=Object.create(Error.prototype)).name="ClientError",t.prototype.toString=function(){return"("+this.status+") "+this.title+"\n"+this.message}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";function t(e){switch(this.stack=(new Error).stack,this.status=e||500,this.status){case 503:this.message="Under maintenance, please try again in a little while.";break;default:this.message="We're experiencing a problem here, our developers are on the case. Please try it later."}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t,(t.prototype=Object.create(Error.prototype)).name="ServerError",t.prototype.toString=function(){return"("+this.status+") "+this.message}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(9)],void 0!==(r=function(e,t){"use strict";function n(e){var t=document.createElement("dialog"),n=document.createElement("h1"),r=document.createElement("div"),o=document.createElement("form"),i=document.createElement("button"),s=document.createElement("div"),l=document.createElement("div");if(e&&e.img){var c=document.createElement("div");c.classList.add("iconContainer"),s.appendChild(c),a(e.img,t)}if(n.classList.add("title"),s.appendChild(n),r.classList.add("message"),s.appendChild(r),e&&e.input){s.classList.add("inputDialogContainer");var u=document.createElement("div"),d=document.createElement("span"),m=document.createElement("input");u.classList.add("inputContainer"),d.classList.add("subtitle"),d.textContent=e.input.title,m.type=e.input.type,u.appendChild(d),u.appendChild(m),o.appendChild(u)}if(e&&e.cancel){var p=document.createElement("button");p.classList.add("cancel"),p.type="submit",p.textContent=e.cancel.name||"CANCEL",p.appendChild(document.createElement("paper-ripple")),e.cancel.cb&&p.addEventListener("click",e.cancel.cb),l.appendChild(p)}return i.classList.add("done"),i.type="submit",i.autofocus=!0,i.textContent=e&&e.done&&e.done.name||"OK",i.appendChild(document.createElement("paper-ripple")),e&&e.done&&e.done.cb&&i.addEventListener("click",e.done.cb),l.appendChild(i),l.classList.add("buttonContainer"),o.appendChild(l),o.setAttribute("method","dialog"),s.appendChild(o),t.appendChild(s),document.querySelector("body").appendChild(t),t}function a(e,t){var n=t.querySelector("img");n?(n.src=e.src,n.srcset=e.srcset||""):((n=document.createElement("img")).src=e.src,n.srcset=e.srcset||"",t.querySelector(".iconContainer").appendChild(n))}function r(e,t){if(!document.querySelector("dialog.generic")||e){var a=e&&e.title||"",r=e&&e.message||"We're experiencing a problem here, our developers are on the case. Please try it later.",i=!1;if(t&&"defer"in t&&(i=t.defer),i)sessionStorage.setItem("deferredDialog",JSON.stringify({title:a,message:r}));else{var s=n(e);o.default.registerDialog(s),s.querySelector(".title").textContent=a,s.querySelector(".message").textContent=r,s.addEventListener("click",function(e){e.stopPropagation()}),s.addEventListener("close",function(){s.remove()}),e||s.classList.add("generic"),s.showModal()}}}Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.polyfill=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(t),i=JSON.parse(sessionStorage.getItem("deferredDialog"));i&&(sessionStorage.removeItem("deferredDialog"),r(i)),e.polyfill=o.default,e.create=r}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=dialogPolyfill},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[exports],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var electronModule;"undefined"!=typeof process&&(electronModule=eval("require")("electron")),exports.default=electronModule}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},,,,,,,,,,,,,function(e,t,n){var a,r;a=[n(1)],void 0!==(r=function(e){"use strict";function t(e){clearTimeout(u.get(e)),u.delete(e)}function n(e){function n(){t(e.target),u.set(e.target,setTimeout(function(){e.target.removeEventListener("mouseleave",n),e.target.classList.remove("tooltipShown"),a.remove()},c))}if(e.target.classList.contains("tooltipShown"))t(e.target);else{var a=document.createElement("div");a.classList.add("tooltip","invisible");var r=e.target.dataset.tooltip;switch(e.target.dataset.tooltipType){case"html":a.innerHTML=o.unescapeHTML(r);break;case"text":default:a.textContent=r}e.target.classList.add("tooltipShown");var d=e.target.getBoundingClientRect();a.style.top=d.bottom-s+"px",a.style.left=d.left+d.width/2+"px",e.target.addEventListener("mouseleave",n),e.target.addEventListener("click",n),a.addEventListener("mouseenter",function(){t(e.target),a.addEventListener("mouseleave",n),a.addEventListener("click",function(e){e.stopPropagation()})}),document.body.appendChild(a);var m=a.getBoundingClientRect();m.left<i?(a.style.left=i+"px",a.classList.add("overflown")):m.right+i>window.innerWidth&&(a.style.left=window.innerWidth-i-m.width+"px",a.classList.add("overflown")),m.bottom+i>window.innerHeight&&(a.style.top=d.top-m.height+s+"px");var p=l;e.target.dataset.tooltipDelay&&(p=parseInt(e.target.dataset.tooltipDelay,10)),setTimeout(function(){a.classList.remove("invisible")},p)}}function a(e){e.removeAttribute("title"),e.addEventListener("mouseenter",n)}function r(e){if(e.nodeType===Node.ELEMENT_NODE){if(e.hasAttribute("data-tooltip"))return void a(e);Array.from(e.children).forEach(r)}}var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e),i=12,s=2,l=500,c=200,u=new WeakMap;window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("[data-tooltip]");Array.from(e).forEach(a);var t={attributes:!0,childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["data-tooltip"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":null===e.oldValue?a(e.target):e.target.dataset.tooltip||e.target.removeEventListener("mouseenter",n);break;case"childList":Array.from(e.addedNodes).forEach(r)}})}).observe(document.body,t)})}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(25),n(5),n(26),n(1)],void 0!==(r=function(e,t,n,a,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){f||"dismissed"===sessionStorage.getItem("socketErrorBannerStatus")||(f=setTimeout(function(){u.show({contentType:"text",group:"socket",content:"Real-time updates are disabled due to socket connectivity problem.",closeCallback:function(){sessionStorage.setItem("socketErrorBannerStatus","dismissed")}})},m))}Object.defineProperty(e,"__esModule",{value:!0}),e.updateEmotar=e.showFailedPaymentBanner=e.getPlans=e.userChannel=e.pusher=e.projectTypes=void 0;var s,l=function(e){return e&&e.__esModule?e:{default:e}}(t),c=o(n),u=o(a),d=Object.freeze({android:"Android",ios:"iOS",osx:"macOS",web:"Web"}),m=3e4;window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.oldValue),n=JSON.parse(e.newValue);if(!n)return;if(Zeplin.user=n,t._id!==n._id)return location.reload()}});var p,g,f;Cookies.get("userToken")&&("Intercom"in window&&Intercom("boot",{app_id:"41ycdg94",user_id:Zeplin.user._id,email:Zeplin.user.email,last_seen_user_agent:navigator.userAgent,"last seen at web":Math.floor(Date.now()/1e3),username:Zeplin.user.username,verified:"verified"===Zeplin.user.status,plan:Zeplin.user.paymentPlan}),e.pusher=p=new l.default("2f5176ab06dc15ac99da",{encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:Zeplin.urls.baseURL+"/pusher/auth",auth:{headers:{"Zeplin-Token":Cookies.get("userToken")}}}),p.connection.bind("failed",i),p.connection.bind("unavailable",i),p.connection.bind("connected",function(){Zeplin.headers.set("Zeplin-Socket-Id",p.connection.socket_id),clearTimeout(f),u.closeBanner("socket")}),e.userChannel=g=p.subscribe("private-user@"+Zeplin.user._id),g.bind("UpdateUsername",function(e){Zeplin.updateUser({username:e.body.username})}),g.bind("UpdateEmail",function(e){Zeplin.updateUser({email:e.body.email})}),g.bind("VerifyUser",function(){Zeplin.updateUser({status:"verified"})}),g.bind("UpdateEmailNotifications",function(e){Zeplin.updateUser({emailNotifications:e.body.emailNotifications})}),g.bind("UpdateUserBilling",function(e){Zeplin.updateUser({billing:{email:e.body.email,extraInfo:e.body.extraInfo}})}),g.bind("DeleteUser",function(){Cookies.expire("userToken"),localStorage.removeItem("user"),location.replace((0,r.urlResolve)("login"))})),e.projectTypes=d,e.pusher=p,e.userChannel=g,e.getPlans=function(){return s?Promise.resolve(s):fetch(Zeplin.urls.baseURL+"/api/plans").then(function(e){return e.json().then(function(t){if(e.ok)return s=Object.freeze(t.plans);throw c.createError(e.status,t)})})},e.showFailedPaymentBanner=function(e){function t(){u.closeBanner("payment"),o&&(document.querySelector("header.tabs").dataset.selection="billing",document.querySelector("#billingTab").checked=!0)}var n,a={contentType:"html",group:"payment"},o=document.querySelector("#billingTab");e.oid?"queen"===e.currentRole||"king"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please <a href='"+(0,r.urlResolve)("organization-profile-billing",{url:{oid:e.oid}})+"'>update</a> your organization payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing "+(e.isGeneric?"the projects of the organization":"this project")+", please contact organization admins and ask them to update payment information.":"owner"===e.currentRole?(n="Payment failed: To continue accessing "+(e.isGeneric?"your projects":"this project")+", please <a href='"+(0,r.urlResolve)("profile-billing")+"'>update</a> your payment information.",a.bodyCallbacks={a:t}):n="Payment failed: To continue accessing this project, please contact the owner ("+e.ownerEmail+") and ask them to update their payment information.",a.content=n,u.show(a)},e.updateEmotar=function(e){return fetch(Zeplin.urls.baseURL+"/users/emotar",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emotar:e})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw c.createError(e.status,t)})})}}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=Pusher},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.show=function(e){e=e||{};var n=document.importNode(t.content,!0).querySelector(".banner"),a=n.querySelector(".bannerContent");if(e.group){if(document.querySelector("."+e.group+"Banner"))return;n.classList.add(e.group+"Banner")}switch(e.contentType){case"html":a.innerHTML=e.content;break;case"text":default:a.textContent=e.content}if(n.classList.add(e.type||"warn"),n.addEventListener("click",function(e){e.stopPropagation()}),n.querySelector(".bannerCloseButton").addEventListener("click",function(t){t.stopPropagation(),e.closeCallback&&e.closeCallback(),n.remove()}),e.bodyCallbacks)for(var r in e.bodyCallbacks)n.querySelector(r).addEventListener("click",e.bodyCallbacks[r]);e.container?e.container.appendChild(n):document.body.appendChild(n)},e.closeBanner=function(e){var t=document.querySelector("."+e+"Banner");t&&t.remove()};var t=document.getElementById("bannerTemplate")}.apply(t,a))&&(e.exports=r)},,,,,,function(e,t,n){var a,r;a=[n(24),n(8),n(5),n(1)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){switch(e){case 1:return"1 active project";case 999:case-1:return"Unlimited projects";default:return e+" Active Projects"}}function i(){C.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")}function s(e){E.getPlans().then(function(t){var n=t.find(function(t){return t._id===e});if(N=e,M=n.price){var a=e.split("_");F=a[0],B=a[1]||"monthly",R=F,U=B}else{R=F=e,U=B="annual";var r=document.getElementById("updatePlanButton");r&&("banker_bilo"===e?r.querySelector("button").textContent="💰💰💰":"bff"===e&&(r.querySelector("button").textContent="💝"))}var o=document.getElementById("planName");o&&(o.textContent=n.name),k.dataset.currentPlanId=e,"period"in W?(c(W.period),document.getElementById(W.period+"Payment").checked=!0,delete W.period,i()):(c(B),document.getElementById(B+"Payment").checked=!0),"coupon"in W&&(q.value=W.coupon,q.parentElement.classList.toggle("typed",!!q.value),m(W.coupon),delete W.coupon,i())}).catch(w.handleError)}function l(e,t,n,a){var r=t.price/("monthly"===n?1:12),i=e.querySelector(".planPrice"),s=e.querySelector(".planProjectCount"),l=d(U,a);e.classList.toggle("annual","annual"===n),l&&(r-=a.percent_off?r*a.percent_off/100:a.amount_off,r=Math.max(r,0)),i.dataset.value=r,r/=100,i.textContent=Math.trunc(r),i.dataset.fr=(r%1+""||"").substring(1,4),s.textContent=o(t.limit)}function c(e,t){var n=document.querySelector(".plan.growing"),r=document.querySelector(".plan.current"),o=document.querySelector(".plan.organization");U=e||"monthly",T.classList.toggle("invisible","annual"===e),E.getPlans().then(function(i){if(Array.from(document.querySelectorAll(".plan")).forEach(function(n){var a=i.find(function(t){return V[e][n.dataset.planId]===t._id});l(n,a,e,t)}),r&&r.classList.remove("current"),r&&(r.querySelector("button").disabled=!1),"free"===F||"starter"===F||"growing"===F&&"monthly"===B&&"annual"===e?n.classList.add("recommended"):n.classList.remove("recommended"),o.querySelector(".createLink").href=(0,a.urlResolve)("organization-create",{query:{period:e}}),M&&e===B&&"company"!==F&&Y.indexOf(N)>-1){(r=document.querySelector(".plan."+F)).classList.add("current"),r.querySelector("button").disabled=!0;var s=i.find(function(e){return N===e._id});l(r,s,e)}}).catch(w.handleError)}function u(e){return e?fetch(Zeplin.urls.baseURL+"/stripe/coupons/"+encodeURIComponent(e),{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(!e.ok)throw w.createError(e.status,t);return t})}):Promise.resolve(null)}function d(e,t){if(!t||"annual"===e)return D.innerHTML="&nbsp;",!1;if(t.redeem_by&&Date.now()/1e3>t.redeem_by)return D.textContent="This coupon is expired.",!1;if(t.max_redemptions&&t.times_redeemed>=t.max_redemptions)return D.textContent="This coupon is maxed out.",!1;var n=t.percent_off?t.percent_off+"% off":t.amount_off/100+"$ off";switch(t.duration){case"once":n+=" for the first "+("monthly"===e?"month":"year");break;case"repeating":n+=" for "+t.duration_in_months+" months";break;case"forever":n+=" forever"}return D.textContent=n,!0}function m(e,t){u(e).then(function(e){Z=e,I.disabled=!0,t=t||"auto";var n=e.metadata&&e.metadata.source;mixpanel.track("Applied coupon",{type:t,source:n}),ga("legacyTracker.send","event","PAYMENT_EVENTS","applied-coupon","type:"+t+(n?";source:"+n:""))}).catch(function(e){Z=null,I.disabled=!1,w.handleError(e)}).then(function(){c(U,Z)})}function p(e,t,n,r){x.classList.remove("hidden");var o={plan:V[n][t],stripeToken:e};"monthly"===n&&r&&(o.coupon=r.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw w.createError(e.status,t)})}).then(function(){fbq("track","Purchase",{value:z/100,currency:"USD",content_type:"product",content_ids:[V[n][t]]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","subscribed","to:"+V[n][t]),mixpanel.track("Subscribed",{to:V[n][t]}),Zeplin.updateUser({paymentPlan:V[n][t]}),location.replace((0,a.urlResolve)("thanks",{query:{at:"ns"}}))}).catch(function(e){x.classList.add("hidden"),w.handleError(e)})}function g(e,t,n){L.create({title:"Update subscription?",message:"You can update it again, anytime!",done:{name:"UPDATE",cb:function(){x.classList.remove("hidden");var r={plan:V[t][e]};"monthly"===t&&n&&(r.coupon=n.id),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify(r)}).then(function(n){if(!n.ok)return n.json().then(function(e){throw w.createError(n.status,e)});mixpanel.track("Changed plan",{from:Zeplin.user.paymentPlan,to:V[t][e]}),ga("legacyTracker.send","event","PAYMENT_EVENTS","changed-plan","from:"+Zeplin.user.paymentPlan+";to:"+V[t][e]),Zeplin.updateUser({paymentPlan:V[t][e]}),location.replace((0,a.urlResolve)("thanks",{query:{at:"us"}}))}).catch(function(e){x.classList.add("hidden"),w.handleError(e)})}},cancel:{name:"CANCEL"}}),mixpanel.track("Opened change plan dialog",{currentPlan:Zeplin.user.paymentPlan}),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-change-plan-dialog","currentPlan:"+Zeplin.user.paymentPlan)}function f(e,t,n,r){L.create({title:"Downgrade subscription?",message:"You can upgrade again at anytime.",done:{name:"UPDATE",cb:function(){x.classList.remove("hidden");var o={plan:V[n][t]};"monthly"===n&&r&&(o.coupon=r.id),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions/downgrade",{method:"POST",headers:Zeplin.headers,body:JSON.stringify(o)}).then(function(e){if(!e.ok)return e.json().then(function(t){throw w.createError(e.status,t)});Zeplin.updateUser({paymentPlan:V[n][t]}),location.replace((0,a.urlResolve)("projects"))}).catch(function(e){x.classList.add("hidden"),w.handleError(e)})}},cancel:{name:"CANCEL"}})}function h(){L.create({title:"Cancel subscription?",message:"Make sure to archive your projects before.",done:{name:"CANCEL PLAN",cb:function(){x.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/users/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw w.createError(e.status,t)});Zeplin.updateUser({paymentPlan:"free"}),L.create({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything bothering you: support@zeplin.io",done:{cb:function(){location.replace((0,a.urlResolve)("projects"))}}})}).catch(function(e){x.classList.add("hidden"),w.handleError(e)})}},cancel:{name:"KEEP"}})}function y(e){L.create({title:"Cancel subscription?",message:"Your organization projects will be archived.",done:{name:"CANCEL PLAN",cb:function(){x.classList.remove("hidden"),fetch(Zeplin.urls.baseURL+"/stripe/organizations/"+e+"/subscriptions",{method:"DELETE",headers:Zeplin.headers}).then(function(e){if(!e.ok)return e.json().then(function(t){throw w.createError(e.status,t)})}).then(function(){L.create({title:"Subscription cancelled successfully",message:"It's sad to see you go. Let us know if there's anything we can improve: support@zeplin.io",done:{cb:function(){location.replace((0,a.urlResolve)("projects"))}}})}).catch(function(e){x.classList.add("hidden"),w.handleError(e)})}},cancel:{name:"KEEP"}})}function v(e){e.preventDefault(),H?y(H._id):h()}function b(e,t){K.open({name:"Zeplin, Inc.",description:e,email:Zeplin.user.email,panelLabel:t,amount:z}),mixpanel.track("Opened Stripe popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-stripe-popup"),ga("send","pageview","/stripe-popup")}function S(e,t,n){var a;switch(n.duration){case"once":a="30 days";break;case"repeating":a=n.duration_in_months+" months"}Array.from(A.querySelectorAll(".friendlyReminderDuration")).forEach(function(e){e.textContent=a}),A.dataset.planName=e.querySelector(".planName").textContent,E.getPlans().then(function(n){var a=n.find(function(n){return V[t][e.dataset.planId]===n._id});A.querySelector(".friendlyReminderPrice").textContent=a.price/100,A.showModal(),mixpanel.track("Opened trial credit card explanation popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-trial-credit-card-explanation-popup")})}function j(e){var t=E.pusher.subscribe("private-organization@"+e);t.bind("CreateOrganizationSubscription",function(e){H.paymentPlan=e.body.plan,s(e.body.plan),c(B),document.getElementById(B+"Payment").checked=!0}),t.bind("UpdateOrganizationSubscription",function(e){H.paymentPlan=e.body.plan,s(e.body.plan),c(B),document.getElementById(B+"Payment").checked=!0})}var E=r(e),L=r(t),w=r(n),x=document.getElementById("loading"),C=document.getElementById("planChooserOverlay"),k=document.getElementById("planChooserContent"),D=document.getElementById("discountNotice"),T=document.getElementById("couponForm"),q=document.getElementById("couponCode"),_=document.getElementById("plans"),I=document.getElementById("applyCouponButton"),A=document.getElementById("friendlyReminderDialog"),O=document.getElementById("cancelFriendlyReminderButton"),P=document.getElementById("continueToPaymentButton");L.polyfill.registerDialog(A);var N,F,B,M,R,U,z,Z,H,W={},V={monthly:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_monthly_v2",growing:"growing_monthly_v2",organization:"organization_monthly"},annual:{bff:"bff",banker_bilo:"banker_bilo",free:"free",starter:"starter_annual_v2",growing:"growing_annual_v2",organization:"organization_annual"}},Y=["starter_monthly_v2","starter_annual_v2","growing_monthly_v2","growing_annual_v2","organization_monthly","organization_annual"],K=StripeCheckout.configure({key:"pk_live_XfHC5uYDKaZYEOC1m9FlXwtq",image:Zeplin.urls.appURL+"/img/favicon/128x128.png",token:function(e){x.classList.remove("hidden"),p(e.id,R,U,Z)}});Array.from(k.querySelectorAll("[name='paymentPeriod']")).forEach(function(e){e.addEventListener("change",function(e){c(e.target.value,Z)})}),q.parentElement.classList.toggle("typed",!!q.value),q.addEventListener("keyup",function(){q.parentElement.classList.toggle("typed",!!q.value),q.value||(Z=null,c(U))}),q.addEventListener("blur",function(){q.parentElement.classList.toggle("typed",!!q.value),q.value||(Z=null,c(U))}),q.addEventListener("input",function(e){I.disabled=Z&&Z.id===q.value}),T.addEventListener("submit",function(e){e.preventDefault(),m(q.value,"manual")}),O.addEventListener("click",function(){A.close()}),P.addEventListener("click",function(){b(A.dataset.planName,"Pay 0/mo")}),_.addEventListener("click",function(e){if(e.target.classList.contains("choosePlan")){var t=e.target.closest(".plan");if(R=t.dataset.planId,M){if("organization"===R)return void C.classList.add("hidden");H?f(H._id,R,U,Z):g(R,U,Z)}else if((z=parseInt(t.querySelector(".planPrice").dataset.value,10))||"forever"===Z.duration){var n;"monthly"===U?n="Pay {{amount}}/mo":(n="Pay {{amount}}/year",z*=12),b(t.querySelector(".planName").textContent,n)}else S(t,U,Z)}else e.target.classList.contains("cancelPlan")&&v(e)}),Array.from(k.querySelectorAll(".warning .cancelPlanLink")).forEach(function(e){e.addEventListener("click",v)}),k.addEventListener("click",function(e){e.stopPropagation()}),C.addEventListener("click",function(){C.classList.add("hidden")}),C.addEventListener("keydown",function(e){e.stopPropagation()}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&C.classList.add("hidden")}),location.search&&location.search.substr(1).split("&").forEach(function(e){var t=e.split("=");W[decodeURIComponent(t[0])]=decodeURIComponent(t[1])});var X=location.pathname.match(/\/organization\/([\da-f]{24})\/profile/i);X?function(e){return fetch(Zeplin.urls.baseURL+"/organizations/"+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw w.createError(e.status,t)})})}(X[1]).then(function(e){H=e,"organization_free"!==e.paymentPlan&&s(e.paymentPlan),j(e._id)}).catch(w.handleError):(s(Zeplin.user.paymentPlan),function(e){e.bind("CreateUserSubscription",function(e){s(e.body.plan),c(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("UpdateUserSubscription",function(e){s(e.body.plan),c(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:e.body.plan})}),e.bind("CancelUserSubscription",function(){s("free"),c(B),document.getElementById(B+"Payment").checked=!0,Zeplin.updateUser({paymentPlan:"free"})})}(E.userChannel))}.apply(t,a))&&(e.exports=r)},,function(e,t,n){var a,r;a=[n(24),n(1),n(5),n(35),n(38),n(10)],void 0!==(r=function(e,t,n,a,r,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return b.escapeHTML(e).replace(/\*([^*]+)\*/g,function(e,t){return"<strong>"+t+"</strong>"})}function c(e,t){var n="end",a=e.events.length;t&&("position"in t&&t.position&&(n=-1!==["start","end"].indexOf(t.position)?t.position:"end"),"eventsLength"in t&&(a=t.eventsLength));var r,o=new Date(e.updated);switch(e.actionName){case"CreateDot":var i=[],s={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){i.push(e)}),1===i.length){u=e.events[0].source;r=document.importNode(document.querySelector(".notificationTemplate.createDotSingleUser").content,!0),b.setAvatar(r.querySelector(".dotAuthorImage"),u),r.querySelector(".dotAuthor").textContent=u.username}else{r=document.importNode(document.querySelector(".notificationTemplate.createDotMultiUser").content,!0),i.length>3?(g=i.slice(0,3),f=i.length-3+" more people",r.querySelector(".tailUsername").title=i.slice(3).join("\n")):(f=i.pop(),g=i),r.querySelector(".headUsernames").textContent=g.join(", "),r.querySelector(".tailUsername").textContent=f}1===a?(s.query.did=e.events[0].dot._id,r.querySelector(".notification").classList.add("withContent"),r.querySelector(".notificationContent").innerHTML=b.spanEmojis(b.escapeHTML(e.content)),r.querySelector(".notificationContent").title=e.content):(r.querySelector(".dotCount").textContent=a,s.query.did=e.events.map(function(e){return e.dot._id})),r.querySelector(".notification").href=b.urlResolve("project-screen",s),r.querySelector(".screenName").textContent=e.params.screen.name,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"ResolveDot":var i=[],s={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){i.push(e)}),1===i.length){var c=e.events[0].source;r=document.importNode(document.querySelector(".notificationTemplate.resolveDotSingleUser").content,!0),b.setAvatar(r.querySelector(".dotResolverImage"),c),r.querySelector(".dotResolver").textContent=c.username}else{r=document.importNode(document.querySelector(".notificationTemplate.resolveDotMultiUser").content,!0),i.length>3?(g=i.slice(0,3),f=i.length-3+" more people",r.querySelector(".tailUsername").title=i.slice(3).join("\n")):(f=i.pop(),g=i),r.querySelector(".headUsernames").textContent=g.join(", "),r.querySelector(".tailUsername").textContent=f}1===a?(s.query.did=e.events[0].dot._id,r.querySelector(".dotName").textContent=e.events[0].dot.name):(r.querySelector(".dotCount").textContent=a,s.query.did=e.events.map(function(e){return e.dot._id})),r.querySelector(".notification").href=b.urlResolve("project-screen",s),r.querySelector(".screenName").textContent=e.params.screen.name,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"CreateDotComment":var i=[],s={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:e.params.dot._id}};if(new Set(e.events.map(function(e){return e.source.username})).forEach(function(e){i.push(e)}),1===i.length){var u=e.events[0].source;r=document.importNode(document.querySelector(".notificationTemplate.createCommentSingleUser").content,!0),b.setAvatar(r.querySelector(".commentAuthorImage"),u),r.querySelector(".commentAuthor").textContent=u.username}else{r=document.importNode(document.querySelector(".notificationTemplate.createCommentMultiUser").content,!0);i.length>3?(g=i.slice(0,3),f=i.length-3+" more people",r.querySelector(".tailUsername").title=i.slice(3).join("\n")):(f=i.pop(),g=i),r.querySelector(".headUsernames").textContent=g.join(", "),r.querySelector(".tailUsername").textContent=f}1===a?(s.query.cmid=e.events[0].comment._id,r.querySelector(".notification").classList.add("withContent"),r.querySelector(".notificationContent").innerHTML=b.spanEmojis(b.escapeHTML(e.content)),r.querySelector(".notificationContent").title=e.content):s.query.cmid=e.events.map(function(e){return e.comment._id}),r.querySelector(".notification").href=b.urlResolve("project-screen",s),r.querySelector(".noteName").textContent=e.params.dot.name,r.querySelector(".screenName").textContent=e.params.screen.name,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"CreateDot-Mention":case"CreateDotComment-Mention":var d=e.events[0],s={url:{pid:e.params.project._id,sid:e.params.screen._id},query:{did:"CreateDot-Mention"===e.actionName?d.dot._id:e.params.dot._id,cmid:d.comment._id}};(r=document.importNode(document.querySelector(".notificationTemplate.commentMention").content,!0)).querySelector(".notification").href=b.urlResolve("project-screen",s),b.setAvatar(r.querySelector(".mentionAuthorImage"),d.source),r.querySelector(".mentionAuthor").textContent=d.source.username,r.querySelector(".noteName").textContent="CreateDot-Mention"===e.actionName?d.dot.name:e.params.dot.name,r.querySelector(".screenName").textContent=e.params.screen.name,r.querySelector(".notificationContent").innerHTML=b.spanEmojis(b.escapeHTML(e.content)),r.querySelector(".notificationContent").title=e.content,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"CreateScreen":s={url:{pid:e.params.project._id}};if(1===a){m="project-screen";p=e.events[0].screen;s.url.sid=p._id,(r=document.importNode(document.querySelector(".notificationTemplate.createScreen").content,!0)).querySelector(".screenName").textContent=p.name}else m="project",(r=document.importNode(document.querySelector(".notificationTemplate.createScreenMulti").content,!0)).querySelector(".screenCount").textContent=a,r.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),s.query={sid:e.events.map(function(e){return e.screen._id})};r.querySelector(".notification").href=b.urlResolve(m,s),b.setAvatar(r.querySelector(".notifierImage"),e.params.source),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"CreateVersion":var m,s={url:{pid:e.params.project._id}};if(1===a){m="project-screen";p=e.events[0].screen;s.url.sid=p._id,(r=document.importNode(document.querySelector(".notificationTemplate.createVersion").content,!0)).querySelector(".screenName").textContent=p.name}else m="project",(r=document.importNode(document.querySelector(".notificationTemplate.createVersionMulti").content,!0)).querySelector(".screenCount").textContent=a,r.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n"),s.query={sid:e.events.map(function(e){return e.screen._id})};r.querySelector(".notification").href=b.urlResolve(m,s),b.setAvatar(r.querySelector(".notifierImage"),e.params.source),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"DeleteScreen":if(1===a){var p=e.events[0].screen;(r=document.importNode(document.querySelector(".notificationTemplate.deleteScreen").content,!0)).querySelector(".screenName").textContent=p.name}else(r=document.importNode(document.querySelector(".notificationTemplate.deleteScreenMulti").content,!0)).querySelector(".screenCount").textContent=a,r.querySelector(".screenCount").title=e.events.map(function(e){return e.screen.name}).join("\n");b.setAvatar(r.querySelector(".notifierImage"),e.params.source),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"InviteUser":if(a>1){w=e.events.map(function(e){return e.project.name}),D=e.events.map(function(e){return e.project._id}),(r=document.importNode(document.querySelector(".notificationTemplate.inviteUserMulti").content,!0)).querySelector(".projectCount").textContent=a,r.querySelector(".tailProject").textContent=w.pop(),r.querySelector(".headProjects").textContent=w.join(", "),L=b.urlResolve("projects",{query:{pid:D}})}else{y=e.events[0].project;(r=document.importNode(document.querySelector(".notificationTemplate.inviteUser").content,!0)).querySelector(".projectName").textContent=y.name,L=b.urlResolve("project",{url:{pid:y._id}})}r.querySelector(".notification").href=L;S=e.params.source;b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username;break;case"RemoveUserFromProject":S=e.params.source;r=document.importNode(document.querySelector(".notificationTemplate.removeUser").content,!0),b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=e.params.project.name;break;case"UserJoined":if(a>1){r=document.importNode(document.querySelector(".notificationTemplate.newMemberMulti").content,!0);var g,f;a>3?(g=e.events.slice(0,3),f=a-3+" more",r.querySelector(".tailUsername").title=e.events.slice(3).map(function(e){return e.member.username}).join("\n")):(g=e.events.slice(0,a-1),f=e.events[a-1].member.username),r.querySelector(".headUsernames").textContent=g.map(function(e){return e.member.username}).join(", "),r.querySelector(".tailUsername").textContent=f}else{var h=e.events[0].member;r=document.importNode(document.querySelector(".notificationTemplate.newMember").content,!0),b.setAvatar(r.querySelector(".newMemberImage"),h),r.querySelector(".memberUsername").textContent=h.username}r.querySelector(".notification").href=b.urlResolve("project",{url:{pid:e.params.project._id}}),r.querySelector(".projectName").textContent=e.params.project.name;break;case"DeleteProject":S=e.params.source;r=document.importNode(document.querySelector(".notificationTemplate.deleteProject").content,!0),b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ArchiveProject":S=e.params.source;r=document.importNode(document.querySelector(".notificationTemplate.archiveProject").content,!0),b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=e.events[0].project.name;break;case"ActivateProject":var y=e.events[0].project,S=e.params.source;(r=document.importNode(document.querySelector(".notificationTemplate.activateProject").content,!0)).querySelector(".notification").href=b.urlResolve("project",{url:{pid:y._id}}),b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=y.name;break;case"UpdateUserRole":var L;if(a>1){var w,D;w=e.events.map(function(e){return e.project.name}),D=e.events.map(function(e){return e.project._id}),(r=document.importNode(document.querySelector(".notificationTemplate.assignAdminMulti").content,!0)).querySelector(".projectCount").textContent=a,r.querySelector(".tailProject").textContent=w.pop(),r.querySelector(".headProjects").textContent=w.join(", "),L=b.urlResolve("projects",{query:{pid:D}})}else{y=e.events[0].project;(r=document.importNode(document.querySelector(".notificationTemplate.assignAdmin").content,!0)).querySelector(".projectName").textContent=y.name,L=b.urlResolve("project",{url:{pid:y._id}})}r.querySelector(".notification").href=L;S=e.params.source;b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username;break;case"TransferOwnership":var y=e.events[0].project,S=e.params.source;(r=document.importNode(document.querySelector(".notificationTemplate.transferOwnership").content,!0)).querySelector(".notification").href=b.urlResolve("project",{url:{pid:y._id}}),b.setAvatar(r.querySelector(".notifierImage"),S),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=y.name;break;case"CreateColor":s={url:{pid:e.params.project._id},query:{}};if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.createColorMulti").content,!0)).querySelector(".colorCount").textContent=a,r.querySelector(".colorCount").title=e.events.map(function(t){var n=new j.default(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),s.query.cid=e.events.map(function(e){return e.color._id});else{T=new j.default(e.events[0].color);(r=document.importNode(document.querySelector(".notificationTemplate.createColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=T.toCSS(),r.querySelector(".colorPreview").title=T.toPlatformString(e.params.project.type),r.querySelector(".notificationColorName").textContent=T.name,r.querySelector(".notificationColorName").title=T.toPlatformString(e.params.project.type),s.query.cid=e.events[0].color._id}r.querySelector(".notification").href=b.urlResolve("project-styleguide",s),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"DeleteColor":if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.deleteColorMulti").content,!0)).querySelector(".colorCount").textContent=a,r.querySelector(".colorCount").title=e.events.map(function(t){var n=new j.default(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n");else{T=new j.default(e.events[0].color);(r=document.importNode(document.querySelector(".notificationTemplate.deleteColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=T.toCSS(),r.querySelector(".colorPreview").title=T.toPlatformString(e.params.project.type),r.querySelector(".notificationColorName").textContent=T.name,r.querySelector(".notificationColorName").title=T.toPlatformString(e.params.project.type)}r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"UpdateColor":s={url:{pid:e.params.project._id},query:{}};if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.updateColorMulti").content,!0)).querySelector(".colorCount").textContent=a,r.querySelector(".colorCount").title=e.events.map(function(t){var n=new j.default(t.color);return n.name+": "+n.toPlatformString(e.params.project.type)}).join("\n"),s.query.cid=e.events.map(function(e){return e.color._id});else{var T=new j.default(e.events[0].color);(r=document.importNode(document.querySelector(".notificationTemplate.updateColor").content,!0)).querySelector(".colorPreview").style.backgroundColor=T.toCSS(),r.querySelector(".colorPreview").title=T.toPlatformString(e.params.project.type),r.querySelector(".notificationColorName").textContent=T.name,r.querySelector(".notificationColorName").title=T.toPlatformString(e.params.project.type),s.query.cid=e.events[0].color._id}r.querySelector(".notification").href=b.urlResolve("project-styleguide",s),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"CreateCoupon":(r=document.importNode(document.querySelector(".notificationTemplate.createCoupon").content,!0)).querySelector(".notification").href=e.action.webURI,r.querySelector(".notificationContent").innerHTML=l(e.content),I<o&&C.classList.contains("hidden")&&x.classList.add("hasPromotion");break;case"AuthSlack":var y=e.events[0].project,S=e.params.source;(r=document.importNode(document.querySelector(".notificationTemplate.authSlack").content,!0)).querySelector(".notification").href=b.urlResolve("project",{url:{pid:y._id}}),r.querySelector(".notifier").textContent=S.username,r.querySelector(".projectName").textContent=y.name,r.querySelector(".slackChannelName").textContent=e.content;break;case"CreateAnnouncement":if(!("webURI"in e.action))return;(r=document.importNode(document.querySelector(".notificationTemplate.announcement").content,!0)).querySelector(".notification").href=e.action.webURI||"#",r.querySelector(".notificationContent").innerHTML=l(e.content),r.querySelector(".notificationAnnouncer").textContent=e.params.source.username,e.action.webURI||(r.querySelector(".notification").classList.add("noClick"),r.querySelector(".notification").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}));break;case"CreateTextStyle":s={url:{pid:e.params.project._id},query:{}};if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.createFontMulti").content,!0)).querySelector(".fontCount").textContent=a,r.querySelector(".fontCount").title=e.events.map(function(e){return new E.default(e.textStyle).name}).join("\n"),s.query.tsid=e.events.map(function(e){return e.textStyle._id});else{q=new E.default(e.events[0].textStyle);(r=document.importNode(document.querySelector(".notificationTemplate.createFont").content,!0)).querySelector(".notificationFontName").textContent=q.name,s.query.tsid=e.events[0].textStyle._id}r.querySelector(".notification").href=b.urlResolve("project-styleguide",s),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"UpdateTextStyle":s={url:{pid:e.params.project._id},query:{}};if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.updateFontMulti").content,!0)).querySelector(".fontCount").textContent=a,r.querySelector(".fontCount").title=e.events.map(function(e){return new E.default(e.textStyle).name}).join("\n"),s.query.tsid=e.events.map(function(e){return e.textStyle._id});else{q=new E.default(e.events[0].textStyle);(r=document.importNode(document.querySelector(".notificationTemplate.updateFont").content,!0)).querySelector(".notificationFontName").textContent=q.name,s.query.tsid=e.events[0].textStyle._id}r.querySelector(".notification").href=b.urlResolve("project-styleguide",s),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"DeleteTextStyle":if(a>1)(r=document.importNode(document.querySelector(".notificationTemplate.deleteFontMulti").content,!0)).querySelector(".fontCount").textContent=a,r.querySelector(".fontCount").title=e.events.map(function(e){return new E.default(e.textStyle).name}).join("\n");else{var q=new E.default(e.events[0].textStyle);(r=document.importNode(document.querySelector(".notificationTemplate.deleteFont").content,!0)).querySelector(".notificationFontName").textContent=q.name}r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".notificationProjectName").textContent=e.params.project.name,r.querySelector(".notificationProjectName").title=e.params.project.name,r.querySelector(".notificationProjectType").textContent=v.projectTypes[e.params.project.type];break;case"InviteMember":r=document.importNode(document.querySelector(".notificationTemplate.inviteMember").content,!0),b.setAvatar(r.querySelector(".notifierImage"),e.params.source),r.querySelector(".notifier").textContent=e.params.source.username,r.querySelector(".organizationName").textContent=e.params.organization.name,r.querySelector(".notification").href=b.urlResolve("organization-dashboard",{url:{oid:e.params.organization._id}});break;case"UpdateOrganizationMemberRole":var d=e.events[a-1],_=O[d.user.role],A=d.source;r=document.importNode(document.querySelector(".notificationTemplate.updateOrganizationMemberRole").content,!0),b.setAvatar(r.querySelector(".notifierImage"),A),r.querySelector(".notifier").textContent=A.username,r.querySelector(".roleName").textContent=_.name,r.querySelector(".roleIcon").src=Zeplin.urls.appURL+"/img/"+_.icon+".png",r.querySelector(".roleIcon").srcset=Zeplin.urls.appURL+"/img/"+_.icon+"@2x.png 2x, "+Zeplin.urls.appURL+"/img/"+_.icon+"@3x.png 3x",r.querySelector(".organizationName").textContent=e.params.organization.name,r.querySelector(".notification").href=b.urlResolve("organization-dashboard",{url:{oid:e.params.organization._id}});break;default:r=document.importNode(document.querySelector(".notificationTemplate.undefinedNotification").content,!0)}switch(I<o&&C.classList.contains("hidden")&&x.classList.add("hasUnread"),r.querySelector(".notification").dataset.id=e._id,r.querySelector(".notification").classList.toggle("new",I<o),r.querySelector(".notificationLastUpdated").setAttribute("datetime",e.updated),n){case"start":k.childElementCount?k.insertBefore(r,k.firstElementChild):k.appendChild(r);break;case"end":default:k.appendChild(r)}}function u(e){for(var t=0,n=0;n<A.length;n++)if(A[n]._id===e[0]._id){t=A.splice(n).length;break}return A=A.concat(e),t}function d(){if(!(C.classList.contains("error")||_||q)){q=!0;var e="";A.length&&(e="&date_before="+A[A.length-1].updated),fetch(Zeplin.urls.baseURL+"/notifications?count="+w+e,{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw S.createError(e.status,t)})}).then(function(e){for(var t=u(e.notifications);t<e.notifications.length;t++)c(e.notifications[t]);if(q=!1,e.notifications.length<w||!e.hasMore)_=!0,C.classList.add("fin");else{var n=C.scrollHeight,a=C.clientHeight,r=C.scrollTop;!C.classList.contains("hidden")&&n-(a+r)<360&&d()}}).catch(function(e){C.classList.add("error"),S.handleError(e)})}}function m(){x.classList.remove("hasUnread","hasPromotion")}function p(){Array.from(k.querySelectorAll(".notification")).forEach(function(e){e.classList.remove("new")})}function g(){I=new Date,fetch(Zeplin.urls.baseURL+"/users/notificationLastReadTime",{method:"PUT",headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw S.createError(e.status,t)})}).then(function(e){I=new Date(e.notificationLastReadTime),Zeplin.updateUser({notificationLastReadTime:e.notificationLastReadTime})})}function f(e){return e/2*window.devicePixelRatio}function h(){N.width=16*window.devicePixelRatio,N.height=16*window.devicePixelRatio;var e=N.getContext("2d");return e.beginPath(),e.fillStyle="#ee6723",e.arc(f(F),f(F),f(B),0,6.28,!1),e.fill(),e.beginPath(),e.fillStyle="#fff",e.arc(f(F),f(F),f(M),0,6.28,!1),e.fill(),N.toDataURL()}var y,v=s(e),b=s(t),S=s(n),j=i(a),E=i(r),L=i(o),w=50,x=document.getElementById("notificationsButton"),C=document.getElementById("notificationContainer"),k=document.getElementById("notificationList"),D=document.getElementById("notificationError"),T=document.getElementById("userMenu"),q=!1,_=!1,I=new Date,A=[],O={king:{name:"Owner",icon:"icQueen"},queen:{name:"Admin",icon:"icQueen"},rook:{name:"Editor",icon:"icRook"},knight:{name:"Member",icon:"icKnight"}},P=new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hidden")||!e.target.classList.contains("hidden")||(m(),p(),g())})}),N=document.createElement("canvas"),F=16,B=13,M=2;Cookies.get("userToken")&&(x.addEventListener("click",function(e){e.stopPropagation(),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),T.classList.add("hidden"),C.classList.toggle("hidden"),C.classList.contains("hidden")?clearTimeout(y):C.scrollHeight-(C.clientHeight+C.scrollTop)<360&&d()}),k.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&"A"===e.target.closest(".notification").tagName&&C.classList.add("hidden")}),C.addEventListener("scroll",function(){requestAnimationFrame(function(){C.scrollHeight-(C.clientHeight+C.scrollTop)<360&&d()})}),D.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(C.classList.remove("error"),d())}),document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&C.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&C.classList.add("hidden")}),window.addEventListener("online",function(){A=[],q=!1,_=!1,k.innerHTML="",C.classList.remove("fin","error"),m(),d()}),P.observe(C,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),L.default&&new MutationObserver(function(e){e.forEach(function(e){e.oldValue&&e.oldValue.includes("hasUnread")||!e.target.classList.contains("hasUnread")?e.oldValue.includes("hasUnread")&&!e.target.classList.contains("hasUnread")&&L.default.ipcRenderer.send("read-notifications"):L.default.ipcRenderer.send("unread-notifications",h())})}).observe(x,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),I=new Date(Zeplin.user.notificationLastReadTime),d(),v.userChannel.bind("Notification",function(e){var t=A.findIndex(function(t){return t._id===e.body._id});if(-1!==t){A.splice(t,1);var n=k.querySelector(".notification[data-id='"+e.body._id+"']");n&&n.remove()}A.unshift(e.body),c(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}),v.pusher.subscribe("announcement").bind("Notification",function(e){A.unshift(e.body),c(e.body,{position:"start",eventsLength:e.body.params.eventsLength})}))}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(36),n(37)],void 0!==(r=function(e,t,n,a){"use strict";function r(e,t,n,a){return t||a?(e*t+n*a*(1-t))/(t+a*(1-t)):0}function o(e,t){return new l({r:r(e.r,e.a,t.r,t.a),g:r(e.g,e.a,t.g,t.a),b:r(e.b,e.a,t.b,t.a),a:e.a+t.a*(1-e.a)})}function i(e){return e=Math.trunc(e+e/255),e=Math.max(0,Math.min(e,255)),(e<16?"0":"")+e.toString(16)}function s(e){var t,n,a=e.r/255,r=e.g/255,o=e.b/255,i=Math.max(a,r,o),s=Math.min(a,r,o),l=(i+s)/2;if(i===s)t=n=0;else{var c=i-s;switch(n=l>.5?c/(2-i-s):c/(i+s),i){case a:t=(r-o)/c+(r<o?6:0);break;case r:t=(o-a)/c+2;break;case o:t=(a-r)/c+4}t/=6}return{h:t,s:n,l:l}}function l(e){if(e){var t=Object.assign({},e);"a"in t||(t.a=1),"_id"in t||(t._id=t.id),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},r:{get:function(){return t.r},set:function(e){t.r=e},enumerable:!0},g:{get:function(){return t.g},set:function(e){t.g=e},enumerable:!0},b:{get:function(){return t.b},set:function(e){t.b=e},enumerable:!0},a:{get:function(){return t.a},set:function(e){t.a=e},enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),u=function(e){return e&&e.__esModule?e:{default:e}}(n),d={android:"snakeCase",ios:"camelCase",osx:"camelCase",web:"kebabCase"};l.prototype.equals=function(e){return Math.round(this.r)===Math.round(e.r)&&Math.round(this.g)===Math.round(e.g)&&Math.round(this.b)===Math.round(e.b)&&c.round(this.a,2)===c.round(e.a,2)},l.prototype.blend=function(e){return o(this,e)},l.prototype.hexBase=function(){return i(this.r)+i(this.g)+i(this.b)},l.prototype.toHexString=function(e){var t=this.hexBase();if(this.a<1){var n=i(255*this.a);t=e?n+t:t+n}return"#"+t},l.prototype.toRGBABase=function(){var e=Math.round(this.r)+" "+Math.round(this.g)+" "+Math.round(this.b);return this.a<1?"rgba "+e+" "+c.round(this.a,2):"rgb "+e},l.prototype.toRGBAString=function(){var e=Math.round(this.r)+", "+Math.round(this.g)+", "+Math.round(this.b);return(this.a<1?"rgba("+e+", "+c.round(this.a,2):"rgb("+e)+")"},l.prototype.toHSLAString=function(){var e=s(this),t=Math.round(360*e.h)+", "+Math.round(100*e.s)+"%, "+Math.round(100*e.l)+"%";return(this.a<1?"hsla("+t+", "+c.round(this.a,2):"hsl("+t)+")"},l.prototype.toPlatformString=function(e,t){switch(e){case"android":return this.toHexString(!0);case"ios":case"osx":return this.toRGBABase();case"web":return this.toCSS(t)}},l.prototype.toCSS=function(e){if("r"in this&&"g"in this&&"b"in this&&"a"in this)switch(e){case"hex":return this.toHexString();case"rgb":return this.toRGBAString();case"hsl":return this.toHSLAString();case"default":default:return this.a<1?this.toRGBAString():this.toHexString()}},l.prototype.toGradient=function(e){var t=this.toCSS(e);return"linear-gradient("+t+", "+t+")"},l.prototype.generateName=function(e){for(var t=0,n=-1,r=-1,o=0;o<a.colorNames.length;o++){var i=new l(a.colorNames[o]);if(this.r===i.r&&this.g===i.g&&this.b===i.b)return(0,u.default)(i.name,d[e]);var c=s(this);for(var m in c)c[m]*=255;var p=s(i);for(var g in p)p[g]*=255;t=Math.pow(this.r-i.r,2)+Math.pow(this.g-i.g,2)+Math.pow(this.b-i.b,2)+2*(Math.pow(c.h-p.h,2)+Math.pow(c.s-p.s,2)+Math.pow(c.l-p.l,2)),(r<0||t<r)&&(r=t,n=o)}return(0,u.default)(a.colorNames[n].name,d[e])},l.NAMED_COLORS=a.CSS_NAMED_COLORS,l.hex2rgb=function(e){var t=parseInt(e.replace("#",""),16);return new l({r:t>>16&255,g:t>>8&255,b:255&t})},l.blend=o,l.blendAll=function(e){for(var t=new l(l.NAMED_COLORS.transparent),n=0;n<e.length&&(!e[n].a||1!==(t=t.blend(e[n])).a);n++);return t}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1)],void 0!==(r=function(e,t){"use strict";function n(e,t){if("camelCase"===t||"upperCamelCase"===t){var n=e.map(r.uppercaseFirst).join("");return"camelCase"===t?r.lowercaseFirst(n):n}return"snakeCase"===t?e.join("_"):e.join("-")}function a(e){var t=e.match(o);return t?t.map(function(e){return e.toLowerCase()}):["invalid","name"]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){return n(a(e),t)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),o=/\d+|[a-z]+|[A-Z]+(?![a-z])|[A-Z][a-z]+/g}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=Object.freeze({transparent:{name:"transparent",r:0,g:0,b:0,a:0}}),n=Object.freeze([{r:0,g:0,b:0,name:"black"},{r:0,g:1,b:51,name:"very dark blue"},{r:0,g:2,b:46,name:"dark navy blue"},{r:0,g:3,b:91,name:"dark blue"},{r:0,g:4,b:53,name:"dark navy"},{r:0,g:17,b:70,name:"navy blue"},{r:0,g:45,b:4,name:"dark forest green"},{r:0,g:69,b:119,name:"prussian blue"},{r:0,g:82,b:73,name:"dark blue green"},{r:0,g:85,b:90,name:"deep teal"},{r:0,g:95,b:106,name:"petrol"},{r:0,g:147,b:55,name:"kelley green"},{r:0,g:251,b:176,name:"greenish turquoise"},{r:0,g:255,b:255,name:"cyan"},{r:1,g:15,b:204,name:"true blue"},{r:1,g:21,b:62,name:"navy"},{r:1,g:56,b:106,name:"marine blue"},{r:1,g:65,b:130,name:"darkish blue"},{r:1,g:70,b:0,name:"racing green"},{r:1,g:77,b:78,name:"dark teal"},{r:1,g:84,b:130,name:"deep sea blue"},{r:1,g:101,b:252,name:"bright blue"},{r:1,g:103,b:149,name:"peacock blue"},{r:1,g:115,b:113,name:"dark aquamarine"},{r:1,g:115,b:116,name:"deep turquoise"},{r:1,g:122,b:121,name:"bluegreen"},{r:1,g:123,b:146,name:"ocean"},{r:1,g:136,b:159,name:"teal blue"},{r:1,g:149,b:41,name:"irish green"},{r:1,g:160,b:73,name:"emerald"},{r:1,g:180,b:76,name:"shamrock"},{r:1,g:192,b:141,name:"green blue"},{r:1,g:249,b:198,name:"bright teal"},{r:1,g:255,b:7,name:"bright green"},{r:2,g:0,b:53,name:"midnight blue"},{r:2,g:3,b:226,name:"pure blue"},{r:2,g:6,b:111,name:"dark royal blue"},{r:2,g:27,b:249,name:"rich blue"},{r:2,g:89,b:15,name:"deep green"},{r:2,g:143,b:30,name:"emerald green"},{r:2,g:147,b:134,name:"teal"},{r:2,g:171,b:46,name:"kelly green"},{r:2,g:193,b:77,name:"shamrock green"},{r:2,g:204,b:254,name:"bright sky blue"},{r:2,g:216,b:233,name:"aqua blue"},{r:3,g:1,b:45,name:"midnight"},{r:3,g:7,b:100,name:"darkblue"},{r:3,g:10,b:167,name:"cobalt blue"},{r:3,g:53,b:0,name:"dark green"},{r:3,g:57,b:248,name:"vibrant blue"},{r:3,g:67,b:223,name:"blue"},{r:3,g:113,b:156,name:"ocean blue"},{r:4,g:2,b:115,name:"deep blue"},{r:4,g:3,b:72,name:"night blue"},{r:4,g:46,b:96,name:"marine"},{r:4,g:74,b:5,name:"bottle green"},{r:4,g:92,b:90,name:"dark turquoise"},{r:4,g:116,b:149,name:"sea blue"},{r:4,g:130,b:67,name:"jungle green"},{r:4,g:133,b:209,name:"cerulean"},{r:4,g:216,b:178,name:"aquamarine"},{r:4,g:217,b:255,name:"neon blue"},{r:4,g:244,b:137,name:"turquoise green"},{r:5,g:4,b:170,name:"royal blue"},{r:5,g:71,b:42,name:"evergreen"},{r:5,g:72,b:13,name:"british racing green"},{r:5,g:73,b:7,name:"darkgreen"},{r:5,g:105,b:107,name:"dark aqua"},{r:5,g:110,b:238,name:"cerulean blue"},{r:5,g:255,b:166,name:"bright sea green"},{r:6,g:46,b:3,name:"very dark green"},{r:6,g:71,b:12,name:"forest green"},{r:6,g:82,b:255,name:"electric blue"},{r:6,g:154,b:243,name:"azure"},{r:6,g:177,b:196,name:"turquoise blue"},{r:6,g:180,b:139,name:"green blue"},{r:6,g:194,b:172,name:"turquoise"},{r:7,g:13,b:13,name:"almost black"},{r:8,g:4,b:249,name:"primary blue"},{r:8,g:120,b:127,name:"deep aqua"},{r:8,g:148,b:4,name:"true green"},{r:8,g:255,b:8,name:"fluorescent green"},{r:10,g:67,b:122,name:"twilight blue"},{r:10,g:72,b:30,name:"pine green"},{r:10,g:95,b:56,name:"spruce"},{r:10,g:136,b:138,name:"dark cyan"},{r:10,g:221,b:8,name:"vibrant green"},{r:10,g:255,b:2,name:"fluro green"},{r:11,g:64,b:8,name:"hunter green"},{r:11,g:85,b:9,name:"forest"},{r:11,g:139,b:135,name:"greenish blue"},{r:11,g:247,b:125,name:"minty green"},{r:11,g:249,b:234,name:"bright aqua"},{r:12,g:6,b:247,name:"strong blue"},{r:12,g:23,b:147,name:"royal"},{r:12,g:181,b:119,name:"green teal"},{r:12,g:220,b:115,name:"tealish green"},{r:12,g:255,b:12,name:"neon green"},{r:13,g:117,b:248,name:"deep sky blue"},{r:14,g:135,b:204,name:"water blue"},{r:15,g:155,b:142,name:"blue green"},{r:15,g:254,b:249,name:"bright turquoise"},{r:16,g:122,b:176,name:"nice blue"},{r:16,g:166,b:116,name:"bluish green"},{r:17,g:135,b:93,name:"dark sea green"},{r:18,g:225,b:147,name:"aqua green"},{r:19,g:126,b:109,name:"blue green"},{r:19,g:187,b:175,name:"topaz"},{r:19,g:234,b:201,name:"aqua"},{r:21,g:46,b:255,name:"vivid blue"},{r:21,g:68,b:6,name:"forrest green"},{r:21,g:80,b:132,name:"light navy"},{r:21,g:176,b:26,name:"green"},{r:24,g:5,b:219,name:"ultramarine blue"},{r:24,g:209,b:123,name:"seaweed"},{r:27,g:36,b:49,name:"dark"},{r:27,g:252,b:6,name:"highlighter green"},{r:29,g:2,b:0,name:"very dark brown"},{r:29,g:93,b:236,name:"azul"},{r:30,g:72,b:143,name:"cobalt"},{r:30,g:145,b:103,name:"viridian"},{r:30,g:248,b:118,name:"spearmint"},{r:31,g:9,b:84,name:"dark indigo"},{r:31,g:59,b:77,name:"dark blue grey"},{r:31,g:99,b:87,name:"dark green blue"},{r:31,g:167,b:116,name:"jade"},{r:31,g:181,b:122,name:"dark seafoam"},{r:32,g:0,b:177,name:"ultramarine"},{r:32,g:192,b:115,name:"dark mint green"},{r:32,g:249,b:134,name:"wintergreen"},{r:33,g:56,b:171,name:"sapphire"},{r:33,g:71,b:97,name:"dark slate blue"},{r:33,g:195,b:111,name:"algae green"},{r:33,g:252,b:13,name:"electric green"},{r:34,g:66,b:199,name:"blue blue"},{r:35,g:196,b:139,name:"greenblue"},{r:36,g:122,b:253,name:"clear blue"},{r:36,g:188,b:168,name:"tealish"},{r:37,g:163,b:111,name:"teal green"},{r:37,g:255,b:41,name:"hot green"},{r:38,g:83,b:141,name:"dusk blue"},{r:38,g:247,b:253,name:"bright light blue"},{r:39,g:106,b:179,name:"mid blue"},{r:40,g:1,b:55,name:"midnight purple"},{r:40,g:124,b:55,name:"darkish green"},{r:41,g:70,b:91,name:"dark grey blue"},{r:41,g:118,b:187,name:"bluish"},{r:42,g:1,b:52,name:"very dark purple"},{r:42,g:126,b:25,name:"tree green"},{r:42,g:254,b:183,name:"greenish cyan"},{r:43,g:93,b:52,name:"pine"},{r:43,g:175,b:106,name:"jade green"},{r:43,g:177,b:121,name:"bluey green"},{r:44,g:111,b:187,name:"medium blue"},{r:44,g:250,b:31,name:"radioactive green"},{r:45,g:254,b:84,name:"bright light green"},{r:46,g:90,b:136,name:"light navy blue"},{r:46,g:232,b:187,name:"aqua marine"},{r:47,g:239,b:16,name:"vivid green"},{r:49,g:102,b:138,name:"ugly blue"},{r:50,g:191,b:132,name:"greenish teal"},{r:51,g:184,b:100,name:"cool green"},{r:52,g:1,b:63,name:"dark violet"},{r:52,g:28,b:2,name:"dark brown"},{r:52,g:56,b:55,name:"charcoal"},{r:53,g:6,b:62,name:"dark purple"},{r:53,g:83,b:10,name:"navy green"},{r:53,g:173,b:107,name:"seaweed green"},{r:54,g:1,b:63,name:"deep purple"},{r:54,g:55,b:55,name:"dark grey"},{r:55,g:62,b:2,name:"dark olive"},{r:55,g:120,b:191,name:"windows blue"},{r:56,g:2,b:130,name:"indigo"},{r:56,g:8,b:53,name:"eggplant"},{r:56,g:128,b:4,name:"dark grass green"},{r:57,g:173,b:72,name:"medium green"},{r:58,g:24,b:177,name:"indigo blue"},{r:58,g:46,b:254,name:"light royal blue"},{r:58,g:229,b:127,name:"weird green"},{r:59,g:91,b:146,name:"denim blue"},{r:59,g:99,b:140,name:"denim"},{r:59,g:113,b:159,name:"muted blue"},{r:60,g:0,b:8,name:"dark maroon"},{r:60,g:65,b:66,name:"charcoal grey"},{r:60,g:77,b:3,name:"dark olive green"},{r:60,g:115,b:168,name:"flat blue"},{r:60,g:153,b:146,name:"sea"},{r:61,g:7,b:52,name:"aubergine"},{r:61,g:28,b:2,name:"chocolate"},{r:61,g:122,b:253,name:"lightish blue"},{r:61,g:153,b:115,name:"ocean green"},{r:62,g:130,b:252,name:"dodger blue"},{r:62,g:175,b:118,name:"dark seafoam green"},{r:63,g:1,b:44,name:"dark plum"},{r:63,g:130,b:157,name:"dirty blue"},{r:63,g:155,b:11,name:"grass green"},{r:64,g:163,b:104,name:"greenish"},{r:64,g:253,b:20,name:"poison green"},{r:65,g:2,b:0,name:"deep brown"},{r:65,g:25,b:0,name:"chocolate brown"},{r:65,g:156,b:3,name:"grassy green"},{r:65,g:253,b:254,name:"bright cyan"},{r:66,g:179,b:149,name:"greeny blue"},{r:67,g:5,b:65,name:"eggplant purple"},{r:67,g:107,b:173,name:"french blue"},{r:68,g:142,b:228,name:"dark sky blue"},{r:70,g:65,b:150,name:"blueberry"},{r:71,g:95,b:148,name:"dusky blue"},{r:72,g:192,b:114,name:"dark mint"},{r:73,g:6,b:72,name:"deep violet"},{r:73,g:117,b:156,name:"dull blue"},{r:73,g:132,b:184,name:"cool blue"},{r:74,g:1,b:0,name:"mahogany"},{r:75,g:0,b:110,name:"royal purple"},{r:75,g:1,b:1,name:"dried blood"},{r:75,g:87,b:219,name:"warm blue"},{r:75,g:93,b:22,name:"army green"},{r:75,g:97,b:19,name:"camouflage green"},{r:76,g:144,b:133,name:"dusty teal"},{r:77,g:164,b:9,name:"lawn green"},{r:78,g:5,b:80,name:"plum purple"},{r:78,g:81,b:139,name:"twilight"},{r:78,g:84,b:129,name:"dusk"},{r:78,g:116,b:150,name:"cadet blue"},{r:78,g:253,b:84,name:"light neon green"},{r:79,g:115,b:142,name:"metallic blue"},{r:79,g:145,b:83,name:"light forest green"},{r:80,g:123,b:156,name:"stormy blue"},{r:80,g:167,b:71,name:"mid green"},{r:81,g:10,b:201,name:"violet blue"},{r:81,g:101,b:114,name:"slate"},{r:81,g:112,b:215,name:"cornflower blue"},{r:81,g:183,b:59,name:"leafy green"},{r:82,g:101,b:37,name:"camo green"},{r:83,g:60,b:198,name:"blue with a hint of purple"},{r:83,g:98,b:103,name:"gunmetal"},{r:83,g:252,b:161,name:"sea green"},{r:83,g:254,b:92,name:"light bright green"},{r:84,g:78,b:3,name:"green brown"},{r:84,g:141,b:68,name:"fern green"},{r:84,g:172,b:104,name:"algae"},{r:85,g:57,b:204,name:"blurple"},{r:86,g:132,b:174,name:"off blue"},{r:86,g:174,b:87,name:"dark pastel green"},{r:86,g:252,b:162,name:"light green blue"},{r:87,g:41,b:206,name:"blue purple"},{r:88,g:15,b:65,name:"plum"},{r:88,g:188,b:8,name:"frog green"},{r:89,g:101,b:109,name:"slate grey"},{r:89,g:133,b:86,name:"dark sage"},{r:90,g:6,b:239,name:"blue purple"},{r:90,g:125,b:154,name:"steel blue"},{r:90,g:134,b:173,name:"dusty blue"},{r:91,g:124,b:153,name:"slate blue"},{r:92,g:139,b:21,name:"sap green"},{r:92,g:169,b:4,name:"leaf green"},{r:92,g:172,b:45,name:"grass"},{r:92,g:178,b:0,name:"kermit green"},{r:93,g:6,b:233,name:"blue violet"},{r:93,g:20,b:81,name:"grape purple"},{r:93,g:33,b:208,name:"purple blue"},{r:94,g:129,b:157,name:"greyish blue"},{r:94,g:155,b:138,name:"grey teal"},{r:94,g:220,b:31,name:"green apple"},{r:95,g:52,b:231,name:"purpley blue"},{r:95,g:158,b:143,name:"dull teal"},{r:95,g:160,b:82,name:"muted green"},{r:96,g:30,b:249,name:"purplish blue"},{r:96,g:70,b:15,name:"mud brown"},{r:96,g:102,b:2,name:"mud green"},{r:96,g:124,b:142,name:"blue grey"},{r:97,g:0,b:35,name:"burgundy"},{r:97,g:64,b:239,name:"purpleish blue"},{r:97,g:222,b:42,name:"toxic green"},{r:97,g:225,b:96,name:"lightish green"},{r:98,g:65,b:199,name:"bluey purple"},{r:98,g:88,b:196,name:"iris"},{r:99,g:45,b:233,name:"purple blue"},{r:99,g:139,b:39,name:"mossy green"},{r:99,g:169,b:80,name:"fern"},{r:99,g:179,b:101,name:"boring green"},{r:99,g:247,b:180,name:"light greenish blue"},{r:100,g:84,b:3,name:"olive brown"},{r:100,g:125,b:142,name:"grey blue"},{r:100,g:136,b:234,name:"soft blue"},{r:101,g:0,b:33,name:"maroon"},{r:101,g:55,b:0,name:"brown"},{r:101,g:116,b:50,name:"muddy green"},{r:101,g:139,b:56,name:"moss green"},{r:101,g:140,b:187,name:"faded blue"},{r:101,g:141,b:109,name:"slate green"},{r:101,g:171,b:124,name:"tea"},{r:101,g:254,b:8,name:"bright lime green"},{r:102,g:26,b:238,name:"purply blue"},{r:102,g:95,b:209,name:"dark periwinkle"},{r:102,g:124,b:62,name:"military green"},{r:102,g:126,b:44,name:"dirty green"},{r:103,g:58,b:63,name:"purple brown"},{r:103,g:122,b:4,name:"olive green"},{r:104,g:0,b:24,name:"claret"},{r:104,g:50,b:227,name:"burple"},{r:105,g:96,b:6,name:"greeny brown"},{r:105,g:97,b:18,name:"greenish brown"},{r:105,g:131,b:57,name:"swamp"},{r:105,g:157,b:76,name:"flat green"},{r:105,g:216,b:79,name:"fresh green"},{r:106,g:110,b:9,name:"brownish green"},{r:106,g:121,b:247,name:"cornflower"},{r:107,g:66,b:71,name:"purplish brown"},{r:107,g:124,b:133,name:"battleship grey"},{r:107,g:139,b:164,name:"grey blue"},{r:107,g:163,b:83,name:"off green"},{r:108,g:52,b:97,name:"grape"},{r:108,g:122,b:14,name:"murky green"},{r:109,g:90,b:207,name:"light indigo"},{r:109,g:237,b:253,name:"robins egg"},{r:110,g:16,b:5,name:"reddy brown"},{r:110,g:117,b:14,name:"olive"},{r:110,g:203,b:60,name:"apple"},{r:111,g:108,b:10,name:"browny green"},{r:111,g:118,b:50,name:"olive drab"},{r:111,g:124,b:0,name:"poop green"},{r:111,g:130,b:138,name:"steel grey"},{r:111,g:194,b:118,name:"soft green"},{r:112,g:59,b:231,name:"bluish purple"},{r:112,g:108,b:17,name:"brown green"},{r:112,g:178,b:63,name:"nasty green"},{r:113,g:159,b:145,name:"greyish teal"},{r:113,g:170,b:52,name:"leaf"},{r:114,g:0,b:88,name:"rich purple"},{r:114,g:134,b:57,name:"khaki green"},{r:114,g:143,b:2,name:"dark yellow green"},{r:115,g:0,b:57,name:"merlot"},{r:115,g:74,b:101,name:"dirty purple"},{r:115,g:92,b:18,name:"mud"},{r:115,g:133,b:149,name:"steel"},{r:116,g:40,b:2,name:"chestnut"},{r:116,g:133,b:0,name:"swamp green"},{r:116,g:139,b:151,name:"bluish grey"},{r:116,g:149,b:81,name:"drab green"},{r:116,g:166,b:98,name:"dull green"},{r:117,g:8,b:81,name:"velvet"},{r:117,g:25,b:115,name:"darkish purple"},{r:117,g:128,b:0,name:"shit green"},{r:117,g:141,b:163,name:"blue grey"},{r:117,g:184,b:79,name:"turtle green"},{r:117,g:187,b:253,name:"sky blue"},{r:117,g:253,b:99,name:"lighter green"},{r:118,g:66,b:78,name:"brownish purple"},{r:118,g:153,b:88,name:"moss"},{r:118,g:169,b:115,name:"dusty green"},{r:118,g:205,b:38,name:"apple green"},{r:118,g:253,b:168,name:"light bluish green"},{r:118,g:255,b:123,name:"lightgreen"},{r:119,g:0,b:1,name:"blood"},{r:119,g:146,b:111,name:"green grey"},{r:119,g:161,b:181,name:"greyblue"},{r:119,g:171,b:86,name:"asparagus"},{r:120,g:155,b:115,name:"grey green"},{r:120,g:209,b:182,name:"seafoam blue"},{r:122,g:89,b:1,name:"poop brown"},{r:122,g:104,b:127,name:"purplish grey"},{r:122,g:106,b:79,name:"greyish brown"},{r:122,g:151,b:3,name:"ugly green"},{r:122,g:249,b:171,name:"seafoam green"},{r:123,g:0,b:44,name:"bordeaux"},{r:123,g:3,b:35,name:"wine red"},{r:123,g:88,b:4,name:"shit brown"},{r:123,g:178,b:116,name:"faded green"},{r:123,g:200,b:246,name:"lightblue"},{r:123,g:242,b:218,name:"tiffany blue"},{r:123,g:253,b:199,name:"light aquamarine"},{r:125,g:113,b:3,name:"ugly brown"},{r:125,g:127,b:124,name:"medium grey"},{r:126,g:30,b:156,name:"purple"},{r:126,g:64,b:113,name:"bruise"},{r:126,g:160,b:122,name:"greeny grey"},{r:126,g:189,b:1,name:"dark lime green"},{r:126,g:244,b:204,name:"light turquoise"},{r:126,g:251,b:179,name:"light blue green"},{r:127,g:43,b:10,name:"reddish brown"},{r:127,g:78,b:30,name:"milk chocolate"},{r:127,g:81,b:18,name:"medium brown"},{r:127,g:94,b:0,name:"poop"},{r:127,g:95,b:0,name:"shit"},{r:127,g:104,b:78,name:"dark taupe"},{r:127,g:112,b:83,name:"grey brown"},{r:127,g:143,b:78,name:"camo"},{r:128,g:1,b:63,name:"wine"},{r:128,g:91,b:135,name:"muted purple"},{r:128,g:249,b:173,name:"seafoam"},{r:130,g:7,b:71,name:"red purple"},{r:130,g:95,b:135,name:"dusty purple"},{r:130,g:109,b:140,name:"grey purple"},{r:130,g:131,b:68,name:"drab"},{r:130,g:166,b:125,name:"greyish green"},{r:130,g:202,b:252,name:"sky"},{r:130,g:203,b:178,name:"pale teal"},{r:131,g:101,b:57,name:"dirt brown"},{r:132,g:0,b:0,name:"dark red"},{r:132,g:89,b:126,name:"dull purple"},{r:132,g:183,b:1,name:"dark lime"},{r:133,g:14,b:4,name:"indian red"},{r:133,g:103,b:152,name:"dark lavender"},{r:133,g:163,b:178,name:"bluegrey"},{r:134,g:111,b:133,name:"purple grey"},{r:134,g:119,b:95,name:"brownish grey"},{r:134,g:161,b:125,name:"grey green"},{r:135,g:76,b:98,name:"dark mauve"},{r:135,g:86,b:228,name:"purpley"},{r:135,g:95,b:66,name:"cocoa"},{r:135,g:110,b:75,name:"dull brown"},{r:135,g:169,b:34,name:"avocado green"},{r:135,g:174,b:115,name:"sage"},{r:135,g:253,b:5,name:"bright lime"},{r:136,g:95,b:1,name:"poo brown"},{r:136,g:104,b:6,name:"muddy brown"},{r:136,g:113,b:145,name:"greyish purple"},{r:136,g:151,b:23,name:"baby shit green"},{r:136,g:179,b:120,name:"sage green"},{r:137,g:69,b:133,name:"light eggplant"},{r:137,g:91,b:123,name:"dusky purple"},{r:137,g:160,b:176,name:"bluey grey"},{r:137,g:162,b:3,name:"vomit green"},{r:137,g:254,b:5,name:"lime green"},{r:138,g:110,b:69,name:"dirt"},{r:138,g:184,b:254,name:"carolina blue"},{r:138,g:241,b:254,name:"robin egg blue"},{r:139,g:46,b:22,name:"red brown"},{r:139,g:49,b:3,name:"rust brown"},{r:139,g:136,b:248,name:"lavender blue"},{r:140,g:0,b:15,name:"crimson"},{r:140,g:0,b:52,name:"red wine"},{r:140,g:253,b:126,name:"easter green"},{r:140,g:255,b:158,name:"baby green"},{r:140,g:255,b:219,name:"light aqua"},{r:141,g:94,b:183,name:"deep lavender"},{r:141,g:132,b:104,name:"brown grey"},{r:142,g:118,b:24,name:"hazel"},{r:142,g:130,b:254,name:"periwinkle"},{r:142,g:171,b:18,name:"pea green"},{r:142,g:229,b:63,name:"kiwi green"},{r:143,g:20,b:2,name:"brick red"},{r:143,g:115,b:3,name:"poo"},{r:143,g:140,b:231,name:"perrywinkle"},{r:143,g:152,b:5,name:"baby poop green"},{r:143,g:153,b:251,name:"periwinkle blue"},{r:143,g:174,b:34,name:"icky green"},{r:143,g:182,b:123,name:"lichen"},{r:143,g:254,b:9,name:"acid green"},{r:143,g:255,b:159,name:"mint green"},{r:144,g:177,b:52,name:"avocado"},{r:144,g:228,b:193,name:"light teal"},{r:144,g:253,b:169,name:"foam green"},{r:145,g:9,b:81,name:"reddish purple"},{r:145,g:110,b:153,name:"faded purple"},{r:146,g:10,b:78,name:"mulberry"},{r:146,g:43,b:5,name:"brown red"},{r:146,g:149,b:145,name:"grey"},{r:146,g:153,b:1,name:"pea soup"},{r:147,g:124,b:0,name:"baby poop"},{r:148,g:86,b:140,name:"purplish"},{r:148,g:119,b:6,name:"puke brown"},{r:148,g:126,b:148,name:"purpley grey"},{r:148,g:166,b:23,name:"pea soup green"},{r:148,g:172,b:2,name:"barf green"},{r:148,g:178,b:28,name:"sickly green"},{r:149,g:46,b:143,name:"warm purple"},{r:149,g:163,b:166,name:"cool grey"},{r:149,g:208,b:252,name:"light blue"},{r:150,g:0,b:86,name:"dark magenta"},{r:150,g:78,b:2,name:"warm brown"},{r:150,g:110,b:189,name:"deep lilac"},{r:150,g:174,b:141,name:"greenish grey"},{r:150,g:180,b:3,name:"booger green"},{r:150,g:249,b:123,name:"light green"},{r:151,g:138,b:132,name:"warm grey"},{r:152,g:0,b:2,name:"blood red"},{r:152,g:63,b:178,name:"purply"},{r:152,g:86,b:141,name:"purpleish"},{r:152,g:94,b:43,name:"sepia"},{r:152,g:239,b:249,name:"robins egg blue"},{r:152,g:246,b:176,name:"light sea green"},{r:153,g:0,b:250,name:"vivid purple"},{r:153,g:1,b:71,name:"purple red"},{r:153,g:15,b:75,name:"berry"},{r:153,g:117,b:112,name:"reddish grey"},{r:153,g:204,b:4,name:"slime green"},{r:154,g:2,b:0,name:"deep red"},{r:154,g:14,b:234,name:"violet"},{r:154,g:48,b:1,name:"auburn"},{r:154,g:98,b:0,name:"raw sienna"},{r:154,g:174,b:7,name:"puke green"},{r:154,g:247,b:100,name:"light grass green"},{r:155,g:95,b:192,name:"amethyst"},{r:155,g:122,b:1,name:"yellowish brown"},{r:155,g:143,b:85,name:"dark khaki"},{r:155,g:181,b:60,name:"booger"},{r:155,g:229,b:170,name:"hospital green"},{r:156,g:109,b:87,name:"brownish"},{r:156,g:109,b:165,name:"dark lilac"},{r:156,g:187,b:4,name:"bright olive"},{r:156,g:239,b:67,name:"kiwi"},{r:157,g:2,b:22,name:"carmine"},{r:157,g:7,b:89,name:"dark fuchsia"},{r:157,g:87,b:131,name:"light plum"},{r:157,g:118,b:81,name:"mocha"},{r:157,g:185,b:44,name:"sick green"},{r:157,g:188,b:212,name:"light grey blue"},{r:157,g:193,b:0,name:"snot green"},{r:157,g:255,b:0,name:"bright yellow green"},{r:158,g:0,b:58,name:"cranberry"},{r:158,g:1,b:104,name:"red violet"},{r:158,g:54,b:35,name:"brownish red"},{r:158,g:67,b:162,name:"medium purple"},{r:159,g:35,b:5,name:"burnt red"},{r:159,g:131,b:3,name:"diarrhea"},{r:159,g:254,b:176,name:"mint"},{r:160,g:2,b:92,name:"deep magenta"},{r:160,g:4,b:152,name:"barney purple"},{r:160,g:54,b:35,name:"brick"},{r:160,g:69,b:14,name:"burnt umber"},{r:160,g:191,b:22,name:"gross green"},{r:160,g:254,b:191,name:"light seafoam"},{r:161,g:57,b:5,name:"russet"},{r:162,g:72,b:87,name:"light maroon"},{r:162,g:101,b:62,name:"earth"},{r:162,g:164,b:21,name:"vomit"},{r:162,g:191,b:254,name:"pastel blue"},{r:162,g:207,b:254,name:"baby blue"},{r:164,g:66,b:160,name:"ugly purple"},{r:164,g:132,b:172,name:"heather"},{r:164,g:190,b:92,name:"light olive green"},{r:164,g:191,b:32,name:"pea"},{r:165,g:0,b:85,name:"violet red"},{r:165,g:82,b:230,name:"lightish purple"},{r:165,g:90,b:244,name:"lighter purple"},{r:165,g:126,b:82,name:"puce"},{r:165,g:163,b:145,name:"cement"},{r:165,g:165,b:2,name:"puke"},{r:165,g:251,b:213,name:"pale turquoise"},{r:166,g:111,b:181,name:"soft purple"},{r:166,g:129,b:76,name:"coffee"},{r:166,g:200,b:117,name:"light moss green"},{r:166,g:251,b:178,name:"light mint green"},{r:167,g:94,b:9,name:"raw umber"},{r:167,g:255,b:181,name:"light seafoam green"},{r:168,g:60,b:9,name:"rust"},{r:168,g:65,b:91,name:"light burgundy"},{r:168,g:121,b:0,name:"bronze"},{r:168,g:125,b:194,name:"wisteria"},{r:168,g:137,b:5,name:"dark mustard"},{r:168,g:143,b:89,name:"dark sand"},{r:168,g:164,b:149,name:"greyish"},{r:168,g:181,b:4,name:"mustard green"},{r:168,g:255,b:4,name:"electric lime"},{r:169,g:3,b:8,name:"darkish red"},{r:169,g:86,b:30,name:"sienna"},{r:169,g:190,b:112,name:"tan green"},{r:169,g:249,b:113,name:"spring green"},{r:170,g:35,b:255,name:"electric purple"},{r:170,g:39,b:4,name:"rust red"},{r:170,g:166,b:98,name:"khaki"},{r:170,g:255,b:50,name:"lime"},{r:171,g:18,b:57,name:"rouge"},{r:171,g:126,b:76,name:"tan brown"},{r:171,g:144,b:4,name:"baby poo"},{r:172,g:29,b:184,name:"barney"},{r:172,g:79,b:6,name:"cinnamon"},{r:172,g:116,b:52,name:"leather"},{r:172,g:126,b:4,name:"mustard brown"},{r:172,g:134,b:168,name:"dusty lavender"},{r:172,g:147,b:98,name:"dark beige"},{r:172,g:187,b:13,name:"snot"},{r:172,g:191,b:105,name:"light olive"},{r:172,g:194,b:217,name:"cloudy blue"},{r:172,g:255,b:252,name:"light cyan"},{r:173,g:3,b:222,name:"vibrant purple"},{r:173,g:10,b:253,name:"bright violet"},{r:173,g:129,b:80,name:"light brown"},{r:173,g:144,b:13,name:"baby shit brown"},{r:173,g:165,b:135,name:"stone"},{r:173,g:248,b:2,name:"lemon green"},{r:174,g:113,b:129,name:"mauve"},{r:174,g:139,b:12,name:"yellowy brown"},{r:174,g:253,b:108,name:"light lime"},{r:174,g:255,b:110,name:"key lime"},{r:175,g:47,b:13,name:"rusty red"},{r:175,g:111,b:9,name:"caramel"},{r:175,g:136,b:74,name:"dark tan"},{r:175,g:168,b:139,name:"bland"},{r:176,g:1,b:73,name:"raspberry"},{r:176,g:5,b:75,name:"purplish red"},{r:176,g:78,b:15,name:"burnt sienna"},{r:176,g:221,b:22,name:"yellowish green"},{r:176,g:255,b:157,name:"pastel green"},{r:177,g:96,b:2,name:"orangey brown"},{r:177,g:114,b:97,name:"pinkish brown"},{r:177,g:145,b:110,name:"pale brown"},{r:177,g:209,b:252,name:"powder blue"},{r:177,g:210,b:123,name:"pale olive green"},{r:177,g:252,b:153,name:"pale light green"},{r:177,g:255,b:101,name:"pale lime green"},{r:178,g:95,b:3,name:"orangish brown"},{r:178,g:100,b:0,name:"umber"},{r:178,g:113,b:61,name:"clay brown"},{r:178,g:122,b:1,name:"golden brown"},{r:178,g:151,b:5,name:"brown yellow"},{r:178,g:153,b:110,name:"dust"},{r:178,g:251,b:165,name:"light pastel green"},{r:179,g:111,b:246,name:"light urple"},{r:181,g:72,b:93,name:"dark rose"},{r:181,g:148,b:16,name:"dark gold"},{r:181,g:195,b:6,name:"bile"},{r:181,g:206,b:8,name:"green yellow"},{r:182,g:99,b:37,name:"copper"},{r:182,g:106,b:80,name:"clay"},{r:182,g:196,b:6,name:"baby puke green"},{r:182,g:255,b:187,name:"light mint"},{r:183,g:82,b:3,name:"burnt siena"},{r:183,g:144,b:212,name:"pale purple"},{r:183,g:148,b:0,name:"yellow brown"},{r:183,g:201,b:226,name:"light blue grey"},{r:183,g:225,b:161,name:"light grey green"},{r:183,g:255,b:250,name:"pale cyan"},{r:184,g:255,b:235,name:"pale aqua"},{r:185,g:72,b:78,name:"dusty red"},{r:185,g:105,b:2,name:"brown orange"},{r:185,g:162,b:129,name:"taupe"},{r:185,g:204,b:129,name:"pale olive"},{r:185,g:255,b:102,name:"light lime green"},{r:186,g:104,b:115,name:"dusky rose"},{r:186,g:158,b:136,name:"mushroom"},{r:187,g:63,b:63,name:"dull red"},{r:187,g:249,b:15,name:"yellowgreen"},{r:188,g:19,b:254,name:"neon purple"},{r:188,g:203,b:122,name:"greenish tan"},{r:188,g:236,b:172,name:"light sage"},{r:188,g:245,b:166,name:"washed out green"},{r:189,g:108,b:72,name:"adobe"},{r:189,g:246,b:254,name:"pale sky blue"},{r:189,g:248,b:163,name:"tea green"},{r:190,g:1,b:25,name:"scarlet"},{r:190,g:1,b:60,name:"rose red"},{r:190,g:3,b:253,name:"bright purple"},{r:190,g:100,b:0,name:"orange brown"},{r:190,g:174,b:138,name:"putty"},{r:190,g:253,b:115,name:"pale lime"},{r:190,g:253,b:183,name:"celadon"},{r:191,g:119,b:246,name:"light purple"},{r:191,g:144,b:5,name:"ochre"},{r:191,g:155,b:12,name:"ocher"},{r:191,g:172,b:5,name:"muddy yellow"},{r:191,g:241,b:40,name:"yellowy green"},{r:191,g:254,b:40,name:"lemon lime"},{r:192,g:2,b:47,name:"lipstick red"},{r:192,g:78,b:1,name:"burnt orange"},{r:192,g:113,b:254,name:"easter purple"},{r:192,g:115,b:122,name:"dusty rose"},{r:192,g:250,b:139,name:"pistachio"},{r:192,g:251,b:45,name:"yellow green"},{r:193,g:74,b:9,name:"brick orange"},{r:193,g:198,b:252,name:"light periwinkle"},{r:193,g:248,b:10,name:"chartreuse"},{r:193,g:253,b:149,name:"celery"},{r:194,g:0,b:120,name:"magenta"},{r:194,g:126,b:121,name:"brownish pink"},{r:194,g:146,b:161,name:"light mauve"},{r:194,g:183,b:9,name:"olive yellow"},{r:194,g:190,b:14,name:"puke yellow"},{r:194,g:255,b:137,name:"light yellowish green"},{r:195,g:144,b:155,name:"grey pink"},{r:195,g:251,b:244,name:"duck egg blue"},{r:196,g:66,b:64,name:"reddish"},{r:196,g:85,b:8,name:"rust orange"},{r:196,g:142,b:253,name:"liliac"},{r:196,g:166,b:97,name:"sandy brown"},{r:196,g:254,b:130,name:"light pea green"},{r:196,g:255,b:247,name:"eggshell blue"},{r:197,g:201,b:199,name:"silver"},{r:198,g:81,b:2,name:"dark orange"},{r:198,g:156,b:4,name:"ocre"},{r:198,g:159,b:89,name:"camel"},{r:198,g:248,b:8,name:"greeny yellow"},{r:198,g:252,b:255,name:"light sky blue"},{r:199,g:71,b:103,name:"deep rose"},{r:199,g:96,b:255,name:"bright lavender"},{r:199,g:121,b:134,name:"old pink"},{r:199,g:159,b:239,name:"lavender"},{r:199,g:172,b:125,name:"toupe"},{r:199,g:193,b:12,name:"vomit yellow"},{r:199,g:253,b:181,name:"pale green"},{r:200,g:60,b:185,name:"purpley pink"},{r:200,g:90,b:83,name:"dark salmon"},{r:200,g:117,b:196,name:"orchid"},{r:200,g:118,b:6,name:"dirty orange"},{r:200,g:127,b:137,name:"old rose"},{r:200,g:141,b:148,name:"greyish pink"},{r:200,g:172,b:169,name:"pinkish grey"},{r:200,g:253,b:61,name:"yellow green"},{r:200,g:255,b:176,name:"light light green"},{r:201,g:76,b:190,name:"pinky purple"},{r:201,g:94,b:251,name:"bright lilac"},{r:201,g:100,b:59,name:"terra cotta"},{r:201,g:174,b:116,name:"sandstone"},{r:201,g:176,b:3,name:"brownish yellow"},{r:201,g:209,b:121,name:"greenish beige"},{r:201,g:255,b:39,name:"green yellow"},{r:202,g:1,b:71,name:"ruby"},{r:202,g:102,b:65,name:"terracotta"},{r:202,g:107,b:2,name:"browny orange"},{r:202,g:123,b:128,name:"dirty pink"},{r:202,g:155,b:247,name:"baby purple"},{r:202,g:160,b:255,name:"pastel purple"},{r:202,g:255,b:251,name:"light light blue"},{r:203,g:0,b:245,name:"hot purple"},{r:203,g:1,b:98,name:"deep pink"},{r:203,g:65,b:107,name:"dark pink"},{r:203,g:104,b:67,name:"terracota"},{r:203,g:119,b:35,name:"brownish orange"},{r:203,g:157,b:6,name:"yellow ochre"},{r:203,g:165,b:96,name:"sand brown"},{r:203,g:248,b:95,name:"pear"},{r:204,g:122,b:139,name:"dusky pink"},{r:204,g:173,b:96,name:"desert"},{r:204,g:253,b:127,name:"light yellow green"},{r:205,g:89,b:9,name:"rusty orange"},{r:205,g:117,b:132,name:"ugly pink"},{r:205,g:197,b:10,name:"dirty yellow"},{r:205,g:253,b:2,name:"greenish yellow"},{r:206,g:93,b:174,name:"purplish pink"},{r:206,g:162,b:253,name:"lilac"},{r:206,g:174,b:250,name:"pale violet"},{r:206,g:179,b:1,name:"mustard"},{r:207,g:2,b:52,name:"cherry"},{r:207,g:82,b:78,name:"dark coral"},{r:207,g:98,b:117,name:"rose"},{r:207,g:175,b:123,name:"fawn"},{r:207,g:253,b:188,name:"very pale green"},{r:207,g:255,b:4,name:"neon yellow"},{r:208,g:193,b:1,name:"ugly yellow"},{r:208,g:228,b:41,name:"sickly yellow"},{r:208,g:254,b:29,name:"lime yellow"},{r:208,g:254,b:254,name:"pale blue"},{r:209,g:118,b:143,name:"muted pink"},{r:209,g:178,b:111,name:"tan"},{r:209,g:255,b:189,name:"very light green"},{r:210,g:189,b:10,name:"mustard yellow"},{r:211,g:73,b:78,name:"faded red"},{r:211,g:182,b:131,name:"very light brown"},{r:212,g:106,b:126,name:"pinkish"},{r:212,g:255,b:255,name:"really light blue"},{r:213,g:23,b:78,name:"lipstick"},{r:213,g:134,b:157,name:"dull pink"},{r:213,g:138,b:148,name:"dusty pink"},{r:213,g:171,b:9,name:"burnt yellow"},{r:213,g:182,b:10,name:"dark yellow"},{r:213,g:255,b:255,name:"very light blue"},{r:214,g:72,b:215,name:"pinkish purple"},{r:214,g:180,b:252,name:"light violet"},{r:214,g:255,b:250,name:"ice"},{r:214,g:255,b:254,name:"very pale blue"},{r:215,g:37,b:222,name:"purple pink"},{r:215,g:103,b:173,name:"pale magenta"},{r:215,g:255,b:254,name:"ice blue"},{r:216,g:134,b:59,name:"dull orange"},{r:216,g:220,b:214,name:"light grey"},{r:217,g:1,b:102,name:"dark hot pink"},{r:217,g:79,b:245,name:"heliotrope"},{r:217,g:84,b:77,name:"pale red"},{r:217,g:155,b:130,name:"pinkish tan"},{r:218,g:70,b:125,name:"darkish pink"},{r:219,g:75,b:218,name:"pink purple"},{r:219,g:88,b:86,name:"pastel red"},{r:219,g:180,b:12,name:"gold"},{r:220,g:77,b:1,name:"deep orange"},{r:221,g:133,b:215,name:"lavender pink"},{r:221,g:214,b:24,name:"piss yellow"},{r:222,g:12,b:98,name:"cerise"},{r:222,g:126,b:93,name:"dark peach"},{r:222,g:157,b:172,name:"faded pink"},{r:223,g:78,b:200,name:"purpleish pink"},{r:223,g:197,b:254,name:"light lavender"},{r:224,g:63,b:216,name:"purple pink"},{r:225,g:119,b:1,name:"pumpkin"},{r:226,g:202,b:118,name:"sand"},{r:228,g:203,b:255,name:"pale lilac"},{r:229,g:0,b:0,name:"red"},{r:230,g:218,b:166,name:"beige"},{r:230,g:242,b:162,name:"light khaki"},{r:231,g:142,b:165,name:"pig pink"},{r:236,g:45,b:1,name:"tomato red"},{r:237,g:13,b:217,name:"fuchsia"},{r:237,g:200,b:255,name:"light lilac"},{r:238,g:207,b:254,name:"pale lavender"},{r:238,g:220,b:91,name:"dull yellow"},{r:239,g:29,b:231,name:"pink purple"},{r:239,g:64,b:38,name:"tomato"},{r:239,g:180,b:53,name:"macaroni and cheese"},{r:239,g:192,b:254,name:"light lavendar"},{r:240,g:117,b:230,name:"purply pink"},{r:240,g:131,b:58,name:"dusty orange"},{r:240,g:148,b:77,name:"faded orange"},{r:241,g:12,b:69,name:"pinkish red"},{r:241,g:218,b:122,name:"sandy"},{r:241,g:243,b:63,name:"off yellow"},{r:242,g:158,b:142,name:"blush"},{r:242,g:171,b:21,name:"squash"},{r:243,g:97,b:150,name:"medium pink"},{r:244,g:50,b:12,name:"vermillion"},{r:244,g:54,b:5,name:"orangish red"},{r:244,g:208,b:84,name:"maize"},{r:245,g:4,b:201,name:"hot magenta"},{r:245,g:5,b:79,name:"pink red"},{r:245,g:191,b:3,name:"golden"},{r:246,g:104,b:142,name:"rosy pink"},{r:246,g:206,b:252,name:"very light purple"},{r:247,g:2,b:42,name:"cherry red"},{r:247,g:135,b:154,name:"rose pink"},{r:247,g:213,b:96,name:"light mustard"},{r:248,g:72,b:28,name:"reddish orange"},{r:249,g:115,b:6,name:"orange"},{r:249,g:188,b:8,name:"golden rod"},{r:250,g:42,b:85,name:"red pink"},{r:250,g:66,b:36,name:"orangey red"},{r:250,g:95,b:247,name:"light magenta"},{r:250,g:194,b:5,name:"goldenrod"},{r:250,g:238,b:102,name:"yellowish"},{r:250,g:254,b:75,name:"banana yellow"},{r:251,g:41,b:67,name:"strawberry"},{r:251,g:85,b:129,name:"warm pink"},{r:251,g:95,b:252,name:"violet pink"},{r:251,g:125,b:7,name:"pumpkin orange"},{r:251,g:221,b:126,name:"wheat"},{r:251,g:238,b:172,name:"light tan"},{r:252,g:38,b:71,name:"pinky red"},{r:252,g:90,b:80,name:"coral"},{r:252,g:130,b:74,name:"orangish"},{r:252,g:134,b:170,name:"pinky"},{r:252,g:176,b:1,name:"yellow orange"},{r:252,g:192,b:6,name:"marigold"},{r:252,g:225,b:102,name:"sand yellow"},{r:252,g:246,b:121,name:"straw"},{r:252,g:252,b:129,name:"yellowish tan"},{r:253,g:60,b:6,name:"red orange"},{r:253,g:65,b:30,name:"orange red"},{r:253,g:70,b:89,name:"watermelon"},{r:253,g:89,b:86,name:"grapefruit"},{r:253,g:121,b:143,name:"carnation"},{r:253,g:141,b:73,name:"orangeish"},{r:253,g:170,b:72,name:"light orange"},{r:253,g:176,b:192,name:"soft pink"},{r:253,g:177,b:71,name:"butterscotch"},{r:253,g:185,b:21,name:"orangey yellow"},{r:253,g:193,b:197,name:"pale rose"},{r:253,g:220,b:92,name:"light gold"},{r:253,g:222,b:108,name:"pale gold"},{r:253,g:238,b:115,name:"sandy yellow"},{r:253,g:253,b:254,name:"pale grey"},{r:253,g:255,b:56,name:"lemon yellow"},{r:253,g:255,b:82,name:"lemon"},{r:253,g:255,b:99,name:"canary"},{r:254,g:0,b:2,name:"fire engine red"},{r:254,g:1,b:154,name:"neon pink"},{r:254,g:1,b:177,name:"bright pink"},{r:254,g:2,b:162,name:"shocking pink"},{r:254,g:44,b:84,name:"reddish pink"},{r:254,g:47,b:74,name:"lightish red"},{r:254,g:66,b:15,name:"orangered"},{r:254,g:70,b:165,name:"barbie pink"},{r:254,g:75,b:3,name:"blood orange"},{r:254,g:123,b:124,name:"salmon pink"},{r:254,g:130,b:140,name:"blush pink"},{r:254,g:131,b:204,name:"bubblegum pink"},{r:254,g:134,b:164,name:"rosa"},{r:254,g:169,b:147,name:"light salmon"},{r:254,g:178,b:9,name:"saffron"},{r:254,g:179,b:8,name:"amber"},{r:254,g:198,b:21,name:"golden yellow"},{r:254,g:208,b:252,name:"pale mauve"},{r:254,g:223,b:8,name:"dandelion"},{r:254,g:246,b:158,name:"buff"},{r:254,g:252,b:175,name:"parchment"},{r:254,g:255,b:127,name:"faded yellow"},{r:254,g:255,b:202,name:"ecru"},{r:255,g:0,b:13,name:"bright red"},{r:255,g:2,b:141,name:"hot pink"},{r:255,g:4,b:144,name:"electric pink"},{r:255,g:7,b:58,name:"neon red"},{r:255,g:7,b:137,name:"strong pink"},{r:255,g:8,b:232,name:"bright magenta"},{r:255,g:71,b:76,name:"light red"},{r:255,g:91,b:0,name:"bright orange"},{r:255,g:97,b:99,name:"coral pink"},{r:255,g:99,b:233,name:"candy pink"},{r:255,g:105,b:175,name:"bubble gum pink"},{r:255,g:108,b:181,name:"bubblegum"},{r:255,g:111,b:82,name:"orange pink"},{r:255,g:114,b:76,name:"pinkish orange"},{r:255,g:120,b:85,name:"melon"},{r:255,g:121,b:108,name:"salmon"},{r:255,g:127,b:167,name:"carnation pink"},{r:255,g:129,b:192,name:"pink"},{r:255,g:148,b:8,name:"tangerine"},{r:255,g:150,b:79,name:"pastel orange"},{r:255,g:154,b:138,name:"peachy pink"},{r:255,g:166,b:43,name:"mango"},{r:255,g:167,b:86,name:"pale orange"},{r:255,g:171,b:15,name:"yellowish orange"},{r:255,g:173,b:1,name:"orange yellow"},{r:255,g:176,b:124,name:"peach"},{r:255,g:177,b:109,name:"apricot"},{r:255,g:177,b:154,name:"pale salmon"},{r:255,g:178,b:208,name:"powder pink"},{r:255,g:183,b:206,name:"baby pink"},{r:255,g:186,b:205,name:"pastel pink"},{r:255,g:197,b:18,name:"sunflower"},{r:255,g:197,b:203,name:"light rose"},{r:255,g:207,b:220,name:"pale pink"},{r:255,g:209,b:223,name:"light pink"},{r:255,g:216,b:177,name:"light peach"},{r:255,g:218,b:3,name:"sunflower yellow"},{r:255,g:223,b:34,name:"sun yellow"},{r:255,g:227,b:110,name:"yellow tan"},{r:255,g:229,b:173,name:"pale peach"},{r:255,g:243,b:154,name:"dark cream"},{r:255,g:244,b:242,name:"very light pink"},{r:255,g:249,b:23,name:"sunny yellow"},{r:255,g:249,b:208,name:"pale"},{r:255,g:250,b:134,name:"manilla"},{r:255,g:252,b:196,name:"egg shell"},{r:255,g:253,b:1,name:"bright yellow"},{r:255,g:253,b:55,name:"sunshine yellow"},{r:255,g:253,b:116,name:"butter yellow"},{r:255,g:253,b:120,name:"custard"},{r:255,g:254,b:64,name:"canary yellow"},{r:255,g:254,b:113,name:"pastel yellow"},{r:255,g:254,b:122,name:"light yellow"},{r:255,g:254,b:182,name:"light beige"},{r:255,g:255,b:20,name:"yellow"},{r:255,g:255,b:126,name:"banana"},{r:255,g:255,b:129,name:"butter"},{r:255,g:255,b:132,name:"pale yellow"},{r:255,g:255,b:182,name:"creme"},{r:255,g:255,b:194,name:"cream"},{r:255,g:255,b:203,name:"ivory"},{r:255,g:255,b:212,name:"eggshell"},{r:255,g:255,b:228,name:"off white"},{r:255,g:255,b:255,name:"white"}]);e.CSS_NAMED_COLORS=t,e.colorNames=n}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(39),n(40),n(35)],void 0!==(r=function(e,t,n,a,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=Object.assign({},e);"_id"in t||(t._id=t.id),t.color=e.color&&new g.default(e.color),t.fontFace&&u(t),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},name:{get:function(){return t.name},set:function(e){t.name=e},enumerable:!0},fontFace:{get:function(){return t.fontFace},set:function(e){t.fontFace=e},enumerable:!0},fontSize:{get:function(){return t.fontSize},set:function(e){t.fontSize=e},enumerable:!0},fontWeight:{get:function(){return l(t.weightText)},set:function(e){t.fontWeight=e},enumerable:!0},fontStyle:{get:function(){return t.fontStyle},set:function(e){t.fontStyle=e},enumerable:!0},fontFamily:{get:function(){return t.fontFamily},set:function(e){t.fontFamily=e},enumerable:!0},fontStretch:{get:function(){return t.fontStretch},set:function(e){t.fontStretch=e},enumerable:!0},lineHeight:{get:function(){return t.lineHeight},set:function(e){t.lineHeight=e},enumerable:!0},textAlign:{get:function(){return t.textAlign},set:function(e){if(-1===f.indexOf(e))throw new TypeError("Unknown alignment: '"+e+"'. Possible values: "+JSON.stringify(f));t.textAlign=e},enumerable:!0},letterSpacing:{get:function(){return t.letterSpacing},set:function(e){t.letterSpacing=e},enumerable:!0},color:{get:function(){return t.color},set:function(e){t.color=e&&new g.default(e)},enumerable:!0},weightText:{get:function(){return t.weightText},set:function(e){t.weightText=e},enumerable:!0},scaledFontSize:{get:function(){return t.scaledFontSize},set:function(e){t.scaledFontSize=e},enumerable:!0}})}function s(e,t){var n=e.lastIndexOf(t);return e.substring(0,n)+e.substr(n+t.length)}function l(e){return/black|heavy|900/gi.test(e)?900:/((ex|ul)tra)\s?bold|800/gi.test(e)?800:/([ds]emi)\s?bold|600/gi.test(e)?600:/bold|700/gi.test(e)?700:/medium|500/gi.test(e)?500:/((ex|ul)tra)\s?light|200/gi.test(e)?200:/light|300/gi.test(e)?300:/thin|hairline|100/gi.test(e)?100:400}function c(e){return/(ultra(\s|-)?)+condensed/i.test(e)?"ultra-condensed":/(extra(\s|-)?)+condensed/i.test(e)?"extra-condensed":/(semi(\s|-)?)+condensed/i.test(e)?"semi-condensed":/condensed/i.test(e)?"condensed":/(ultra(\s|-)?)+expanded/i.test(e)?"ultra-expanded":/(extra(\s|-)?)+expanded/i.test(e)?"extra-expanded":/(semi(\s|-)?)+expanded/i.test(e)?"semi-expanded":/expanded/i.test(e)?"expanded":"normal"}function u(e){var t=e.fontFace,n=t.match(h);n?(t=s(t,n=n[n.length-1]),n=n.toLowerCase()):n="regular";var a=t.match(y);a?(t=s(t,a=a[a.length-1]),a=a.toLowerCase()):a="normal";var r=t.match(v);r?(t=s(t,r=r[r.length-1]),r=r.toLowerCase()):r="normal",t=t.replace(/--/,"-").replace(/-$/,"").trim(),e.fontFamily=t.match(/^Arial-?MT$/)?"Arial":t,e.fontStyle=a,e.weightText=n,e.fontStretch=c(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var d=o(t),m=o(n),p=o(a),g=function(e){return e&&e.__esModule?e:{default:e}}(r),f=["start","left","right","end","center","justify"];i.prototype.equals=function(e){return this.fontFace===e.fontFace&&this.fontSize===e.fontSize&&this.lineHeight===e.lineHeight&&this.textAlign===e.textAlign&&this.letterSpacing===e.letterSpacing&&(!this.color||!e.color||this.color.equals(e.color))},i.prototype.toCSS=function(e,t,n,a,r){var o,i={selector:m.selectorize(this.name)||".font"};return i["font-family"]=this.fontFamily,i["font-size"]=m.toCSSLength(this.fontSize,e),700===this.fontWeight?i["font-weight"]="bold":400!==this.fontWeight?i["font-weight"]=this.fontWeight:400===this.fontWeight&&(a||r&&r["font-weight"]&&"normal"!==r["font-weight"])&&(i["font-weight"]="normal"),o=r&&r["font-style"]&&"normal"!==r["font-style"],this.fontStyle&&("normal"===this.fontStyle&&(a||o)||"normal"!==this.fontStyle)&&(i["font-style"]=this.fontStyle),o=r&&r["font-stretch"]&&"normal"!==r["font-stretch"],this.fontStretch&&("normal"===this.fontStretch&&(a||o)||"normal"!==this.fontStretch)&&(i["font-stretch"]=this.fontStretch),o=r&&r["line-height"]&&"normal"!==r["line-height"],this.lineHeight?i["line-height"]=t?d.round(this.lineHeight/this.fontSize,2):m.toCSSLength(this.lineHeight,e):(a||o)&&(i["line-height"]="normal"),o=r&&r["letter-spacing"]&&"normal"!==r["letter-spacing"],this.letterSpacing?i["letter-spacing"]=m.toCSSLength(this.letterSpacing,e):(a||o)&&(i["letter-spacing"]="normal"),this.textAlign&&(i["text-align"]=this.textAlign),this.color&&(i.color=new g.default(this.color).toCSS(n)),i},i.prototype.toReactStyle=function(e,t,n,a,r){var o=m.selectorize(this.name);m.isHtmlTag(o)||(o=o.substring(1));var i,s={selector:o};return s.fontFamily=this.fontFamily,s.fontSize=d.round(this.fontSize/t,1),i=r&&r["font-weight"]&&"normal"!==r["font-weight"],700===this.fontWeight?s.fontWeight="bold":400!==this.fontWeight?s.fontWeight=String(this.fontWeight):(a||i)&&(s.fontWeight="normal"),i=r&&r["font-style"]&&"normal"!==r["font-style"],this.fontStyle&&("normal"!==this.fontStyle||a||i)&&(s.fontStyle=this.fontStyle),this.lineHeight&&(s.lineHeight=d.round(this.lineHeight/t,1)),i=r&&r["letter-spacing"]&&"normal"!==r["letter-spacing"],this.letterSpacing?s.letterSpacing=d.round(this.letterSpacing/t,2):(a||i)&&(s.letterSpacing=0),this.textAlign&&(s.textAlign=this.textAlign),this.color&&(s.color=new g.default(this.color).toCSS(n)),s},i.prototype.generateFontValueForAddAttributeWithSwift=function(e){return{ios:p.generateIOSAddAttributeFontParameterWithSwift,osx:p.generateOSXAddAttributeFontParameterWithSwift}[e.platform](this,e)},i.prototype.generateFontValueForAddAttributeWithObjC=function(e){return{ios:p.generateIOSAddAttributeFontParameterWithObjC,osx:p.generateOSXAddAttributeFontParameterWithObjC}[e.platform](this,e)},i.prototype.generateMixinCode=function(e){var t=e.type,n=e.densityDivisor,a=e.unitlessLineHeight,r=e.colorMap,o=e.colorFormat;return m.toStyleRule(t,this.toCSS(n,a,o),r,!0)},i.prototype.generateTextStyleCode=function(e,t,n){return(0,{web:{default:p.generateWebTextStyle},ios:{swift:p.generateIOSTextStyleWithSwift,objc:p.generateIOSTextStyleWithObjC,react:p.generateIOSTextStyleWithReact},osx:{swift:p.generateOSXTextStyleWithSwift,objc:p.generateOSXTextStyleWithObjC},android:{default:p.generateAndroidTextStyle}}[e][n||"default"])(this,t)};var h=/(thin|hairline|([ds]emi|(ex|ul)tra)?(light|bold)|normal|regular|book|medium|heavy|black|[1-9]00$)/gi,y=/(italic|oblique)/gi,v=/((?:(ultra|extra|semi)[\s-]?)?(?:condensed|expanded))/gi}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(36)],void 0!==(r=function(e,t,n){"use strict";function a(e,t,n){var a,r=[];a=n?h+"--"+e.selector.substr(1)+":":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var i=e[o],s=(n?h:"")+h+o+": "+(Array.isArray(i)?i.join(", "):i)+";\n";if(r.push(s),-1!==g.indexOf(o)){var l=s;for(var c in t)l=l.replace(new RegExp(c.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"var(--"+t[c]+")$1");l!==s&&r.push(l)}}return a+r.join("")+(e.mixinEntry?h+"@apply --"+e.mixinEntry+";\n":"")+(n?"  };\n":"}")}function r(e,t,n){var a,r=[];a=n?"="+e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var i=e[o],s=h+o+": "+(Array.isArray(i)?i.join(", "):i)+"\n";if(-1!==g.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),"$"+t[l]+"$1");r.push(s)}return a+r.join("")+(e.mixinEntry?h+"+"+e.mixinEntry+"()\n":"")}function o(e,t,n){var a,r=[];a=n?"@mixin "+e.selector.substr(1):e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var i=e[o],s=h+o+": "+(Array.isArray(i)?i.join(", "):i)+";\n";if(-1!==g.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"$"+t[l]+"$1");r.push(s)}return a+r.join("")+(e.mixinEntry?h+"@include "+e.mixinEntry+";\n":"")+(n?"}\n":"}")}function i(e,t,n){var a,r=[];a=n?e.selector.toLowerCase()+"()":e.selector,a+=" {\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var i=e[o],s=h+o+": "+(Array.isArray(i)?i.join(", "):i)+";\n";if(-1!==g.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|,|;)","g"),"@"+t[l]+"$1");r.push(s)}return a+r.join("")+(e.mixinEntry?h+"."+e.mixinEntry+"()\n":"")+(n?"}\n":"}")}function s(e,t,n){var a,r=[];a=n?e.selector.substr(1)+"()":e.selector,a+="\n",delete e.selector;for(var o in e)if("mixinEntry"!==o){var i=e[o],s=h+o+" "+(Array.isArray(i)?i.join(", "):i)+"\n";if(-1!==g.indexOf(o))for(var l in t)s=s.replace(new RegExp(l.replace("(","\\(").replace(")","\\)")+"(\\b|\\s|,)","g"),t[l]+"$1");r.push(s)}return a+r.join("")+(e.mixinEntry?h+e.mixinEntry+"()\n":"")}function l(e,t,n){var a=e.selector;return delete e.selector,Object.keys(e).forEach(function(n){"mixinEntry"!==n&&f.includes(n)&&e[n]in t&&(e[n]="colors."+t[e[n]])}),"const "+(0,p.default)(a,"camelCase")+" = "+JSON.stringify(e,null,2).replace(/"(.+)":/g,"$1:").replace(/: "colors\.(.*)"/g,": colors.$1")+";"}function c(e){if(!e)return"";if(e=e.trim(),d(e))return e.toLowerCase();if(/^[#.]/.test(e)){var t=u(e.substr(1));if(t)return e[0]+t}return(e=u(e))&&"."+e}function u(e){return e=e.trim().replace(/[^\s\w-]/g,"").replace(/^(-?\d+)+/,"").replace(/\s+/g,"-"),CSS.escape&&(e=CSS.escape(e)),e}function d(e){return y.indexOf(e.toLowerCase())>-1}Object.defineProperty(e,"__esModule",{value:!0}),e.selectorize=e.escape=e.toCSSLength=e.toCSSPercent=e.toStyleRule=e.mixinSample=e.isHtmlTag=e.isPropInherited=e.BLEND_MODES=void 0;var m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),p=function(e){return e&&e.__esModule?e:{default:e}}(n),g=["background-image","background-color","color","text-shadow","box-shadow","border","border-color","border-image-source","-webkit-text-stroke"],f=["backgroundColor","borderColor","color","shadowColor","textDecorationColor","textShadowColor"],h="  ",y=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],v=["-webkit-background-clip","background-clip","-webkit-text-fill-color"],b=Object.freeze(["normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","dissolve","linear-burn","linear-dodge","darker-color","lighter-color","vivid-light","linear-light","pin-light","hard-mix","subtract","divide"]);e.BLEND_MODES=b,e.isPropInherited=function(e){return-1===v.indexOf(e)},e.isHtmlTag=d,e.mixinSample=function(e,t){var n=t.find(function(e){return!d(e.name)});if(!n)return"";var a=c(n.name).substr(1),r="\n\n/* How to use mixins\n";switch(e){case"sass":return r+" *   .myClass\n *     +"+a+"()\n */";case"scss":return r+" *   .myClass {\n *     @include "+a+";\n *   }\n */";case"less":return r+" *   .myClass {\n *     ."+a+"()\n *   }\n */";case"stylus":return r+" *   .myClass\n *     "+a+"()\n */";default:case"css":return r+" *   .myClass {\n *     @apply --"+a+";\n *   }\n */"}},e.toStyleRule=function(e,t,n,c){switch(e){case"sass":return r(t,n,c);case"scss":return o(t,n,c);case"less":return i(t,n,c);case"stylus":return s(t,n,c);case"react":return l(t,n,c);default:case"css":return a(t,n,c)}},e.toCSSPercent=function(e){return e?Math.round(100*e)+"%":"0"},e.toCSSLength=function(e,t){return e?m.round(e/t,1)+"px":"0"},e.escape=u,e.selectorize=c}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(39),n(36)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n=/^(?:SFUIDisplay|SFUIText|SFCompactDisplay|SFCompactText)-(Ultralight|Thin|Light|Regular|Medium|Semibold|Bold|Heavy|Black)?$/,a=t.match(n);if(a)return e+"Weight"+a[1]}function i(e){switch(e){case"center":return"center_horizontal";case"right":return"end";default:return""}}function s(e){var t=i(e);return t?'    <item name="android:gravity">'+t+"</item>\n":t}function l(e,t){return e?u.round(e/t,1):"0"}function c(e){var t=/^Roboto(\w*)?-(?:Regular)?(Thin|Light|Medium|Black)?(Bold)?(Italic)?$/,n=["normal","bold","italic","bold|italic"],a={undefined:"sans-serif",condensed:"sans-serif-condensed",mono:"monospace"},r=e.match(t);if(r&&a[(""+r[1]).toLowerCase()]){var o=r[1],i=r[2],s=r[3],l=r[4];return{family:a[(""+o).toLowerCase()]+(i?"-"+i.toLowerCase():""),weight:n[(s?1:0)+(l?2:0)]}}}Object.defineProperty(e,"__esModule",{value:!0}),e.generateOSXAddAttributeFontParameterWithSwift=e.generateOSXAddAttributeFontParameterWithObjC=e.generateIOSAddAttributeFontParameterWithSwift=e.generateIOSAddAttributeFontParameterWithObjC=e.generateAndroidTextLayerStyle=e.generateAndroidTextStyle=e.generateOSXTextStyleWithSwift=e.generateOSXTextStyleWithObjC=e.generateIOSTextStyleWithReact=e.generateIOSTextStyleWithObjC=e.generateIOSTextStyleWithSwift=e.generateWebTextStyle=void 0;var u=r(t),d=r(n),m=function(e){return e&&e.__esModule?e:{default:e}}(a),p={extra:"extra",multiplier:"multiplier"};e.generateWebTextStyle=function(e,t){var n=t.type,a=t.densityDivisor,r=t.unitlessLineHeight,o=t.colorFormat,i=t.colorMap,s=t.defaultValues;return d.toStyleRule(n,e.toCSS(a,r,o,s),i)},e.generateIOSTextStyleWithSwift=function(e,t){var n,a=["10.0","9.0","8.2"],r=t.deploymentTarget,i=t.prefix,s=t.densityDivisor,l=t.type,c=o("UIFont",e.fontFace),d=a.includes(r)&&c,p=u.roundToFloatString(e.fontSize/s,2);return n=d?"swift2"===l?".systemFontOfSize("+p+", weight: "+c:".systemFont(ofSize: "+p+", weight: "+c:'(name: "'+e.fontFace+'", size: '+p,"  class func "+(i||"")+(0,m.default)(e.name,i?"upperCamelCase":"camelCase")+"Font() -> UIFont"+(d?"":"?")+" {\n    return UIFont"+n+")\n  }"},e.generateIOSTextStyleWithObjC=function(e,t){var n,a=t.deploymentTarget,r=t.prefix,i=t.densityDivisor,s=o("UIFont",e.fontFace),l=u.roundToFloatString(e.fontSize/i,2);return n=["10.0","9.0","8.2"].includes(a)&&s?"systemFontOfSize:"+l+"f weight:"+s:'fontWithName:@"'+e.fontFace+'" size:'+l+"f","+ (UIFont *)"+(r?r+"_":"")+(0,m.default)(e.name,"camelCase")+"Font {\n    return [UIFont "+n+"];\n}"},e.generateIOSTextStyleWithReact=function(e,t){var n=e.toReactStyle("ios",t.densityDivisor,t.colorFormat,t.defaultValues),a=(0,m.default)(n.selector,"camelCase"),r={};return delete n.selector,t.projectColor&&(n.color="colors."+t.projectColor.name),r[a]=n,r},e.generateOSXTextStyleWithObjC=function(e,t){var n,a=t.deploymentTarget,r=t.prefix,i=t.densityDivisor,s=o("NSFont",e.fontFace),l=u.roundToFloatString(e.fontSize/i,2);return n=["10.12","10.11"].includes(a)&&s?"NSFont systemFontOfSize:"+l+"f weight:"+s:'NSFont fontWithName:@"'+e.fontFace+'" size:'+l+"f","+ (NSFont *)"+(r?r+"_":"")+(0,m.default)(e.name,"camelCase")+"Font {\n    return ["+n+"];\n}"},e.generateOSXTextStyleWithSwift=function(e,t){var n,a=["10.12","10.11"],r=t.deploymentTarget,i=t.prefix,s=t.densityDivisor,l=t.type,c=o("NSFont",e.fontFace),d=a.includes(r)&&c,p=u.roundToFloatString(e.fontSize/s,2);return n=d?"swift2"===l?".systemFontOfSize("+p+", weight: "+c:".systemFont(ofSize: "+p+", weight: "+c:'(name: "'+e.fontFace+'", size: '+p,"  class func "+(i||"")+(0,m.default)(e.name,i?"upperCamelCase":"camelCase")+"Font() -> NSFont"+(d?"":"?")+" {\n    return NSFont"+n+")\n  }"},e.generateAndroidTextStyle=function(e,t){var n,a=t.lineSpacingType,r=t.projectColor,o=t.densityDivisor,i=t.dimensionSuffix,d=(0,m.default)(e.name,"upperCamelCase"),g="";e.color&&(g='    <item name="android:textColor">'+(r?"@color/"+r.name:e.color.toHexString(!0))+"</item>\n"),n=c(e.fontFace);var f='  <style name="'+d+'">\n'+s(e.textAlign)+'    <item name="android:textSize">'+l(e.fontSize,o)+i+"</item>\n";return n&&(f+='    <item name="android:fontFamily">'+n.family+'</item>\n    <item name="android:textStyle">'+n.weight+"</item>\n"),e.letterSpacing&&(f+='    <item name="android:letterSpacing">'+u.round(e.letterSpacing/e.fontSize,2)+"</item>\n"),e.lineHeight&&(a===p.multiplier?f+='    <item name="android:lineSpacingMultiplier">'+u.round(e.lineHeight/e.fontSize,2)+"</item>\n":f+='    <item name="android:lineSpacingExtra">'+l(e.lineHeight-e.fontSize,o)+i+"</item>\n"),f+=g+"  </style>"},e.generateAndroidTextLayerStyle=function(e,t){var n={robotoStyle:{textSize:l(e.fontSize,t.densityDivisor)+t.dimensionSuffix}},a=c(e.fontFace);return a&&(n.robotoStyle.fontFamily=a.family,n.robotoStyle.textStyle=a.weight),e.letterSpacing&&(n.letterSpacing=u.round(e.letterSpacing/e.fontSize,2)),e.lineHeight&&(t.lineSpacingType===p.multiplier?n.lineSpacingMultiplier=u.round(e.lineHeight/e.fontSize,2):n.lineSpacingExtra=l(e.lineHeight-e.fontSize,t.densityDivisor)+t.dimensionSuffix),n.gravity=i(e.textAlign),n},e.generateIOSAddAttributeFontParameterWithObjC=function(e,t){var n=["10.0","9.0","8.2"],a=t.deploymentTarget,r=t.densityDivisor,i=o("UIFont",e.fontFace),s=n.includes(a)&&i,l=u.roundToFloatString(e.fontSize/r,2);return s?"[UIFont systemFontOfSize:"+l+"f weight:"+i+"]":'[UIFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"},e.generateIOSAddAttributeFontParameterWithSwift=function(e,t){var n=["10.0","9.0","8.2"],a=t.deploymentTarget,r=t.densityDivisor,i=o("UIFont",e.fontFace),s=n.includes(a)&&i,l=u.roundToFloatString(e.fontSize/r,2);return s?"UIFont.systemFont(ofSize: "+l+")":'UIFont(name: "'+e.fontFace+'", size: '+l+")!"},e.generateOSXAddAttributeFontParameterWithObjC=function(e,t){var n=["10.12","10.11"],a=t.deploymentTarget,r=t.densityDivisor,i=o("NSFont",e.fontFace),s=n.includes(a)&&i,l=u.roundToFloatString(e.fontSize/r,2);return s?"[NSFont systemFontOfSize:"+l+"f weight:"+i+"]":'[NSFont fontWithName:@"'+e.fontFace+'" size: '+l+"f]"},e.generateOSXAddAttributeFontParameterWithSwift=function(e,t){var n=["10.12","10.11"],a=t.deploymentTarget,r=t.densityDivisor,i=o("NSFont",e.fontFace),s=n.includes(a)&&i,l=u.roundToFloatString(e.fontSize/r,2);return s?"NSFont.systemFont(ofSize: "+l+")":'NSFont(name: "'+e.fontFace+'", size: '+l+")!"}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[n(24),n(26),n(8),n(1),n(3),n(5)],void 0!==(r=function(e,t,n,a,r,o){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){x.querySelector(".selected").classList.remove("selected");(e.emotar?x.querySelector(".emotar[data-name='"+e.emotar+"']"):x.firstElementChild).classList.add("selected"),S.setAvatar(w.querySelector(".profileImage"),e),S.setAvatar(L.querySelector(".profileImage"),e),S.setAvatar(document.querySelector(".currentAvatar .profileImage"),e),S.setAvatar(document.querySelector("#emotarList .emotarImage"),e,{ignoreRandomEmotar:!0});var t=document.querySelector('#organizations .organization[data-id="user"]');t&&S.setAvatar(t.querySelector(".organizationLogo"),e)}function l(){fetch(Zeplin.urls.baseURL+"/users/emailNotifications",{method:"PUT",headers:Zeplin.headers,body:JSON.stringify({emailNotifications:q.checked})}).then(function(e){if(!e.ok)return e.json().then(function(t){throw E.createError(e.status,t)});Zeplin.updateUser({emailNotifications:q.checked})}).catch(function(e){q.checked=!q.checked,E.handleError(e)})}function c(){Cookies.expire("userToken"),localStorage.removeItem("user"),Zeplin.requireLogin(!1)}function u(e){var t;t="emotar"===e?A.getBoundingClientRect():I.getBoundingClientRect(),w.style.height=t.height+"px",w.classList.toggle("scrolling","usermenu"===e&&w.offsetHeight<I.scrollHeight)}function d(e){return document.querySelector(".organizationProfile[data-id='"+e+"']")}function m(e){document.querySelector("li.userPlan").classList.toggle("hidden",!e)}function p(e){Object.assign(Zeplin.user,e),s(Zeplin.user)}function g(e){var t="private-organization@"+e;y.pusher.channel(t)||y.pusher.subscribe(t)}function f(e,t){e.parentElement.classList.add("loading"),t&&(e.addEventListener("load",function t(){e.removeEventListener("load",t),e.parentElement.classList.remove("loading")}),e.src=t)}function h(e){var t=document.importNode(P.content,!0);t.querySelector(".organizationProfile").dataset.id=e._id,t.querySelector("a").href=S.urlResolve("organization-dashboard",{url:{oid:e._id}}),t.querySelector(".organizationName").textContent=e.name,f(t.querySelector(".organizationLogo"),e.logo),O.appendChild(t),g(e._id)}var y=i(e),v=i(t),b=i(n),S=i(a),j=i(r),E=i(o),L=document.getElementById("currentUser"),w=document.getElementById("userMenu"),x=document.getElementById("emotarList"),C=document.getElementById("updatePlanButton"),k=document.getElementById("planChooserOverlay"),D=document.getElementById("notificationContainer"),T=document.getElementById("notificationStatusCheckbox"),q=document.getElementById("emailNotificationStatusCheckbox"),_=document.getElementById("logoutButton"),I=w.querySelector("section.usermenu"),A=w.querySelector("section.emotar"),O=document.getElementById("organizationProfiles"),P=document.getElementById("organizationProfileTemplate");L.addEventListener("click",function(e){e.stopPropagation(),e.button===Zeplin.MOUSE_BUTTON.LEFT&&(window.Notification&&w.classList.contains("hidden")&&("granted"!==Notification.permission?(j.userPrefs.set("notificationStatus",!1),T.checked=!1):j.userPrefs.get("notificationStatus").then(function(e){T.checked=e})),D.classList.add("hidden"),window.ExportProgresses&&ExportProgresses.hideExportProgressesContainer(),w.classList.toggle("hidden"))}),w.addEventListener("click",function(e){e.stopPropagation()}),document.querySelector("#userInfo .avatarFrame").addEventListener("click",function(e){e.stopPropagation(),w.dataset.state="emotar"}),document.getElementById("emotarBackButton").addEventListener("click",function(e){w.dataset.state="usermenu"}),["sunglasses","thinking_face","heart_eyes","grin","sweat_smile","white_frowning_face","unamused","upside_down_face","relieved","nerd_face","weary","anguished","face_with_rolling_eyes","scream","smile","smirk","face_with_thermometer","face_with_head_bandage","panda_face","new_moon_with_face","tomato","full_moon_with_face","tennis","space_invader","monkey_face","tophat","lion_face","four_leaf_clover","shit","pig_nose","robot_face","mouse","mushroom","penguin","chestnut","koala","hamburger","jack_o_lantern","rabbit","lollipop","hamster","lemon","tv","gift","ghost","frog","eyes","dart","dark_sunglasses","chicken","cookie","grapes","bear","eggplant","alien","octopus","bread","dog","meat_on_bone","pizza"].forEach(function(e){var t=document.createElement("div"),n=document.createElement("img"),a=e.replace(/_\w/g,function(e){return e.charAt(1).toUpperCase()});a=S.uppercaseFirst(a),t.classList.add("emotar"),t.dataset.name=e,n.src=Zeplin.urls.appURL+"/img/emotars/emotar"+a+".png",t.appendChild(n),x.appendChild(t)}),x.addEventListener("click",function(e){if(e.target.classList.contains("emotar")){var t=e.target.dataset.name;t="random"===t?null:t;var n=Object.assign({},Zeplin.user);n.emotar=t,s(n)}}),C.addEventListener("click",function(e){e.preventDefault(),w.classList.add("hidden"),k.classList.remove("hidden"),mixpanel.track("Opened pricing popup"),ga("legacyTracker.send","event","PAYMENT_EVENTS","opened-pricing-popup"),ga("send","pageview","/pricing-popup")});var N;q.addEventListener("change",function(){clearTimeout(N),N=setTimeout(function(){l()},1e3)}),_.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&(mixpanel.track("Logged out"),fetch(Zeplin.urls.baseURL+"/users/logout",{method:"POST",headers:Zeplin.headers}).then(c,c))});var F=new MutationObserver(function(e){e.forEach(function(e){if("class"===e.attributeName)if(e.target.classList.contains("hidden")){if(!e.oldValue||!e.oldValue.includes("hidden")){w.classList.remove("hasTransition"),w.dataset.state="usermenu";var t=x.querySelector(".selected").dataset.name;if(t="random"===t?null:t,Zeplin.user.emotar===t)return;y.updateEmotar(t).then(function(){Zeplin.user.emotar=t,t?mixpanel.track("Updated emotar",{emoji:t}):mixpanel.track("Removed emotar")}).catch(function(e){s(Zeplin.user),E.handleError(e)})}}else e.oldValue&&e.oldValue.includes("hidden")&&(u(e.target.dataset.state),w.classList.add("hasTransition"));else"data-state"===e.attributeName&&u(e.target.dataset.state)})});document.addEventListener("click",function(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&w.classList.add("hidden")}),document.addEventListener("keydown",function(e){e.keyCode===Zeplin.KEY_CODE.ESC&&w.classList.add("hidden")}),window.addEventListener("storage",function(e){if(e.storageArea===localStorage&&"user"===e.key){var t=JSON.parse(e.newValue);t&&"registered"===t.status&&(w.querySelector(".userStatus").textContent="Not verified yet.")}}),Cookies.get("userToken")&&(F.observe(w,{attributes:!0,attributeOldValue:!0,attributeFilter:["class","data-state"]}),s(Zeplin.user),L.title=Zeplin.user.username,w.querySelector(".username").textContent=Zeplin.user.username,w.querySelector(".email").textContent=Zeplin.user.email,q.checked=void 0===Zeplin.user.emailNotifications||Zeplin.user.emailNotifications,"registered"===Zeplin.user.status&&(w.querySelector(".userStatus").textContent="Not verified yet.","dismissed"!==sessionStorage.getItem("verificationBannerStatus")&&v.show({content:"Your email is not verified yet. Please check your inbox.",group:"verification",closeCallback:function(){sessionStorage.setItem("verificationBannerStatus","dismissed")}})),fetch(Zeplin.urls.baseURL+"/organizations",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw E.createError(e.status,t)})}).then(function(e){e.organizations.length&&(m(!1),e.organizations.forEach(h))}).catch(function(){}),window.Notification?(T.addEventListener("change",function(){if("denied"===Notification.permission)return T.checked=!1,void b.create({message:"You need to enable notifications from browser settings."});"default"===Notification.permission&&T.checked?Notification.requestPermission(function(e){j.userPrefs.set("notificationStatus","granted"===e).then(function(e){T.checked=e})}):j.userPrefs.set("notificationStatus",T.checked)}),j.userPrefs.get("notificationBannerStatus").then(function(e){"default"===Notification.permission&&e&&v.show({content:"Zeplin needs your permission to <a href='#'>enable desktop notifications</a>",contentType:"html",group:"notification",closeCallback:function(){j.userPrefs.set("notificationBannerStatus",!1)},bodyCallbacks:{a:function(e){e.preventDefault(),v.closeBanner("notification"),Notification.requestPermission(function(e){j.userPrefs.set("notificationStatus","granted"===e).then(function(e){T.checked=e})})}}})})):T.closest(".menuItem").classList.add("hidden"),function(e){e.bind("UpdateUsername",function(e){var t=e.body.username;L.title=t,w.querySelector(".username").textContent=t}),e.bind("UpdateEmail",function(e){w.querySelector(".email").textContent=e.body.email}),e.bind("UpdateUserEmotar",function(e){p(e.body)}),e.bind("UpdateUserAvatar",function(e){p(e.body)}),e.bind("VerifyUser",function(){w.querySelector(".userStatus").textContent=""}),e.bind("UpdateEmailNotifications",function(e){q.checked=e.body.emailNotifications}),e.bind("CreateOrganization",function(e){h(e.body),m(!1)}),e.bind("InviteOrganizationMembers",function(e){h(e.body),m(!1)})}(y.userChannel),y.pusher.bind("UpdateOrganizationLogo",function(e){var t=d(e.params.oid);t?f(t.querySelector(".organizationLogo"),e.body.logo):y.pusher.unsubscribe("private-organization@"+e.params.oid)}),y.pusher.bind("UpdateOrganizationName",function(e){var t=d(e.params.oid);t?t.querySelector(".organizationName").textContent=e.body.name:y.pusher.unsubscribe("private-organization@"+e.params.oid)}),y.pusher.bind("RemoveMemberFromOrganization",function(e){if(e.params.mid===Zeplin.user._id){y.pusher.unsubscribe("private-organization@"+e.params.oid);var t=d(e.params.oid);t&&(t.previousElementSibling.remove(),t.remove(),m(!O.childElementCount))}}))}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=CodeMirror},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(e){e=e||{};var n=document.importNode(t.content,!0).querySelector(".hideableInfo"),a=n.querySelector(".infoText");switch(e.type){case"html":a.innerHTML=e.content;break;case"text":default:a.textContent=e.content}if(e.buttonText&&(n.querySelector(".infoHideButtonText").textContent=e.buttonText),n.classList.toggle("popover",!!e.popover),n.querySelector(".anchor").classList.add(e.anchor||"bottom"),n.classList.toggle("noControls",!!e.noControls),n.addEventListener("click",function(e){e.stopPropagation()}),e.noControls?document.addEventListener("click",function t(a){document.removeEventListener("click",t),e.hideCallback&&e.hideCallback(),n.remove()}):(e.popover&&document.addEventListener("click",function e(){document.removeEventListener("click",e),n.remove()}),n.querySelector(".infoHideButton").addEventListener("click",function(){e.hideCallback&&e.hideCallback(),n.remove()})),e.bodyCallbacks)for(var r in e.bodyCallbacks)n.querySelector(r).addEventListener("click",e.bodyCallbacks[r]);return n};var t=document.getElementById("hideableInfoTemplate")}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(24),n(8),n(1),n(5),n(45)],void 0!==(r=function(e,t,n,a,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){fetch(Zeplin.urls.baseURL+"/organizations/"+e+"/members",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t})}).then(function(e){(se=e).members.forEach(function(e){e.tags.forEach(function(e){le[e]?le[e]=le[e]+1:le[e]=1})})})}function s(e){if(e.classList.contains("newUser")){if(!de.checkValidity()&&!/^\w{3,30}$/.test(de.value))return Q.wiggle(de.parentElement),void(we=!0);ue.querySelector(".inputArea img").classList.remove("hidden")}else e.classList.remove("inviteRetry"),e.classList.add("inviteSpinner");if(e.classList.contains("newUser"))I(de.value,e);else if(e.classList.contains("user")){var t=re.find(function(t){return t._id===e.dataset.uid});I(t.username||t.email,e)}else if(e.classList.contains("member")){var n=se.members.find(function(t){return t.user._id===e.dataset.mid});I(n.user.username||n.user.email,e)}else if(e.classList.contains("wildling")){var a=se.wildlings.find(function(t){return t.user._id===e.dataset.wid});I(a.user.username||a.user.email,e)}else e.classList.contains("inviteByTag")&&_(e.dataset.tag,e)}function l(e){ue.classList.contains("organizationProject")?c(e):u(e)}function c(e){var t=ye.querySelector(".invitee.selected");if(t){var n,a=Array.from(ye.querySelectorAll(".invitee:not(.hidden)")),r=a.findIndex(function(e){return e.classList.contains("selected")});if((n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?r-1:r+1)>-1&&n<a.length){var o=a[n];t.classList.remove("selected"),o.classList.add("selected"),Q.scrollIfNecessary(o,ye)}}else{var i=ye.querySelector(".invitee:not(.hidden)");i&&(i.classList.add("selected"),Q.scrollIfNecessary(i,ye))}}function u(e){var t=me.querySelector(".selected");if(t){var n=e.keyCode===Zeplin.KEY_CODE.ArrowUp?t.previousElementSibling:t.nextElementSibling;n&&n.classList.contains("user")&&!n.classList.contains("hidden")&&(t.classList.remove("selected"),n.classList.add("selected"),Q.scrollIfNecessary(n))}else{var a=me.querySelector(".user:not(.hidden)");a&&(a.classList.add("selected"),Q.scrollIfNecessary(a))}}function d(){ue.classList.contains("organizationProject")?b():S()}function m(e,t,n){var a=(n=n||{}).importance||1;return n.skipExactMatch||!1||e!==t?e.startsWith(t)?8*a:e.includes(t)?4*a:0:16}function p(e,t){e.parentElement.classList.toggle(t,!e.childElementCount)||Array.from(e.querySelectorAll(".invitee")).forEach(function(t){t.classList.remove("hidden","selected"),e.appendChild(t)})}function g(e){return ve.querySelector("[data-tag='"+e+"']")}function f(e){return Se.querySelector("[data-mid='"+e.user._id+"']")}function h(e){return Le.querySelector("[data-wid='"+e.user._id+"']")}function y(e,t,n,a){t.forEach(function(t){var a=n(t);a.classList.remove("hidden","selected"),e.appendChild(a)});for(var r=0;r<e.childElementCount-t.length;r++){var o=e.children[r];o.classList.add("hidden"),o.classList.remove("selected")}e.parentElement.classList.toggle(a,0===t.length)}function v(e,t,n){var a={},r=e.filter(function(e){if(ie.has(e.user._id)){var r=n(e);if(!r)return!1;if(!r.classList.contains("inviteDone"))return!1}var o=0;return e.user.username&&(o+=m(e.user.username,t)),!!(o+=m(e.user.email,t,{skipExactMatch:!0,importance:.25}))&&(a[e.user._id]=o,!0)});return r.sort(function(e,t){return a[t.user._id]-a[e.user._id]}),r}function b(){E(".wildlingList .newUser"),E(".organizationInviteeList .userListTypedUserAlreadyAdded");var e,t,n=de.value.toLowerCase();if(ue.classList.remove("noNewInvitees","noInvitees"),ye.classList.remove("noTags","noMembers","hasMembersWithTag","noWildlings","writeAnEmailToInvite","showAddsToTheProjectOnlyInfo"),Ee.innerHTML="",de.placeholder="Invite with email/username",n){e=!!(t=oe.has(n))||ce.has(n);var a=Object.keys(le);a.sort();var r={},o=a.filter(function(e){var t=m(e.toLowerCase(),n);return!!t&&(r[e]=t,!0)}).sort(function(e,t){return r[t]-r[e]});y(ve,o,g,"noTags");var i=v(se.members,n,f);y(Se,i,f,"noMembers");var s=g(o[0]);ye.classList.toggle("hasMembersWithTag",1===o.length&&(le[o[0]]>0||s&&s.classList.contains("inviteDone")))&&(je.textContent=o[0],Ee.innerHTML="",se.members.forEach(function(e){var t=f(e);if((!ie.has(e.user._id)||t&&t.classList.contains("inviteDone"))&&e.tags.includes(o[0])){var n=w(e);n.querySelector(".invitee").classList.toggle("inviteDone",t&&t.classList.contains("inviteDone")),Ee.appendChild(n)}}));var l=v(se.wildlings,n,h);if(y(Le,l,h,"noWildlings"),e||n.includes("@")){if(!e){ye.classList.remove("noWildlings"),ye.classList.add("showAddsToTheProjectOnlyInfo");var c=document.importNode(ge.content,!0);c.querySelector(".invitee").classList.add("wildling"),c.querySelector(".inviteNewUserButtonText span").textContent=de.value,Le.appendChild(c)}}else ye.classList.add("writeAnEmailToInvite");if(t&&!ye.querySelector(".invitee.inviteDone")){var u=document.importNode(fe.content,!0);u.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),u.querySelector("span").textContent=de.value,ye.appendChild(u)}}else{if(p(ve,"noTags"),be.textContent){var d=Array.from(ve.querySelectorAll(".inviteByTag")).map(function(e){return e.dataset.tag});d.sort(),d.forEach(function(e){var t=g(e);ve.appendChild(t)});for(var b=ve.firstElementChild,S=xe;S<ve.childElementCount;S++){var j=ve.children[S];j.classList.add("hidden"),ve.insertBefore(j,b)}ve.childElementCount-xe>0?(be.textContent=ve.childElementCount-xe,be.classList.toggle("multiple",ve.childElementCount-xe>1)):be.textContent=""}p(Se,"noMembers"),p(Le,"noWildlings")}var L=ye.querySelectorAll(".invitee:not(.hidden)");if(L.length)L[0].classList.add("selected");else if(!t&&!ye.classList.contains("writeAnEmailToInvite")){var x=se.members.filter(function(e){return!ie.has(e.user._id)}),C=se.wildlings.filter(function(e){return!ie.has(e.user._id)});x.length+C.length===0&&X.length>1?ue.classList.add("noNewInvitees"):1===X.length&&(ue.classList.add("noInvitees"),de.placeholder="Invite with email")}}function S(){E(".userList .user.newUser"),E(".userList .userListTypedUserAlreadyAdded"),me.classList.remove("writeAnEmailToInvite"),de.placeholder="Invite with email/username";var e,t,n=de.value.toLowerCase(),a=document.importNode(fe.content,!0);if(n){e=!!(t=oe.has(n))||ae.has(n);var r={},o=re.filter(function(e){var t=0;return e.username&&(t+=m(e.username,n)),(t+=m(e.email,n,{skipExactMatch:!0,importance:.25}))>0&&(r[e._id]=t,!0)}).sort(function(e,t){return r[t._id]-r[e._id]});o.forEach(function(e){var t=j(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});for(var i=0;i<re.length-o.length;i++){var s=me.children[i].classList;s.add("hidden"),s.remove("selected")}}else re.forEach(function(e){var t=j(e._id);t.classList.remove("hidden","selected"),me.appendChild(t)});if(n){if(e||n.includes("@")){if(!e){var l=document.importNode(ge.content,!0);l.querySelector(".invitee").classList.add("user"),l.querySelector(".inviteNewUserButtonText span").textContent=de.value,me.appendChild(l)}}else me.classList.add("writeAnEmailToInvite");t&&(a.querySelector(".userListTypedUserAlreadyAdded").classList.add(n===Zeplin.user.username||n===Zeplin.user.email?"selfUser":"someUser"),a.querySelector("span").textContent=de.value,me.appendChild(a))}ue.classList.remove("noInvitees"),ue.classList.remove("noNewInvitees");var c=me.querySelectorAll(".user:not(.hidden)");c.length?c[0].classList.add("selected"):t||me.classList.contains("writeAnEmailToInvite")||(te.length?ue.classList.add("noNewInvitees"):(ue.classList.add("noInvitees"),de.placeholder="Invite with email"))}function j(e){return me.querySelector(".invitee[data-uid='"+e+"']")}function E(e){var t=document.querySelector(e);t&&t.remove()}function L(e,t,n){var a=document.importNode(he.content,!0),r=a.querySelector(".inviteByTag"),o=a.querySelector(".tagName"),i=a.querySelector(".memberCount");return r.classList.toggle("hidden",!!n),r.dataset.tag=e,o.textContent=e,o.title=e,i.textContent=t+(t>1?" members":" member"),a}function w(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),r=t.querySelector(".username"),o=t.querySelector(".email"),i=t.querySelector(".organizationTags");n.classList.add("member"),n.dataset.mid=e.user._id,Q.setAvatar(a,e.user),e.user.username?(r.textContent=e.user.username,r.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email):(r.textContent=e.user.email,r.title=e.user.email,o.textContent="Pending Invitation");var s=e.tags.join(", ");return i.textContent=s,i.title=s,t}function x(e){var t=document.importNode(pe.content,!0),n=t.querySelector(".invitee"),a=t.querySelector(".userImage"),r=t.querySelector(".username"),o=t.querySelector(".email"),i=t.querySelector(".inviteExtraInfo");return n.classList.add("wildling"),n.dataset.wid=e.user._id,Q.setAvatar(a,e.user),r.textContent=e.user.username,r.title=e.user.username,o.textContent=e.user.email,o.title=e.user.email,e.user.username||(i.textContent="Pending Invitation"),t}function C(e,t){var n=document.importNode(pe.content,!0),a=n.querySelector(".invitee"),r=n.querySelector(".userImage"),o=n.querySelector(".username"),i=n.querySelector(".inviteExtraInfo"),s=e.username||e.email;return a.classList.add("user"),Q.setAvatar(r,e),a.dataset.uid=e._id,o.textContent=s,o.title=s,e.username?n.querySelector(".email").textContent=e.email:i.textContent="Pending invitation",t&&a.classList.add("hidden"),n}function k(e){ne.has(e._id)||(te.push(e),ne.add(e._id),e.username&&ae.add(e.username),ae.add(e.email))}function D(e){ie.add(e._id),e.username&&oe.add(e.username),oe.add(e.email)}function T(e){ie.delete(e._id),e.username&&(oe.delete(e.username),ae.add(e.username)),oe.delete(e.email),ae.add(e.email),re.some(function(t){return t._id===e._id})||re.push(e)}function q(e){ie.delete(e._id),ne.delete(e._id),e.username&&(oe.delete(e.username),ae.delete(e.username)),oe.delete(e.email),ae.delete(e.email),Q.arrayRemove(re,function(t){return t._id===e._id})}function _(e,t){fetch(Zeplin.urls.baseURL+"/organizations/"+se._id+"/projects/"+K+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({tag:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.createError(e.status,t)})}).then(function(e){A(e,t)}).catch(function(){t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),$.create({done:{cb:function(){Q.highlightInput(de),we=!0}}})})}function I(e,t){fetch(Zeplin.urls.baseURL+"/projects/"+K+"/users",{method:"POST",headers:Zeplin.headers,body:JSON.stringify({handle:e})}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.createError(e.status,t)})}).then(function(e){A(e,t)}).catch(function(e){ue.querySelector(".inputArea img").classList.add("hidden"),V()||t.classList.contains("newUser")?(we=!1,ee.handleError(e,{dialogCallback:function(){Q.highlightInput(de),we=!0}})):(t.classList.remove("inviteSpinner"),t.classList.add("inviteRetry"),t.querySelector(".inviteExtraInfo").textContent=e.title)}).catch(function(){$.create({done:{cb:function(){Q.highlightInput(de),we=!0}}})})}function A(e,t){Q.highlightInput(de),ue.querySelector(".inputArea img").classList.add("hidden"),e.users?e.users.forEach(function(e){D(e.user)}):(D(e.user),t.classList.contains("user")&&k(e.user));var n=e.users?e.users:[e];if(Y.dispatchEvent(new CustomEvent("usersInvited",{detail:{users:n}})),ue.classList.contains("organizationProject")&&((e.users?e.users:[e]).forEach(function(e){var t=se.members.find(function(t){return t.user._id===e.user._id});t&&t.tags.forEach(function(e){le[e]=le[e]-1})}),Object.keys(le).forEach(function(e){var t=le[e],n=g(e);0===t?n.classList.add("inviteDone"):n.querySelector(".memberCount").textContent=t+(t>1?" members":" member")})),t.classList.remove("inviteSpinner"),t.classList.add("inviteDone"),e.users&&e.users.forEach(function(e){Array.from(ye.querySelectorAll(".member[data-mid='"+e.user._id+"']")).forEach(function(e){e.classList.add("inviteDone")})}),t.classList.contains("newUser"))if(t.remove(),t.classList.contains("user")){re.push(e.user);var a=C(e.user);a.querySelector(".user").classList.add("inviteDone"),me.querySelector(".user.selected")||a.querySelector(".user").classList.add("selected"),P(a)}else{se.wildlings.push({user:e.user}),ce.add(e.user.email);var r=x(e);r.querySelector(".wildling").classList.add("inviteDone"),Le.querySelector(".wildling.selected")||r.querySelector(".wildling").classList.add("selected"),Le.appendChild(r)}}function O(e){Array.from(e.querySelectorAll(".invitee.inviteDone:not(.newUser)")).forEach(function(e){e.remove()})}function P(e){me.lastElementChild&&me.lastElementChild.classList.contains("user")?me.appendChild(e):me.insertBefore(e,me.lastElementChild)}function N(e){var t="private-project@"+e,n=J.pusher.channel(t)||J.pusher.subscribe(t);n.bind("InviteUser",function(e){B(e.params.pid,e.body)}),n.bind("CreateUser",function(e){U(e.params.pid,e.body)}),n.bind("RemoveUserFromProject",function(e){R(e.params.pid,e.params.mid)}),n.bind("DeleteUser",function(e){Zeplin.user._id!==e.params.uid&&z(e.params.uid)})}function F(e,t){t.forEach(function(e){k(e.user),Y&&!ie.has(e.user._id)&&(re.some(function(t){return t._id===e.user._id})||(re.push(e.user),P(C(e.user))))}),V()||d()}function B(e,t){if(k(t),Y){K===e?(D(t),Q.arrayRemove(re,function(e){return e._id===t._id})):re.some(function(e){return e._id===t._id})||re.push(t);var n=de.value,a=j(t._id);if(K===e&&a){if(a.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove(),a.classList.contains("newUser")||!me.querySelector(".user:not(.hidden)")){var r=document.importNode(fe.content,!0);r.querySelector(".userListTypedUserAlreadyAdded").classList.add(de.value===Zeplin.user.username||de.value===Zeplin.user.email?"selfUser":"someUser"),r.querySelector("span").textContent=de.value,me.appendChild(r)}}else K!==e&&(a?a.classList.contains("newUser")&&(me.appendChild(C(t)),a.classList.contains("selected")&&(a.nextElementSibling&&a.nextElementSibling.classList.contains("user")?a.nextElementSibling.classList.add("selected"):a.previousElementSibling&&a.previousElementSibling.classList.contains("user")&&!a.previousElementSibling.classList.contains("hidden")&&a.previousElementSibling.classList.add("selected")),a.remove()):P(C(t,n&&!(t.username&&t.username.includes(n))&&!t.email.includes(n))))}}function M(e,t,n,a){var r=t(n),o=!(!de.value||n.user.username&&n.user.username.includes(de.value)||n.user.email.includes(de.value));r.querySelector(".invitee").classList.toggle("hidden",o),o?e.append(r):(e.insertBefore(r,e.querySelector(".invitee:not(.hidden)")),e.parentElement.classList.remove(a))}function R(e,t){if(K===e)if(ue.classList.contains("organizationProject")){var n,a,r=se.members.find(function(e){return e.user._id===t});r?(n=r,a=f(r),r.tags.forEach(function(e){le[e]?le[e]=le[e]+1:le[e]=1;var t=g(e);if(t)t.querySelector(".memberCount").textContent=le[e]+(le[e]>1?" members":" member"),t.classList.remove("inviteDone");else{var n=L(e,le[e]);n.querySelector(".invitee").classList.toggle("hidden",!!de.value&&!e.includes(de.value))?ve.appendChild(n):ve.insertBefore(L(e,le[e]),ve.querySelector(".invitee:not(.hidden)"))}})):a=h(n=se.wildlings.find(function(e){return e.user._id===t})),ie.delete(t),oe.delete(n.user.username),oe.delete(n.user.email);var o=ye.querySelector(".userListTypedUserAlreadyAdded");if(de.value===n.user.username&&o&&o.remove(),!Y)return;a?a.classList.remove("inviteDone"):r?M(Se,w,r,"noMembers"):M(Le,x,n,"noWildlings")}else{var i=te.find(function(e){return e._id===t});if(T(i),!Y)return;var s=de.value,l=j(i._id);l?l.classList.remove("inviteDone"):P(C(i,s&&!(i.username&&i.username.includes(s))&&!i.email.includes(s)))}}function U(e,t){var n=te.find(function(e){return e._id===t._id});if(n&&(Object.assign(n,t),Y)){var a=j(t._id);a&&(a.querySelector(".username").textContent=t.username,a.querySelector(".inviteExtraInfo").textContent="")}}function z(e){var t=Q.arrayRemove(te,function(t){return t._id===e});if(t&&(q(t),Y)){var n=j(t._id);n&&(me.removeChild(n),n.classList.contains("selected")&&me.querySelector(".user:not(.hidden)")&&me.querySelector(".user:not(.hidden)").classList.add("selected"))}}function Z(e,t,n){if(t!==K){me.innerHTML="",ve.innerHTML="",be.textContent="",Se.innerHTML="",Le.innerHTML="",oe=new Set,ie=new Set,ce=new Set,Y=e,K=t,(X=n).forEach(function(e){D(e.user)}),se.members.forEach(function(e){ie.has(e.user._id)?e.tags.forEach(function(e){le[e]=le[e]-1,0===le[e]&&delete le[e]}):(ce.add(e.user.username).add(e.user.email),Se.appendChild(w(e)))}),ye.classList.toggle("noMembers",!Se.childElementCount);var a=Object.keys(le);a.sort(),a.forEach(function(e){ve.appendChild(L(e,le[e],!1))});var r=a.length-xe;r>0&&(be.textContent=r,be.classList.toggle("multiple",r>1)),ye.classList.toggle("noTags",!a.length),se.wildlings.forEach(function(e){ie.has(e.user._id)||(ce.add(e.user.username).add(e.user.email),Le.appendChild(x(e)))}),ye.classList.toggle("noWildlings",!Le.childElementCount)}else Object.keys(le).forEach(function(e){0===le[e]&&delete le[e]}),G&&new Date-G>1e4&&(be.textContent=Object.keys(le).length-xe,be.classList.toggle("multiple",Object.keys(le).length-xe>1)),O(ve),O(Se),O(Le);G=0,e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),b(),ue.classList.remove("hidden"),ye.scrollTop=0,de.focus()}function H(e,t,n){t!==K?(me.innerHTML="",ve.innerHTML="",be.textContent="",Se.innerHTML="",Le.innerHTML="",re=[],oe=new Set,ie=new Set,Y=e,K=t,(X=n).forEach(function(e){D(e.user)}),te.forEach(function(e){ie.has(e._id)||(re.push(e),e.username&&ae.add(e.username),ae.add(e.email))}),re.forEach(function(e){me.appendChild(C(e))})):(O(me),ie.forEach(function(e){Q.arrayRemove(re,function(t){return t._id===e})})),e.appendChild(ue),e.getBoundingClientRect().right+80>window.innerWidth&&ue.classList.add("left"),S(),ue.classList.remove("hidden"),me.scrollTop=0,de.focus()}function W(){ue.classList.add("hidden"),ue.classList.remove("left"),ue.querySelector(".inputArea img").classList.add("hidden"),de.value="",de.dispatchEvent(new Event("input")),we=!0,G||(G=new Date)}function V(){return ue.classList.contains("hidden")}Object.defineProperty(e,"__esModule",{value:!0}),e.removeUser=e.isHidden=e.dismiss=e.show=e.init=void 0;var Y,K,X,G,J=o(t),$=o(n),Q=o(a),ee=o(r),te=[],ne=new Set,ae=new Set,re=[],oe=new Set,ie=new Set,se={},le={},ce=new Set,ue=document.getElementById("inviteUserPopup"),de=document.getElementById("inviteeHandle"),me=ue.querySelector(".userList"),pe=document.getElementById("inviteeTemplate"),ge=document.getElementById("inviteNewUserTemplate"),fe=document.getElementById("typedUserAlreadyAddedTemplate"),he=document.getElementById("inviteByTagTemplate"),ye=document.querySelector(".organizationInviteeList"),ve=document.querySelector(".tagList"),be=document.querySelector(".showRemainingTags"),Se=document.querySelector(".memberList"),je=document.querySelector(".membersWithTagHeader"),Ee=document.querySelector(".membersWithTagList"),Le=document.querySelector(".wildlingList"),we=!0,xe=3;fetch(Zeplin.urls.baseURL+"/users/acquaintances",{headers:Zeplin.headers}).then(function(e){return e.json().then(function(t){if(e.ok)return t;throw ee.createError(e.status,t)})}).then(function(e){te=e.acquaintances,ne=new Set(te.map(function(e){return e._id}))}).catch(function(){}),function(){function e(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT){var t=e.target.closest(".invitee");!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner")||!e.target.classList.contains("action")&&!e.target.closest(".inviteNewUserButton")||(e.stopPropagation(),s(t))}}de.addEventListener("input",function(){de.parentElement.classList.toggle("typed",!!de.value),we=!0,d(),Y&&Y.dispatchEvent(new CustomEvent("listRefreshed"))}),ue.addEventListener("click",function(e){e.stopPropagation()}),ue.addEventListener("contextmenu",function(e){e.stopPropagation()}),me.addEventListener("click",e),ye.addEventListener("click",e);var t,n;ue.addEventListener("mouseenter",function(e){t=e.clientX,n=e.clientY}),ue.addEventListener("mousemove",function(e){if(e.stopPropagation(),t!==e.clientX||n!==e.clientY){var a=ue.querySelector(".selected");a&&a.classList.remove("selected"),e.target.closest(".invitee")&&(e.target.closest(".invitee").classList.add("selected"),t=e.clientX,n=e.clientY)}}),document.addEventListener("keydown",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ESC:W();break;case Zeplin.KEY_CODE.ENTER:if(V()||!we)break;var t=ue.querySelector(".selected");if(!t||t.classList.contains("inviteDone")||t.classList.contains("inviteSpinner"))break;we=!1,s(t);break;case Zeplin.KEY_CODE.ArrowUp:case Zeplin.KEY_CODE.ArrowDown:if(V())break;we=!0,e.preventDefault(),l(e)}}),be.addEventListener("click",function(e){e.stopPropagation(),be.textContent="",Array.from(ve.querySelectorAll(".inviteByTag.hidden")).forEach(function(e){e.classList.remove("hidden"),ve.appendChild(e)})})}(),e.init=function(e,t){J.userChannel.bind("InviteUser",function(e){F(e.params.pid,e.body.users)}),e.forEach(N),t&&i(t)},e.show=function(e,t,n,a){ue.classList.toggle("organizationProject",!!a),a?Z(e,t,n):H(e,t,n)},e.dismiss=W,e.isHidden=V,e.removeUser=R}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[],void 0!==(r=function(){"use strict";function e(e){var t=parseInt(e.dataset.maxFontSize,10),n=parseInt(e.dataset.minFontSize,10),a=t,r=document.createElement("canvas").getContext("2d");e.addEventListener("input",function(){if(e.value){if(r.font=a+"px Roboto",r.measureText(e.value).width>e.clientWidth&&a>n)for(;r.measureText(e.value).width>e.clientWidth&&a>n;)a-=.2,r.font=a+"px Roboto";else if(r.measureText(e.value).width<=e.clientWidth&&a<t)for(;r.measureText(e.value).width<=e.clientWidth&&a<t;)a+=.2,r.font=a+"px Roboto"}else a=t;e.style.fontSize=a+"px"})}window.addEventListener("DOMContentLoaded",function(){var t=document.querySelectorAll("input[data-elastic-font-size]");Array.from(t).forEach(e)})}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1)],void 0!==(r=function(e,t){"use strict";function n(e,t){var n=this,r=e,o=r.querySelector(".formattedText"),i=r.querySelector(".mirror"),s=r.querySelector("textarea"),l=r.querySelector(".counter"),c=s.maxLength,u=s.value;Object.defineProperties(this,{root:{value:r},textarea:{value:s},counter:{value:l},mirror:{value:i},placeholder:{get:function(){return s.placeholder},set:function(e){i.innerHTML=a.escapeHTML(e)+"&nbsp;",o.dataset.placeholder=a.escapeHTML(e),s.placeholder=e}},maxLength:{get:function(){return c},set:function(e){c=e,this._setMaxLength()}},readOnly:{get:function(){return s.readOnly},set:function(e){s.readOnly=e}},_originalValue:{value:u,writable:!0},value:{get:function(){return s.value},set:function(e){i.innerHTML=a.escapeHTML(e||s.placeholder)+"&nbsp;",o.innerHTML=t(e),s.value=e,this._setMaxLength()}}}),-1!==c&&this._setMaxLength(),r.classList.add("zplTextarea"),i.innerHTML="&nbsp;",r.classList.contains("autoedit")&&(r.addEventListener("click",function(e){e.stopPropagation()}),o.addEventListener("click",function(e){e.target.closest("a")||(e.stopPropagation(),n.startEditing())})),r.classList.contains("autosubmit")&&s.addEventListener("blur",function(){document.querySelector("#suggestedEmojisContainer.hidden")?n.submitEdits():s.focus()}),s.addEventListener("keydown",function(e){if(!s.readOnly)switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ESC:n.cancelEditing();break;case Zeplin.KEY_CODE.ENTER:(document.body.classList.contains("mac")?e.metaKey:e.ctrlKey)&&n.submitEdits()}}),s.addEventListener("keyup",function(e){switch(e.keyCode){case Zeplin.KEY_CODE.ArrowLeft:case Zeplin.KEY_CODE.ArrowRight:n.checkAutoComplete()}}),s.addEventListener("input",function(e){s.readOnly||(n._setMaxLength(),l.textContent=c-s.value.length,i.innerHTML=a.escapeHTML(s.value)+"&nbsp;",o.innerHTML=t(s.value),n.checkAutoComplete())}),s.addEventListener("drop",function(){s.readOnly||setTimeout(function(){s.focus()},4)}),s.addEventListener("click",function(e){e.stopPropagation(),n.checkAutoComplete()}),r.querySelector("button").addEventListener("click",function(e){e.stopPropagation(),n.submitEdits()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t);n.prototype._setMaxLength=function(){document.body.classList.contains("safari")&&(this.textarea.maxLength=this.maxLength+(this.value.match(/\n/g)||[]).length)},n.prototype.startEditing=function(){if(!this.readOnly){this._originalValue=this.value,this.counter.textContent=this.maxLength-this.value.length,this.root.classList.add("editing");var e=this;setTimeout(function(){e.textarea.focus(),e.textarea.setSelectionRange(e.value.length,e.value.length)},4)}},n.prototype.submitEdits=function(){this.root.classList.contains("editing")&&(this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("submit")))},n.prototype.cancelEditing=function(){this.value=this._originalValue,this.textarea.blur(),this.root.classList.remove("editing"),this.root.dispatchEvent(new CustomEvent("cancel"))},n.prototype.checkAutoComplete=function(){this.root.dispatchEvent(new CustomEvent("autocomplete"))}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(35),n(38)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n,a;if("unknown"===e)n="px",a="px";else switch(t){case"android":n="dp",a="sp";break;case"ios":case"osx":n="pt",a="pt";break;case"web":default:n="px",a="px"}return{textDimensionSuffix:a,dimensionSuffix:n}}function i(e){var t;switch(e){case"mdpi":case"1x":case"web":case"unknown":default:t=1;break;case"hdpi":t=1.5;break;case"xhdpi":case"2x":t=2;break;case"xxhdpi":case"3x":t=3;break;case"xxxhdpi":case"4x":t=4}return t}function s(e,t){if(e.length){var n=e[0].fontSize/t,a=e[e.length-1].fontSize/t;if(n<=36&&a>=14)e.forEach(function(e){e.scaledFontSize=e.fontSize/t});else{var r,o;n<14?(r=24,o=14):a>36?(r=36,o=24):(r=Math.min(36,n),o=Math.max(14,a));var i=n===a?0:(r-o)/(n-a);e[0].scaledFontSize=Math.round(r);for(var s=1;s<e.length;s++){var l=e[s-1].fontSize/t,c=e[s].fontSize/t;e[s].scaledFontSize=Math.round(e[s-1].scaledFontSize-(l-c)*i)}}}}function l(e,t,n){switch(n){case"ios":case"osx":t=t.replace(/\s/,"");break;case"web":t="-"+t.replace(/\s/,"-").toLowerCase();break;case"android":t="_"+t.replace(/\s/,"_").toLowerCase()}return e+t}function c(e){var t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(e>19){var a=e%10;return n[Math.floor(e/10)]+(a?" "+t[a]:"")}return t[e]}function u(e){var t,n,a,r,l=Object.assign({},e);l.users.sort(d.sortBy.role),l.integration&&l.integration.slacks||(l.integration={slacks:[]}),n="https://scene.zeplin.io/project/"+l._id,r=l.colors.map(function(e){return new m.default(e)}),(t=l.textStyles.map(function(e){return new p.default(e)})).sort(d.fontSort),s(t,i(l.density)),delete l.textStyles,delete l.colors;var c=l.screens.map(function(e){return e._id});l.sections.forEach(function(e){e.screens=e.screens.filter(function(e){return c.includes(e)})}),Object.defineProperties(this,{id:{value:l._id},type:{value:l.type},name:{get:function(){return l.name},set:function(e){l.name=e}},colors:{get:function(){return r}},density:{get:function(){return l.density},set:function(e){l.density=e}},icon:{value:l.icon},integration:{get:function(){return l.integration},set:function(e){l.integration=e}},prefix:{get:function(){return l.prefix},set:function(e){l.prefix=e}},public:{get:function(){return l.public},set:function(e){l.public=e}},allowedVersionCount:{value:3,writable:!0},screens:{get:function(){return l.screens},set:function(e){l.screens=e}},sections:{get:function(){return l.sections},set:function(e){l.sections=e}},status:{get:function(){return l.status},set:function(e){l.status=e}},textStyles:{get:function(){return t}},thumbnail:{value:l.thumbnail},users:{get:function(){return l.users}},url:{value:d.urlResolve("project",{url:{pid:l._id}})},shortUrl:{get:function(){return a},set:function(e){a=e}},sceneUrl:{get:function(){return n},set:function(e){n=e}},slackTeamId:{get:function(){if(l.integration.slacks.length)return l.integration.slacks[0].teamId}},tags:{get:function(){var e=[];return new Set(l.screens.reduce(function(e,t){return e.concat(t.tags||[])},[])).forEach(function(t){e.push(t)}),e.sort()}},baseDensity:{value:"android"===l.type?"mdpi":"1x"},densityDivisor:{get:function(){return i(l.density)}},dimensionSuffix:{get:function(){return o(l.density,l.type).dimensionSuffix}},textDimensionSuffix:{get:function(){return o(l.density,l.type).textDimensionSuffix}},updated:{get:function(){return l.updated},set:function(e){l.updated=e}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),m=r(n),p=r(a);u.prototype.addTextStyle=function(e){this.textStyles.push(new p.default(e)),this.textStyles.sort(d.fontSort),s(this.textStyles,this.densityDivisor)},u.prototype.updateTextStyle=function(e,t){var n=this.textStyles.find(function(t){return t.id===e});n&&(Object.assign(n,t),this.textStyles.sort(d.fontSort),s(this.textStyles,this.densityDivisor))},u.prototype.removeTextStyle=function(e){var t=d.arrayRemove(this.textStyles,function(t){return t.id===e});return s(this.textStyles,this.densityDivisor),t},u.prototype.findTextStyleById=function(e){return this.textStyles.find(function(t){return t.id===e})},u.prototype.findTextStyleByName=function(e){return this.textStyles.find(function(t){return t.name===e})},u.prototype.findTextStyleEqual=function(e){return this.textStyles.find(function(t){return e.equals(t)})},u.prototype.getTextStyleName=function(){if(!this.textStyles.length)return"Text Style";for(var e="Text Style",t=1;this.findTextStyleByName(e);)e="Text Style "+ ++t;return e},u.prototype.findUser=function(e){return this.users.find(function(t){return t.user._id===e})},u.prototype.findOwner=function(){return this.users.find(function(e){return"owner"===e.role})},u.prototype.addUser=function(e){this.users.push(e),this.users.sort(d.sortBy.role)},u.prototype.changeUserRole=function(e,t){var n=this.findUser(e);n&&(n.role=t,this.users.sort(d.sortBy.role))},u.prototype.removeUser=function(e){return d.arrayRemove(this.users,function(t){return t.user._id===e})},u.prototype.updateUserInfo=function(e,t){var n=this.findUser(e);n&&(Object.assign(n.user,t),this.users.sort(d.sortBy.role))},u.prototype.addColor=function(e){this.colors.push(new m.default(e))},u.prototype.removeColor=function(e){return d.arrayRemove(this.colors,function(t){return t.id===e})},u.prototype.updateColor=function(e,t){var n=this.colors.find(function(t){return t.id===e});Object.assign(n,t)},u.prototype.findColorById=function(e){return this.colors.find(function(t){return t.id===e})},u.prototype.findColorByName=function(e){return this.colors.find(function(t){return t.name===e})},u.prototype.findColorEqual=function(e){return this.colors.find(function(t){return e.equals(t)})},u.prototype.findColorByHexAndAlpha=function(e){return this.colors.find(function(t){var n=void 0===e.alpha||t.a===e.alpha;return(void 0===e.hex||t.hexBase()===e.hex.toLowerCase())&&n})},u.prototype.checkDuplicateColorHex=function(e,t){var n=this.findColorByHexAndAlpha({hex:e,alpha:t.a});return n&&n.id!==t.id?n:null},u.prototype.checkDuplicateColorAlpha=function(e,t){var n=this.findColorByHexAndAlpha({hex:t.hexBase(),alpha:parseInt(e,10)/100});return n&&n.id!==t.id?n:null},u.prototype.checkDuplicateColorName=function(e,t){var n=this.findColorByName(e);return n&&n.id!==t.id?n:null},u.prototype._checkProjectColors=function(e){for(var t,n=0;n<this.colors.length;n++){var a=this.colors[n];if(a.hexBase()===e.hexBase()){var r=a.name.length,o=parseInt(a.name.substr(r-2),10);t=o&&o===Math.round(100*a.a)?a.name.substr(0,r-2):a.name;break}}return t||(t=e.generateName(this.type)),this._checkProjectColorNames(l(t,Math.round(100*e.a).toString(),this.type))},u.prototype._checkProjectColorNames=function(e){for(var t=e,n=1;this.findColorByName(t);)t=l(e,c(++n),this.type);return t},u.prototype.getColorName=function(e){return e.a<1?this._checkProjectColors(e):this._checkProjectColorNames(e.generateName(this.type))},u.prototype.deleteTag=function(e){return this.screens.reduce(function(t,n){var a;return n.tags&&-1!==(a=n.tags.indexOf(e))?(n.tags.splice(a,1),t.concat({_id:n._id,operation:"remove",tags:[e]})):t},[])},u.prototype.addSection=function(e,t){var n=this;return e.screens.forEach(function(e){var t=n.findScreenSection(e);t&&d.arrayRemove(t.screens,function(t){return t===e})}),this.sections.splice(t,0,e),e},u.prototype.splitSection=function(e,t,n){var a=this.findSection(e);if(a){var r=this.sections.findIndex(function(t){return e===t._id}),o=a.screens.splice(t,a.screens.length-t);return this.sections.splice(r+1,0,{name:n,screens:o}),this.sections[r+1]}},u.prototype.findSection=function(e){return e?this.sections.find(function(t){return t._id===e}):null},u.prototype.removeSection=function(e){var t=this.findSection(e);if(t){var n=this.sections.findIndex(function(t){return t._id===e});return this.sections[n-1].screens=this.sections[n-1].screens.concat(t.screens),d.arrayRemove(this.sections,function(t){return t._id===e})}},u.prototype.updateSectionOrder=function(e,t){var n=this,a=[].concat(e).map(function(e){return d.arrayRemove(n.sections,function(t){return t._id===e})}).filter(function(e){return e});Array.prototype.splice.apply(this.sections,[t,0].concat(a))},u.prototype.isDefaultSection=function(e){return 0===this.sections.findIndex(function(t){return t._id===e})},u.prototype.findScreenSection=function(e){return this.sections.find(function(t){return t.screens.includes(e)})},u.prototype.addScreensToSection=function(e,t,n){var a=this,r=this.findSection(e);r&&(t.forEach(function(e){var t=a.findScreenSection(e);t&&d.arrayRemove(t.screens,function(t){return t===e})}),Array.prototype.splice.apply(r.screens,[n,0].concat(t)))},u.prototype.addScreen=function(e,t){this.screens.push(e);var n=this.sections[0];void 0===t&&(t=n.screens.length),this.addScreensToSection(n._id,[e._id],t)},u.prototype.findScreen=function(e){return this.screens.find(function(t){return t._id===e})},u.prototype.removeScreen=function(e,t){var n=this.findSection(e);if(n&&d.arrayRemove(n.screens,function(e){return e===t}))return d.arrayRemove(this.screens,function(e){return e._id===t})},u.prototype.updateScreenOrder=function(e,t,n){var a=this.findSection(e);a&&(t=[].concat(t).map(function(e){return d.arrayRemove(a.screens,function(t){return t===e})}).filter(function(e){return e}),Array.prototype.splice.apply(a.screens,[n,0].concat(t)))},u.prototype.addVersion=function(e,t){var n=this.findScreen(e);if(n)return n.updated=(new Date).toISOString(),n.versions.unshift(t),n.totalVersionCount&&n.totalVersionCount++,n.versions.length>this.allowedVersionCount?n.versions.pop():void 0},u.prototype.removeVersion=function(e,t){var n=this.findScreen(e);if(n){var a=d.arrayRemove(n.versions,function(e){return e._id===t});return n.totalVersionCount&&n.totalVersionCount--,a}},u.prototype.addIntegration=function(e,t){this.integration[e].push(t)},u.prototype.removeIntegration=function(e,t){return d.arrayRemove(this.integration[e],function(e){return e._id===t})},u.prototype.getColorMapByFormat=function(e){var t={};if(this.colors)return this.colors.forEach(function(n){var a=new m.default(n),r=a.toCSS(e);t[r]=a.name}),t}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(39),n(52),n(53),n(35),n(49),n(38),n(54),n(40),n(36)],void 0!==(r=function(e,t,n,a,r,o,i,s,l,c,u){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){var t=Object.assign({},e);t.blur=new h.default(t.blur),t.borders=t.borders.map(function(e){return new y.default(e,t.rect.width,t.rect.height)}),t.fills=t.fills.map(function(e){return new b.default(e,t.rect.width,t.rect.height)}).reverse(),t.shadows=t.shadows.map(function(e){return new j.default(e)}),t.textStyles=(t.textStyles||[]).map(function(e){var t=parseInt(e.range.location,10);return{range:{start:t,end:t+parseInt(e.range.length,10)},font:new S.default(e.style)}}),Object.defineProperties(this,{id:{value:t._id,enumerable:!0},type:{get:function(){return t.type},set:function(e){if(-1===L.indexOf(e))throw new TypeError("Unknown layer type: '"+e+"'. Possible values: "+JSON.stringify(L));t.type=e}},name:{get:function(){return t.name},set:function(e){t.name=e}},exportable:{value:t.exportable},rotation:{get:function(){return t.rotation},set:function(e){t.rotation=e}},opacity:{get:function(){return t.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");t.opacity=e}},blendMode:{get:function(){return t.blendMode},set:function(e){if(-1===f.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(f.BLEND_MODES));t.blendMode=e}},borderRadius:{get:function(){return t.borderRadius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.borderRadius=e}},blur:{get:function(){return t.blur},set:function(e){t.blur=new h.default(e)}},rect:{get:function(){return t.rect},set:function(e){t.rect=e}},content:{get:function(){return"text"===t.type?t.content||"":""},set:function(e){"text"===t.type&&(t.content=e)}},textStyles:{get:function(){return t.textStyles}},borders:{value:t.borders},fills:{value:t.fills},shadows:{value:t.shadows}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var g=m(t),f=m(n),h=d(a),y=d(r),v=d(o),b=d(i),S=d(s),j=d(l),E=d(u),L=["text","shape"];p.prototype.hasGradient=function(){return this.fills.some(function(e){return"gradient"===e.type})},p.prototype.hasBlendMode=function(){return this.fills.some(function(e){return e.blendMode&&"normal"!==e.blendMode})},p.prototype.toCSS=function(e,t,n,a,r){var o=this.type,i={selector:f.selectorize(this.name)||".layer"};if(t&&(i.width=f.toCSSLength(this.rect.width,e),i.height=f.toCSSLength(this.rect.height,e)),this.exportable&&(i["object-fit"]="contain"),this.rotation&&(i.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(i.opacity=g.round(this.opacity,2)),"normal"!==this.blendMode&&(i["mix-blend-mode"]=this.blendMode),this.borderRadius&&(i["border-radius"]=f.toCSSLength(this.borderRadius,e)),this.blur.radius){var s=this.blur.toCSS(e);for(var l in s)i[l]=s[l]}var c,u=this.hasGradient(),d=this.hasBlendMode();if(this.fills.length&&(u||d?(i["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),d&&(i["background-blend-mode"]=this.fills.map(function(e){return e.blendMode}))):c=v.default.blendAll(this.fills.map(function(e){return e.color}))),"text"===o){var m=this.getDefaultTextStyle(),p=m&&this._getLayerFontCSS(m,e,n,a,r);p&&(delete p.selector,Object.assign(i,p))}else c&&(i["background-color"]=c.toCSS(a));if(this.shadows.length){var h="text"===o?"text-shadow":"box-shadow";i[h]=this.shadows.map(function(t){return t.toCSS(o,e,a)[h]})}if(this.borders.length){var y=this.borders[this.borders.length-1].toCSS(o,e,a);if(y)for(var l in y)i[l]=y[l]}return i},p.prototype.toReactStyle=function(e,t,n,a,r){var o=this.type,i={selector:f.selectorize(this.name)||".layer"};if(n&&(i.width=g.round(this.rect.width/t,1),i.height=g.round(this.rect.height/t,1)),this.rotation&&(i.transform="rotate("+-this.rotation+"deg)"),1!==this.opacity&&(i.opacity=g.round(this.opacity,2)),this.borderRadius&&(i.borderRadius=g.round(this.borderRadius/t,1)),"text"===o){var s=this.getDefaultTextStyle(),l=s&&this._getLayerFontReactStyle(s,t,a,r);l&&(delete l.selector,Object.assign(i,l))}else!this.fills.length||this.hasGradient()||this.hasBlendMode()||(i.backgroundColor=v.default.blendAll(this.fills.map(function(e){return e.color})).toCSS(a));return this.shadows.length&&Object.assign(i,this.shadows[this.shadows.length-1].toReactStyle(e,o,t,a)),this.borders.length&&Object.assign(i,this.borders[this.borders.length-1].toReactStyle(o,t,a)),i},p.prototype.toAndroidXMLStyle=function(e,t){var n={layout_width:"wrap_content",layout_height:"wrap_content"},a=new S.default(this.textStyles[0].font),r=e.findTextStyleEqual(a),o="<TextView\n";if(this.shadows.length){var i=this.shadows[this.shadows.length-1].toAndroidXML(e);Object.assign(n,i)}if(r)o+='  style="@style/'+(0,E.default)(r.name,"upperCamelCase")+'"\n';else{var s={densityDivisor:e.densityDivisor,dimensionSuffix:e.textDimensionSuffix,lineSpacingType:t},l=(0,c.generateAndroidTextLayerStyle)(a,s);Object.assign(n,l.robotoStyle),delete l.robotoStyle;var u,d;if(this.fills.length){if(!this.hasGradient()){var m=v.default.blendAll(this.fills.map(function(e){return e.color}));d=a.color?m.blend(a.color):m}}else d=a.color;d&&(u=e.findColorEqual(d),n.textColor=u?"@color/"+u.name:d.toHexString(!0)),Object.assign(n,l)}return Object.keys(n).forEach(function(e){n[e]&&(o+="  android:"+e+'="'+n[e]+'"\n')}),o+='  tools:text="'+g.escapeAndroidXML(this.content)+'"\n/>'},p.prototype.generateTextStyleCSS=function(e,t,n,a,r){var o=[],i=[],s=this.toCSS(e.densityDivisor,!1,t,a,r),l=this;return this.textStyles.forEach(function(c,u){var d,m=c.font;if(!i.some(function(e){return m.equals(e)})){i.push(m),delete(d=l._getLayerFontCSS(m,e.densityDivisor,t,a,r,s)).selector;var p=!1;for(var g in s)f.isPropInherited(g)&&s[g]===d[g]&&(p=!0,delete d[g]);if(n&&!p){var h=e.findTextStyleEqual(m);if(h&&!f.isHtmlTag(h.name)){var y=h.toCSS(e.densityDivisor,t,a);for(var g in y)delete d[g];d.mixinEntry=f.selectorize(h.name).substr(1)}}Object.keys(d).length&&(o.push(d),d.selector=s.selector+" "+f.selectorize("text-style-"+o.length))}}),o},p.prototype._getLayerFontCSS=function(e,t,n,a,r,o){var i=e.toCSS(t,n,a,r,o);if(this.fills.length)if(delete i.color,this.hasGradient())i["-webkit-background-clip"]="text",i["background-clip"]="text",i["-webkit-text-fill-color"]="transparent",i["background-image"]=this.fills.map(function(e){return e.toBackgroundImage(a)}),e.color&&i["background-image"].push(e.color.toGradient(a));else{var s=v.default.blendAll(this.fills.map(function(e){return e.color}));e.color&&(s=s.blend(e.color)),i.color=s.toCSS(a)}return i},p.prototype._getLayerFontReactStyle=function(e,t,n,a,r){var o=e.toReactStyle("",t,n,a,r);if(this.fills.length&&!this.hasGradient()){delete o.color;var i=v.default.blendAll(this.fills.map(function(e){return e.color}));e.color&&(i=i.blend(e.color)),o.color=i.toCSS(n)}return o},p.prototype.getDefaultTextStyle=function(){if("text"===this.type&&this.textStyles.length){var e,t=[],n=0;return this.textStyles.forEach(function(a){var r=t.find(function(e){return e.font.equals(a.font)}),o=a.range.end-a.range.start;r||(r={font:a.font,totalLength:0},t.push(r)),r.totalLength+=o,r.totalLength>n&&(n=r.totalLength,e=r)}),e&&e.font}}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(39),n(35),n(50)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var a=Object.assign({},e);if(a.type=a.fillType,delete a.fillType,"color"===a.type)a.color=new s.default(a.color),delete a.gradient;else{if("gradient"!==a.type)throw new TypeError("Unknown fill type: '"+a.type+"'. Possible values: "+JSON.stringify(c));a.gradient=new l.default(a.gradient,t,n),delete a.color}Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===c.indexOf(e))throw new TypeError("Unknown fill type: '"+e+"'. Possible values: "+JSON.stringify(c));a.type=e}},color:{get:function(){return a.color},set:function(e){a.type="color",a.color=new s.default(e),delete a.gradient}},gradient:{get:function(){return a.gradient},set:function(e){a.type="gradient",a.gradient=new l.default(e,t,n),delete a.color}},opacity:{get:function(){return a.opacity},set:function(e){if(e<0||e>1)throw new RangeError("Invalid opacity value: '"+e+"'. Valid range: [0, 1]");a.opacity=e}},blendMode:{get:function(){return a.blendMode},set:function(e){if(-1===i.BLEND_MODES.indexOf(e))throw new TypeError("Unknown blend mode: '"+e+"'. Possible values: "+JSON.stringify(i.BLEND_MODES));a.blendMode=e}},fill:{get:function(){return"color"===a.type?this.color:this.gradient},set:function(){}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),s=r(n),l=r(a),c=["color","gradient"];o.prototype.toBackgroundImage=function(e){return"color"===this.type?this.color.toGradient(e):this.gradient.toCSS(e)},o.prototype.toCSS=function(e){var t={};return"color"===this.type?t["background-color"]=this.color.toCSS(e):t["background-image"]=this.gradient.toCSS(e),"normal"!==this.blendMode&&(t["background-blend-mode"]=this.blendMode),t}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(39),n(51)],void 0!==(r=function(e,t,n){"use strict";function a(e,t,n){var a=Object.assign({},e);if("angle"in a){var r=Math.cos(a.angle*Math.PI/180),o=Math.sin(a.angle*Math.PI/180);a.angle=(360+Math.round(180*Math.atan2(r,o)/Math.PI))%360}else{var l=(a.from.x-a.to.x)*t,c=(a.from.y-a.to.y)*n;a.angle=(360-Math.round(180*Math.atan2(l,c)/Math.PI))%360}a.colorStops=a.colorStops.map(function(e){return new i.default(e)}),Object.defineProperties(this,{type:{get:function(){return a.type},set:function(e){if(-1===s.indexOf(e))throw new TypeError("Unknown gradient type: '"+e+"'. Possible values: "+JSON.stringify(s));a.type=e},enumerable:!0},from:{get:function(){return a.from},set:function(e){a.from=e},enumerable:!0},to:{get:function(){return a.to},set:function(e){a.to=e},enumerable:!0},angle:{get:function(){return a.angle},set:function(e){a.angle=e},enumerable:!0},scale:{get:function(){return a.scale},set:function(e){a.scale=e},enumerable:!0},colorStops:{value:a.colorStops,enumerable:!0}})}function r(e){switch(e){case 0:return"to top";case 90:return"to right";case 180:return"to bottom";case 270:return"to left";default:return e+"deg"}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),i=function(e){return e&&e.__esModule?e:{default:e}}(n),s=["linear","radial","angular"];a.prototype.toCSS=function(e){switch(this.type){case"linear":return"linear-gradient("+r(this.angle)+", "+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+")";case"radial":var t=this.colorStops.map(function(t){return t.toCSS(e)}).join(", ");return"radial-gradient(circle at "+o.toCSSPercent(this.from.x)+" "+o.toCSSPercent(this.from.y)+", "+t+")";case"angular":return"conic-gradient("+this.colorStops.map(function(t){return t.toCSS(e)}).join(", ")+", "+this.colorStops[0].toCSS(e)+")"}}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(39),n(35)],void 0!==(r=function(e,t,n){"use strict";function a(e){var t=Object.assign({},e);t.color=new o.default(t.color),Object.defineProperties(this,{color:{get:function(){return t.color},set:function(e){t.color=new o.default(e)}},position:{get:function(){return t.position},set:function(e){if(e<0||e>1)throw new RangeError("Invalid position value: '"+e+"'. Valid range: [0, 1]");t.position=e}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),o=function(e){return e&&e.__esModule?e:{default:e}}(n);a.prototype.toCSS=function(e){var t="";return 1!==this.position&&this.position&&(t=" "+r.toCSSPercent(this.position)),this.color.toCSS(e)+t}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(39)],void 0!==(r=function(e,t){"use strict";function n(e){if(e){var t=Object.assign({},e);Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===r.indexOf(e))throw new TypeError("Unknown blur type: '"+e+"'. Possible values: "+JSON.stringify(r));t.type=e}},radius:{get:function(){return t.radius},set:function(e){if(e<0)throw new RangeError("Invalid radius value: '"+e+"'. Valid range: [0, ∞)");t.radius=e}}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),r=["gaussian","background"];n.prototype.toCSS=function(e){var t="blur("+a.toCSSLength(this.radius,e)+")";return"background"===this.type?{"-webkit-backdrop-filter":t,"backdrop-filter":t}:{"-webkit-filter":t,filter:t}}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(39),n(49)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t,n){var a=Object.assign({},e);a.fill=new l.default({fillType:a.fillType,color:a.color,gradient:a.gradient,opacity:a.opacity,blendMode:a.blendMode},t,n),delete a.fillType,delete a.color,delete a.gradient,delete a.opacity,delete a.blendMode,Object.defineProperties(this,{position:{get:function(){return a.position},set:function(e){a.position=e}},thickness:{get:function(){return a.thickness},set:function(e){a.thickness=e}},fill:{get:function(){return a.fill},set:function(e){a.fill=e}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(t),s=r(n),l=function(e){return e&&e.__esModule?e:{default:e}}(a);o.prototype.toCSS=function(e,t,n){if(e&&"text"===e&&"color"===this.fill.type)return{"-webkit-text-stroke":s.toCSSLength(this.thickness,t)+" "+this.fill.color.toCSS(n)};switch(this.fill.type){case"color":return{border:"solid "+s.toCSSLength(this.thickness,t)+" "+this.fill.color.toCSS(n)};case"gradient":return{"border-style":"solid","border-width":s.toCSSLength(this.thickness,t),"border-image-source":this.fill.gradient.toCSS(n),"border-image-slice":"1"}}},o.prototype.toReactStyle=function(e,t,n){return"text"===e?{}:"gradient"===this.fill.type?{}:{borderStyle:"solid",borderWidth:i.round(this.thickness/t,1),borderColor:this.fill.color.toCSS(n)}}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(39),n(35)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){var t=Object.assign({},e);t.color=new l.default(t.color),Object.defineProperties(this,{type:{get:function(){return t.type},set:function(e){if(-1===c.indexOf(e))throw new TypeError("Unknown shadow type: '"+e+"'. Possible values: "+JSON.stringify(c));t.type=e}},offsetX:{get:function(){return t.offsetX},set:function(e){t.offsetX=e}},offsetY:{get:function(){return t.offsetY},set:function(e){t.offsetY=e}},blurRadius:{get:function(){return t.blurRadius},set:function(e){t.blurRadius=e}},spread:{get:function(){return t.spread},set:function(e){t.spread=e}},color:{get:function(){return t.color},set:function(e){t.color=new l.default(e)}}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=r(t),s=r(n),l=function(e){return e&&e.__esModule?e:{default:e}}(a),c=["outer","inner"];o.prototype.toCSS=function(e,t,n){return e&&"text"===e?{"text-shadow":s.toCSSLength(this.offsetX,t)+" "+s.toCSSLength(this.offsetY,t)+" "+s.toCSSLength(this.blurRadius,t)+" "+this.color.toCSS(n)}:{"box-shadow":("inner"===this.type?"inset ":"")+s.toCSSLength(this.offsetX,t)+" "+s.toCSSLength(this.offsetY,t)+" "+s.toCSSLength(this.blurRadius,t)+" "+s.toCSSLength(this.spread,t)+" "+this.color.toCSS(n)}},o.prototype.toReactStyle=function(e,t,n,a){return"text"===t?{textShadowColor:this.color.toCSS(a),textShadowOffset:{width:i.round(this.offsetX/n,1),height:i.round(this.offsetY/n,1)},textShadowRadius:i.round(this.blurRadius/n,1)}:"android"===e?{}:{shadowColor:this.color.toCSS(a),shadowOffset:{width:i.round(this.offsetX/n,1),height:i.round(this.offsetY/n,1)},shadowRadius:i.round(this.blurRadius/n,1),shadowOpacity:1}},o.prototype.toAndroidXML=function(e){var t,n=new l.default(this.color),a=e.findColorEqual(n);return t=a?"@color/"+a.name:n.toHexString(!0),{shadowColor:t,shadowDx:this.offsetX,shadowDy:this.offsetY,shadowRadius:this.blurRadius}}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";function t(e,t,n){n=n?n+";"+l:l,ga("legacyTracker.send","timing",s,e,t,n)}function n(e,n){(n=n||{}).end?i.measure(e,n.start,n.end):n.start?i.measure(e,n.start):i.measure(e);var a=i.getEntriesByName(e);if(a.length){var r=a[a.length-1],o=n.labels,s=n.minTime||0;o&&(o=Object.keys(o).map(function(e){return e+":"+o[e]},[]).join(";")),r.duration>s&&t(e,Math.round(r.duration),o),i.clearMeasures(e)}}function a(){u||(u=!0,n("page.timeToFirstInteraction"))}function r(){n("page.domContentLoaded",{start:"navigationStart",end:"domContentLoadedEventStart"})}function o(){}Object.defineProperty(e,"__esModule",{value:!0});var i=window.performance,s="JS_Timing",l="version:6.5.0;page:"+location.pathname.match(/\/(\w+)(.html)?/)[1],c=1,u=!1,d=!1;window.addEventListener("load",function(){d=!0});var m,p,g,f;i&&i.mark&&i.measure&&i.timing&&i.getEntriesByName?(m=function(){var e="_mark_"+c;return i.mark(e),c++,e},p=n,g=function(){d?r():window.addEventListener("load",r)},f=function(){document.addEventListener("click",function e(t){a(),document.removeEventListener("click",e,!0)},!0),document.addEventListener("scroll",function e(t){a(),document.removeEventListener("scroll",e,!0)},!0)}):(m=o,p=o,g=o,f=o),e.default={mark:m,measure:p,measurePageDefaults:g,measureFirstInteraction:f}}.apply(t,a))&&(e.exports=r)},function(e,t){e.exports=Autolinker},function(e,t){e.exports=JSZip},function(e,t,n){var a,r;a=[t,n(1)],void 0!==(r=function(e,t){"use strict";function n(e){this._isMac=e&&e.mac,this._routes=[],this._history=new a,this._history.attach(function(e){this._handle(e.url)}.bind(this))}function a(){this._history=window.history,this._listeners={},this._listenerCount=0,window.addEventListener("popstate",this._handlePopState.bind(this))}function r(e,t){this._element=e,this._router=t,this._element.addEventListener("click",this._clickHandler.bind(this))}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperties(n.prototype,{isMac:{get:function(){return this._isMac}},history:{get:function(){return this._history}},match:{value:function(e){return e=this._getUrl(e),!!this._findRoute(e)}},route:{value:function(e,t){return this._register({regex:e,handler:t}),this}},start:{value:function(e,t){var n=Promise.resolve();return this._hookAppLinks(e),t&&(n=n.then(t)),n.then(function(){this._handle(window.location.href)}.bind(this)),this}},_createLink:{value:function(e){new r(e,this)}},_register:{value:function(e){this._routes.push(e)}},_getUrl:{value:function(e){return"string"==typeof e?(e.startsWith("/")&&(e=window.location.origin+e),new URL(e)):e}},_findRoute:{value:function(e){return this._routes.find(function(t){return t.regex.test(e.href)})}},_handle:{value:function(e){e=this._getUrl(e);var n=this._findRoute(e);if(n)return n.handler({url:e,match:e.href.match(n.regex).slice(1),query:(0,t.parseUrlParams)(e.search.substr(1))})}},_searchAppLinks:{value:function(e){var t=this;return e.nodeType!==Node.ELEMENT_NODE?[]:e.hasAttribute("data-link-type")&&"inApp"===e.dataset.linkType?[e]:Array.from(e.childNodes).reduce(function(e,n){return e.concat(t._searchAppLinks(n))},[])}},_hookAppLinks:{value:function(e){var t=this,n=e.querySelectorAll('[data-link-type="inApp"]');Array.from(n).forEach(function(e){t._createLink(e)});var a={attributes:!0,childList:!0,subtree:!0,attributeFilter:["data-link-type"]};new MutationObserver(function(e){e.forEach(function(e){switch(e.type){case"attributes":"inApp"===e.target.dataset.linkType&&t._createLink(e.target);break;case"childList":Array.from(e.addedNodes).forEach(function(e){t._searchAppLinks(e).forEach(function(e){t._createLink(e)})})}})}).observe(e,a)}}}),Object.defineProperties(a.prototype,{actions:{value:{PUSH_STATE:"PUSH_STATE",POP_STATE:"POP_STATE",REPLACE_STATE:"REPLACE_STATE"}},attach:{value:function(e){var t=this._listenerCount;return this._listeners[t]=e,this._listenerCount++,t}},detach:{value:function(e){delete this._listeners[e]}},push:{value:function(e,t){this._history.pushState(t,null,e),this._notifyListeners({action:this.actions.PUSH_STATE,state:t,url:e})}},replace:{value:function(e,t){this._history.replaceState(t,null,e),this._notifyListeners({action:this.actions.REPLACE_STATE,state:t,url:e})}},_notifyListeners:{value:function(e){Object.keys(this._listeners).forEach(function(t){this._listeners[t](e)},this)}},_handlePopState:{value:function(e){this._notifyListeners({action:this.actions.POP_STATE,state:e.state,url:window.location.toString()})}}}),Object.defineProperties(r.prototype,{element:{get:function(){return this._element}},_shouldReplace:{get:function(){return!!this._element.dataset.replace}},_clickHandler:{value:function(e){!this._router.match(this._element.href)||(this._router.isMac?e.metaKey:e.ctrlKey)||(e.preventDefault(),this._shouldReplace?this._router.history.replace(this._element.href):this._router.history.push(this._element.href))}}}),e.default=n}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(36)],void 0!==(r=function(e,t,n){"use strict";function a(e,t,n){var a=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\\/g,"\\").replace(/(["'])/g,"\\$1"),r="";return"swift"===e?(n&&(r=", attributes: "+n),'let attributedString = NSMutableAttributedString(string: "'+a+'"'+r+")"):"objc"===e?(n&&(r=" attributes:"+n),'NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:@"'+a+'"'+r+"];"):void 0}function r(e){return"range: NSRange(location: "+e.start+", length: "+(e.end-e.start)+"))"}function o(e){return"range:NSMakeRange("+e.start+", "+(e.end-e.start)+")];"}function i(e,t){var n,a,r;if("osx"===e.type?(n="NSColor",a="calibratedWhite",r="calibratedRed"):"ios"===e.type&&(n="UIColor",a="white",r="red"),t.name)return n+"."+((e.prefix||"")+(e.prefix?v.uppercaseFirst(t.name):v.lowercaseFirst(t.name)));var o=n+"(";return t.r===t.g&&t.g===t.b?o+=a+": "+v.normalizeSwiftColor(t.r):o+=r+": "+v.normalizeSwiftColor(t.r)+"green: "+v.normalizeSwiftColor(t.g)+"blue: "+v.normalizeSwiftColor(t.b),o+="alpha: "+v.roundToFloatString(t.a,2)+")"}function s(e,t){var n,a,r;if("osx"===e.type?(n="NSColor",a="colorWithCalibratedWhite",r="colorWithCalibratedRed"):"ios"===e.type&&(n="UIColor",a="colorWithWhite",r="colorWithRed"),t.name)return"["+n+" "+((e.prefix?e.prefix+"_":"")+v.lowercaseFirst(t.name)+"Color")+"]";var o="["+n+" ";return t.r===t.g&&t.g===t.b?o+=a+":"+v.normalizeObjCColor(t.r):o+=r+":"+v.normalizeObjCColor(t.r)+"green:"+v.normalizeObjCColor(t.g)+"blue:"+v.normalizeObjCColor(t.b),o+="alpha:"+v.roundToFloatString(t.a,2)+"f]"}function l(e,t,n,a){var l;return"swift"===t?l="attributedString.addAttribute(NSForegroundColorAttributeName, value: "+i(e,n)+", "+r(a):"objc"===t&&(l="[attributedString addAttribute:NSForegroundColorAttributeName value:"+s(e,n)+" "+o(a)),l}function c(e,t,n){var a;return"osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name?a+"."+((e.prefix||"")+(0,b.default)(n.name,e.prefix?"upperCamelCase":"camelCase")+"Font()"):n.generateFontValueForAddAttributeWithSwift({platform:e.type,deploymentTarget:t,densityDivisor:e.densityDivisor,prefix:e.prefix})}function u(e,t,n){var a;return"osx"===e.type?a="NSFont":"ios"===e.type&&(a="UIFont"),n.name?"["+a+" "+((e.prefix?e.prefix+"_":"")+(0,b.default)(n.name,"camelCase")+"Font")+"]":n.generateFontValueForAddAttributeWithObjC({platform:e.type,deploymentTarget:t,densityDivisor:e.densityDivisor,prefix:e.prefix})}function d(e,t,n,a,i){var s;return"swift"===t?s="attributedString.addAttribute(NSFontAttributeName, value: "+c(e,n,a)+", "+r(i):"objc"===t&&(s="[attributedString addAttribute:NSFontAttributeName value:"+u(e,n,a)+" "+o(i)),s}function m(e,t,n){var a;return"swift"===e?a="attributedString.addAttribute(NSKernAttributeName, value: "+v.roundToFloatString(t,2)+", "+r(n):"objc"===e&&(a="[attributedString addAttribute:NSKernAttributeName value:@("+v.roundToFloatString(t,2)+") "+o(n)),a}function p(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+c(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+i(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: "+v.roundToFloatString(n.letterSpacing,2)),"[\n"+a.join(",\n")+"\n]"}function g(e,t,n){var a=[];return n.font&&a.push("  NSFontAttributeName: "+u(e,t,n.font)),n.color&&a.push("  NSForegroundColorAttributeName: "+s(e,n.color)),(n.letterSpacing||0===n.letterSpacing)&&a.push("  NSKernAttributeName: @("+v.roundToFloatString(n.letterSpacing,2)+")"),"@{\n"+a.join(",\n")+"\n}"}function f(e,t,n,a){var r={font:a,color:a.color,letterSpacing:a.letterSpacing};return"swift"===e?p(t,n,r):"objc"===e?g(t,n,r):void 0}function h(e,t,n,a,i){var s;return"swift"===t?s="attributedString.addAttributes("+p(e,n,a)+", "+r(i):"objc"===t&&(s="[attributedString addAttributes:"+g(e,n,a)+" "+o(i)),s}function y(e,t,n,a){var r={};if(!t.color.equals(n.color)){var o;o=a[t.color.toCSS()]?{name:a[t.color.toCSS()]}:t.color,r.color=o}if(t.fontFace!==n.fontFace||t.fontSize!==n.fontSize){var i=e.findTextStyleEqual(t);r.font=i?{name:i.name}:t}return t.letterSpacing!==n.letterSpacing&&(r.letterSpacing=t.letterSpacing||0),r}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n,r,o,i){var s,c=t.getDefaultTextStyle(),u=e.getColorMapByFormat();i&&(s=f(r,e,o,c));var p=[a(r,t.content,s)];if(n.forEach(function(t){if(-1!==t.groupId){var n=y(e,t.font,c,u);1===Object.keys(n).length?n.color?p.push(l(e,r,n.color,t.range)):n.font?p.push(d(e,r,o,n.font,t.range)):(n.letterSpacing||0===n.letterSpacing)&&p.push(m(r,n.letterSpacing,t.range)):Object.keys(n).length>1&&p.push(h(e,r,o,n,t.range))}}),p.length>1)return{content:p.join("\n"),exportType:r}};var v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),b=function(e){return e&&e.__esModule?e:{default:e}}(n)}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(10),n(1)],void 0!==(r=function(e,t,n){"use strict";function a(e){e.button===Zeplin.MOUSE_BUTTON.LEFT&&s&&(e.target.classList.contains("assetExportTargetProjectFolder")?(o(l,!0),u.default.ipcRenderer.send("change-asset-download-target",{projectId:l,projectType:c})):e.target.classList.contains("openInExplorer")&&u.default.ipcRenderer.send("open-item",s))}function r(e,t){t?m.forEach(function(e){var n=e.querySelector(".assetExportTargetProjectName span"),a=e.querySelector(".assetExportTargetProjectFolder");s=t.projectFolder,n.title=t.projectName,n.textContent=t.projectName,a.title=t.projectFolder,a.textContent=t.projectFolderPathParts.join("▸"),e.classList.remove("android","custom","hidden"),e.classList.add(t.projectFolderType)}):m.forEach(function(e){e.classList.add("hidden"),e.classList.remove("android","custom")})}function o(e,t){l=e,m.forEach(function(e){t||(e.classList.add("hidden"),e.classList.remove("android","custom"))}),u.default.ipcRenderer.removeAllListeners(e+":asset-download-target"),u.default.ipcRenderer.once(e+":asset-download-target",r)}function i(e,t){d.showToast("Exported to "+t.projectName,p),"android"===c&&mixpanel.track("Exported assets",{folderType:t.projectFolderType,projectType:c})}Object.defineProperty(e,"__esModule",{value:!0}),e.queryAssetDownloadTarget=function(e,t){c=t,o(e),u.default.ipcRenderer.send("query-asset-download-target",e)},e.downloadAssets=function(e){o(e.projectId,!0),u.default.ipcRenderer.removeAllListeners("assets-downloaded"),u.default.ipcRenderer.once("assets-downloaded",i),u.default.ipcRenderer.send("download-assets",e)};var s,l,c,u=function(e){return e&&e.__esModule?e:{default:e}}(t),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n),m=Array.from(document.querySelectorAll(".assetExportTargetProject")),p=document.querySelector("main");m.forEach(function(e){e.addEventListener("click",a)})}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(62),n(63)],void 0!==(r=function(e,t,n,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e?(j=[],g=e,e=e.toLowerCase().replace(/_/gi," "),f.emojis.forEach(function(n){for(var a=0;a<n.aliases.length;a++)if((0,t.startsWith)(n.aliases[a],e)||n.aliases[a].startsWith(e))return void j.push({emoji:n.emoji,alias:n.aliases[a]})}),j.length?(j.forEach(i),y.appendChild(v),!d||s(d)?(S=0,d=j[0]):S=y.querySelector(".suggestedItem[data-emoji='"+d.emoji+"']").dataset.index,y):void(d=null)):(d=null,S=0,void u())}function i(e,t){var n=document.importNode(b.content,!0),a=n.querySelector(".suggestedItem"),r=e.alias.replace(/\s/gi,"_");a.dataset.index=t,a.dataset.emoji=e.emoji,a.querySelector(".emojiImg").textContent=e.emoji,a.querySelector(".emojiAlias").textContent=r,a.querySelector(".emojiAlias").title=r,v.appendChild(n)}function s(e){return!j.some(function(t){return t.emoji===e.emoji})}function l(e){var t;e=e.toLowerCase().replace(/_/gi," ");var n=f.emojis.find(function(n){return t=n.aliases.find(function(t){return t===e})});if(n)return{emoji:n.emoji,alias:t}}function c(e){var n=m.selectionStart,a=m.value.substring(0,n),r=a.length-a.split("").reverse().join("").search(/:/)-1,o=m.value.substring(r,n),i=e.alias.replace(/\s/g,"_");m.value=m.value.substring(0,r)+o.replace(g,i+": ")+m.value.substring(n),p.innerHTML=(0,t.escapeHTML)(m.value)+"&nbsp;";var s=n-g.length+i.length+2;m.focus(),m.setSelectionRange(s,s),u()}function u(){h.close()}Object.defineProperty(e,"__esModule",{value:!0}),e.replace=e.close=e.open=e.manageSuggestedEmojis=void 0;var d,m,p,g,f=r(n),h=r(a),y=document.getElementById("suggestedEmojisContainer"),v=y.querySelector(".suggestedListBox"),b=document.getElementById("suggestedEmojiTemplate"),S=0,j=[];e.manageSuggestedEmojis=function(e,n){if(m=e,p=n,!y.classList.contains("hidden")){var a=y.querySelector(".suggestedItem.selected");a&&(d=j[a.dataset.index])}var r=e.value.substring(0,e.selectionStart),i=(0,t.getFirstInvalidCharIndex)(r,!0),s=e.value.substring(i,e.selectionStart).match(/:\w+/);if(s){var c=s[0].substring(1);if(g===c&&!y.classList.contains("hidden"))return;u();var f=r.substring(0,i),h=(0,t.getFirstInvalidCharIndex)(f,!0),v=r.substring(h,i+1).match(/:\w+:/);if(v&&l(v[0].substring(1,v[0].length-1)))return;return o(c)}S=0,d=null,u()},e.open=function(){var e={elements:{textContainer:m,suggestedListContainer:y},cb:{autoComplete:c},index:S,list:j};h.open(e)},e.close=u,e.replace=function(e,t){var n;return t.replace(e,function(e,t){return n=l(t),n?n.emoji:e})}}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=[{emoji:"😀",aliases:["grinning"]},{emoji:"😃",aliases:["smiley"]},{emoji:"😄",aliases:["smile"]},{emoji:"😁",aliases:["grin"]},{emoji:"😆",aliases:["laughing","satisfied"]},{emoji:"😅",aliases:["sweat smile"]},{emoji:"😂",aliases:["joy"]},{emoji:"🤣",aliases:["rofl"]},{emoji:"☺️",aliases:["relaxed"]},{emoji:"😊",aliases:["blush"]},{emoji:"😇",aliases:["innocent"]},{emoji:"🙂",aliases:["slightly smiling face"]},{emoji:"🙃",aliases:["upside down face"]},{emoji:"😉",aliases:["wink"]},{emoji:"😌",aliases:["relieved"]},{emoji:"😍",aliases:["heart eyes"]},{emoji:"😘",aliases:["kissing heart"]},{emoji:"😗",aliases:["kissing"]},{emoji:"😙",aliases:["kissing smiling eyes"]},{emoji:"😚",aliases:["kissing closed eyes"]},{emoji:"😋",aliases:["yum"]},{emoji:"😜",aliases:["stuck out tongue winking eye"]},{emoji:"😝",aliases:["stuck out tongue closed eyes"]},{emoji:"😛",aliases:["stuck out tongue"]},{emoji:"🤑",aliases:["money mouth face"]},{emoji:"🤗",aliases:["hugs"]},{emoji:"🤓",aliases:["nerd face"]},{emoji:"😎",aliases:["sunglasses"]},{emoji:"🤡",aliases:["clown face"]},{emoji:"🤠",aliases:["cowboy hat face"]},{emoji:"😏",aliases:["smirk"]},{emoji:"😒",aliases:["unamused"]},{emoji:"😞",aliases:["disappointed"]},{emoji:"😔",aliases:["pensive"]},{emoji:"😟",aliases:["worried"]},{emoji:"😕",aliases:["confused"]},{emoji:"🙁",aliases:["slightly frowning face"]},{emoji:"☹️",aliases:["frowning face"]},{emoji:"😣",aliases:["persevere"]},{emoji:"😖",aliases:["confounded"]},{emoji:"😫",aliases:["tired face"]},{emoji:"😩",aliases:["weary"]},{emoji:"😤",aliases:["triumph"]},{emoji:"😠",aliases:["angry"]},{emoji:"😡",aliases:["rage","pout"]},{emoji:"😶",aliases:["no mouth"]},{emoji:"😐",aliases:["neutral face"]},{emoji:"😑",aliases:["expressionless"]},{emoji:"😯",aliases:["hushed"]},{emoji:"😦",aliases:["frowning"]},{emoji:"😧",aliases:["anguished"]},{emoji:"😮",aliases:["open mouth"]},{emoji:"😲",aliases:["astonished"]},{emoji:"😵",aliases:["dizzy face"]},{emoji:"😳",aliases:["flushed"]},{emoji:"😱",aliases:["scream"]},{emoji:"😨",aliases:["fearful"]},{emoji:"😰",aliases:["cold sweat"]},{emoji:"😢",aliases:["cry"]},{emoji:"😥",aliases:["disappointed relieved"]},{emoji:"🤤",aliases:["drooling face"]},{emoji:"😭",aliases:["sob"]},{emoji:"😓",aliases:["sweat"]},{emoji:"😪",aliases:["sleepy"]},{emoji:"😴",aliases:["sleeping"]},{emoji:"🙄",aliases:["roll eyes"]},{emoji:"🤔",aliases:["thinking"]},{emoji:"🤥",aliases:["lying face"]},{emoji:"😬",aliases:["grimacing"]},{emoji:"🤐",aliases:["zipper mouth face"]},{emoji:"🤢",aliases:["nauseated face"]},{emoji:"🤧",aliases:["sneezing face"]},{emoji:"😷",aliases:["mask"]},{emoji:"🤒",aliases:["face with thermometer"]},{emoji:"🤕",aliases:["face with head bandage"]},{emoji:"😈",aliases:["smiling imp"]},{emoji:"👿",aliases:["imp"]},{emoji:"👹",aliases:["japanese ogre"]},{emoji:"👺",aliases:["japanese goblin"]},{emoji:"💩",aliases:["hankey","poop","shit"]},{emoji:"👻",aliases:["ghost"]},{emoji:"💀",aliases:["skull"]},{emoji:"☠️",aliases:["skull and crossbones"]},{emoji:"👽",aliases:["alien"]},{emoji:"👾",aliases:["space invader"]},{emoji:"🤖",aliases:["robot"]},{emoji:"🎃",aliases:["jack o lantern"]},{emoji:"😺",aliases:["smiley cat"]},{emoji:"😸",aliases:["smile cat"]},{emoji:"😹",aliases:["joy cat"]},{emoji:"😻",aliases:["heart eyes cat"]},{emoji:"😼",aliases:["smirk cat"]},{emoji:"😽",aliases:["kissing cat"]},{emoji:"🙀",aliases:["scream cat"]},{emoji:"😿",aliases:["crying cat face"]},{emoji:"😾",aliases:["pouting cat"]},{emoji:"👐",aliases:["open hands"]},{emoji:"🙌",aliases:["raised hands"]},{emoji:"👏",aliases:["clap"]},{emoji:"🙏",aliases:["pray"]},{emoji:"🤝",aliases:["handshake"]},{emoji:"👍",aliases:["+1","thumbsup"]},{emoji:"👎",aliases:["-1","thumbsdown"]},{emoji:"👊",aliases:["fist oncoming","facepunch","punch"]},{emoji:"✊",aliases:["fist raised","fist"]},{emoji:"🤛",aliases:["fist left"]},{emoji:"🤜",aliases:["fist right"]},{emoji:"🤞",aliases:["crossed fingers"]},{emoji:"✌️",aliases:["v"]},{emoji:"🤘",aliases:["metal"]},{emoji:"👌",aliases:["ok hand"]},{emoji:"👈",aliases:["point left"]},{emoji:"👉",aliases:["point right"]},{emoji:"👆",aliases:["point up 2"]},{emoji:"👇",aliases:["point down"]},{emoji:"☝️",aliases:["point up"]},{emoji:"✋",aliases:["hand","raised hand"]},{emoji:"🤚",aliases:["raised back of hand"]},{emoji:"🖐",aliases:["raised hand with fingers splayed"]},{emoji:"🖖",aliases:["vulcan salute"]},{emoji:"👋",aliases:["wave"]},{emoji:"🤙",aliases:["call me hand"]},{emoji:"💪",aliases:["muscle"]},{emoji:"🖕",aliases:["middle finger","fu"]},{emoji:"✍️",aliases:["writing hand"]},{emoji:"🤳",aliases:["selfie"]},{emoji:"💅",aliases:["nail care"]},{emoji:"💍",aliases:["ring"]},{emoji:"💄",aliases:["lipstick"]},{emoji:"💋",aliases:["kiss"]},{emoji:"👄",aliases:["lips"]},{emoji:"👅",aliases:["tongue"]},{emoji:"👂",aliases:["ear"]},{emoji:"👃",aliases:["nose"]},{emoji:"👣",aliases:["footprints"]},{emoji:"👁",aliases:["eye"]},{emoji:"👀",aliases:["eyes"]},{emoji:"🗣",aliases:["speaking head"]},{emoji:"👤",aliases:["bust in silhouette"]},{emoji:"👥",aliases:["busts in silhouette"]},{emoji:"👶",aliases:["baby"]},{emoji:"👦",aliases:["boy"]},{emoji:"👧",aliases:["girl"]},{emoji:"👨",aliases:["man"]},{emoji:"👩",aliases:["woman"]},{emoji:"👱‍♀",aliases:["blonde woman"]},{emoji:"👱",aliases:["blonde man","person with blond hair"]},{emoji:"👴",aliases:["older man"]},{emoji:"👵",aliases:["older woman"]},{emoji:"👲",aliases:["man with gua pi mao"]},{emoji:"👳‍♀",aliases:["woman with turban"]},{emoji:"👳",aliases:["man with turban"]},{emoji:"👮‍♀",aliases:["policewoman"]},{emoji:"👮",aliases:["policeman","cop"]},{emoji:"👷‍♀",aliases:["construction worker woman"]},{emoji:"👷",aliases:["construction worker man","construction worker"]},{emoji:"💂‍♀",aliases:["guardswoman"]},{emoji:"💂",aliases:["guardsman"]},{emoji:"🕵️‍♀️",aliases:["female detective"]},{emoji:"🕵",aliases:["male detective","detective"]},{emoji:"👩‍⚕",aliases:["woman health worker"]},{emoji:"👨‍⚕",aliases:["man health worker"]},{emoji:"👩‍🌾",aliases:["woman farmer"]},{emoji:"👨‍🌾",aliases:["man farmer"]},{emoji:"👩‍🍳",aliases:["woman cook"]},{emoji:"👨‍🍳",aliases:["man cook"]},{emoji:"👩‍🎓",aliases:["woman student"]},{emoji:"👨‍🎓",aliases:["man student"]},{emoji:"👩‍🎤",aliases:["woman singer"]},{emoji:"👨‍🎤",aliases:["man singer"]},{emoji:"👩‍🏫",aliases:["woman teacher"]},{emoji:"👨‍🏫",aliases:["man teacher"]},{emoji:"👩‍🏭",aliases:["woman factory worker"]},{emoji:"👨‍🏭",aliases:["man factory worker"]},{emoji:"👩‍💻",aliases:["woman technologist"]},{emoji:"👨‍💻",aliases:["man technologist"]},{emoji:"👩‍💼",aliases:["woman office worker"]},{emoji:"👨‍💼",aliases:["man office worker"]},{emoji:"👩‍🔧",aliases:["woman mechanic"]},{emoji:"👨‍🔧",aliases:["man mechanic"]},{emoji:"👩‍🔬",aliases:["woman scientist"]},{emoji:"👨‍🔬",aliases:["man scientist"]},{emoji:"👩‍🎨",aliases:["woman artist"]},{emoji:"👨‍🎨",aliases:["man artist"]},{emoji:"👩‍🚒",aliases:["woman firefighter"]},{emoji:"👨‍🚒",aliases:["man firefighter"]},{emoji:"👩‍✈",aliases:["woman pilot"]},{emoji:"👨‍✈",aliases:["man pilot"]},{emoji:"👩‍🚀",aliases:["woman astronaut"]},{emoji:"👨‍🚀",aliases:["man astronaut"]},{emoji:"👩‍⚖",aliases:["woman judge"]},{emoji:"👨‍⚖",aliases:["man judge"]},{emoji:"🤶",aliases:["mrs claus"]},{emoji:"🎅",aliases:["santa"]},{emoji:"👸",aliases:["princess"]},{emoji:"🤴",aliases:["prince"]},{emoji:"👰",aliases:["bride with veil"]},{emoji:"🤵",aliases:["man in tuxedo"]},{emoji:"👼",aliases:["angel"]},{emoji:"🤰",aliases:["pregnant woman"]},{emoji:"🙇‍♀",aliases:["bowing woman"]},{emoji:"🙇",aliases:["bowing man","bow"]},{emoji:"💁",aliases:["tipping hand woman","information desk person","sassy woman"]},{emoji:"💁‍♂",aliases:["tipping hand man","sassy man"]},{emoji:"🙅",aliases:["no good woman","no good","ng woman"]},{emoji:"🙅‍♂",aliases:["no good man","ng man"]},{emoji:"🙆",aliases:["ok woman"]},{emoji:"🙆‍♂",aliases:["ok man"]},{emoji:"🙋",aliases:["raising hand woman","raising hand"]},{emoji:"🙋‍♂",aliases:["raising hand man"]},{emoji:"🤦‍♀",aliases:["woman facepalming"]},{emoji:"🤦‍♂",aliases:["man facepalming"]},{emoji:"🤷‍♀",aliases:["woman shrugging"]},{emoji:"🤷‍♂",aliases:["man shrugging"]},{emoji:"🙎",aliases:["pouting woman","person with pouting face"]},{emoji:"🙎‍♂",aliases:["pouting man"]},{emoji:"🙍",aliases:["frowning woman","person frowning"]},{emoji:"🙍‍♂",aliases:["frowning man"]},{emoji:"💇",aliases:["haircut woman","haircut"]},{emoji:"💇‍♂",aliases:["haircut man"]},{emoji:"💆",aliases:["massage woman","massage"]},{emoji:"💆‍♂",aliases:["massage man"]},{emoji:"🕴",aliases:["business suit levitating"]},{emoji:"💃",aliases:["dancer"]},{emoji:"🕺",aliases:["man dancing"]},{emoji:"👯",aliases:["dancing women","dancers"]},{emoji:"👯‍♂",aliases:["dancing men"]},{emoji:"🚶‍♀",aliases:["walking woman"]},{emoji:"🚶",aliases:["walking man","walking"]},{emoji:"🏃‍♀",aliases:["running woman"]},{emoji:"🏃",aliases:["running man","runner","running"]},{emoji:"👫",aliases:["couple"]},{emoji:"👭",aliases:["two women holding hands"]},{emoji:"👬",aliases:["two men holding hands"]},{emoji:"💑",aliases:["couple with heart woman man","couple with heart"]},{emoji:"👩‍❤️‍👩",aliases:["couple with heart woman woman"]},{emoji:"👨‍❤️‍👨",aliases:["couple with heart man man"]},{emoji:"💏",aliases:["couplekiss man woman"]},{emoji:"👩‍❤️‍💋‍👩",aliases:["couplekiss woman woman"]},{emoji:"👨‍❤️‍💋‍👨",aliases:["couplekiss man man"]},{emoji:"👪",aliases:["family man woman boy","family"]},{emoji:"👨‍👩‍👧",aliases:["family man woman girl"]},{emoji:"👨‍👩‍👧‍👦",aliases:["family man woman girl boy"]},{emoji:"👨‍👩‍👦‍👦",aliases:["family man woman boy boy"]},{emoji:"👨‍👩‍👧‍👧",aliases:["family man woman girl girl"]},{emoji:"👩‍👩‍👦",aliases:["family woman woman boy"]},{emoji:"👩‍👩‍👧",aliases:["family woman woman girl"]},{emoji:"👩‍👩‍👧‍👦",aliases:["family woman woman girl boy"]},{emoji:"👩‍👩‍👦‍👦",aliases:["family woman woman boy boy"]},{emoji:"👩‍👩‍👧‍👧",aliases:["family woman woman girl girl"]},{emoji:"👨‍👨‍👦",aliases:["family man man boy"]},{emoji:"👨‍👨‍👧",aliases:["family man man girl"]},{emoji:"👨‍👨‍👧‍👦",aliases:["family man man girl boy"]},{emoji:"👨‍👨‍👦‍👦",aliases:["family man man boy boy"]},{emoji:"👨‍👨‍👧‍👧",aliases:["family man man girl girl"]},{emoji:"👩‍👦",aliases:["family woman boy"]},{emoji:"👩‍👧",aliases:["family woman girl"]},{emoji:"👩‍👧‍👦",aliases:["family woman girl boy"]},{emoji:"👩‍👦‍👦",aliases:["family woman boy boy"]},{emoji:"👩‍👧‍👧",aliases:["family woman girl girl"]},{emoji:"👨‍👦",aliases:["family man boy"]},{emoji:"👨‍👧",aliases:["family man girl"]},{emoji:"👨‍👧‍👦",aliases:["family man girl boy"]},{emoji:"👨‍👦‍👦",aliases:["family man boy boy"]},{emoji:"👨‍👧‍👧",aliases:["family man girl girl"]},{emoji:"👚",aliases:["womans clothes"]},{emoji:"👕",aliases:["shirt","tshirt"]},{emoji:"👖",aliases:["jeans"]},{emoji:"👔",aliases:["necktie"]},{emoji:"👗",aliases:["dress"]},{emoji:"👙",aliases:["bikini"]},{emoji:"👘",aliases:["kimono"]},{emoji:"👠",aliases:["high heel"]},{emoji:"👡",aliases:["sandal"]},{emoji:"👢",aliases:["boot"]},{emoji:"👞",aliases:["mans shoe","shoe"]},{emoji:"👟",aliases:["athletic shoe"]},{emoji:"👒",aliases:["womans hat"]},{emoji:"🎩",aliases:["tophat"]},{emoji:"🎓",aliases:["mortar board"]},{emoji:"👑",aliases:["crown"]},{emoji:"⛑",aliases:["rescue worker helmet"]},{emoji:"🎒",aliases:["school satchel"]},{emoji:"👝",aliases:["pouch"]},{emoji:"👛",aliases:["purse"]},{emoji:"👜",aliases:["handbag"]},{emoji:"💼",aliases:["briefcase"]},{emoji:"👓",aliases:["eyeglasses"]},{emoji:"🕶",aliases:["dark sunglasses"]},{emoji:"🌂",aliases:["closed umbrella"]},{emoji:"☂️",aliases:["open umbrella"]},{emoji:"🐶",aliases:["dog"]},{emoji:"🐱",aliases:["cat"]},{emoji:"🐭",aliases:["mouse"]},{emoji:"🐹",aliases:["hamster"]},{emoji:"🐰",aliases:["rabbit"]},{emoji:"🦊",aliases:["fox face"]},{emoji:"🐻",aliases:["bear"]},{emoji:"🐼",aliases:["panda face"]},{emoji:"🐨",aliases:["koala"]},{emoji:"🐯",aliases:["tiger"]},{emoji:"🦁",aliases:["lion"]},{emoji:"🐮",aliases:["cow"]},{emoji:"🐷",aliases:["pig"]},{emoji:"🐽",aliases:["pig nose"]},{emoji:"🐸",aliases:["frog"]},{emoji:"🐵",aliases:["monkey face"]},{emoji:"🙈",aliases:["see no evil"]},{emoji:"🙉",aliases:["hear no evil"]},{emoji:"🙊",aliases:["speak no evil"]},{emoji:"🐒",aliases:["monkey"]},{emoji:"🐔",aliases:["chicken"]},{emoji:"🐧",aliases:["penguin"]},{emoji:"🐦",aliases:["bird"]},{emoji:"🐤",aliases:["baby chick"]},{emoji:"🐣",aliases:["hatching chick"]},{emoji:"🐥",aliases:["hatched chick"]},{emoji:"🦆",aliases:["duck"]},{emoji:"🦅",aliases:["eagle"]},{emoji:"🦉",aliases:["owl"]},{emoji:"🦇",aliases:["bat"]},{emoji:"🐺",aliases:["wolf"]},{emoji:"🐗",aliases:["boar"]},{emoji:"🐴",aliases:["horse"]},{emoji:"🦄",aliases:["unicorn"]},{emoji:"🐝",aliases:["bee","honeybee"]},{emoji:"🐛",aliases:["bug"]},{emoji:"🦋",aliases:["butterfly"]},{emoji:"🐌",aliases:["snail"]},{emoji:"🐚",aliases:["shell"]},{emoji:"🐞",aliases:["beetle"]},{emoji:"🐜",aliases:["ant"]},{emoji:"🕷",aliases:["spider"]},{emoji:"🕸",aliases:["spider web"]},{emoji:"🐢",aliases:["turtle"]},{emoji:"🐍",aliases:["snake"]},{emoji:"🦎",aliases:["lizard"]},{emoji:"🦂",aliases:["scorpion"]},{emoji:"🦀",aliases:["crab"]},{emoji:"🦑",aliases:["squid"]},{emoji:"🐙",aliases:["octopus"]},{emoji:"🦐",aliases:["shrimp"]},{emoji:"🐠",aliases:["tropical fish"]},{emoji:"🐟",aliases:["fish"]},{emoji:"🐡",aliases:["blowfish"]},{emoji:"🐬",aliases:["dolphin","flipper"]},{emoji:"🦈",aliases:["shark"]},{emoji:"🐳",aliases:["whale"]},{emoji:"🐋",aliases:["whale2"]},{emoji:"🐊",aliases:["crocodile"]},{emoji:"🐆",aliases:["leopard"]},{emoji:"🐅",aliases:["tiger2"]},{emoji:"🐃",aliases:["water buffalo"]},{emoji:"🐂",aliases:["ox"]},{emoji:"🐄",aliases:["cow2"]},{emoji:"🦌",aliases:["deer"]},{emoji:"🐪",aliases:["dromedary camel"]},{emoji:"🐫",aliases:["camel"]},{emoji:"🐘",aliases:["elephant"]},{emoji:"🦏",aliases:["rhinoceros"]},{emoji:"🦍",aliases:["gorilla"]},{emoji:"🐎",aliases:["racehorse"]},{emoji:"🐖",aliases:["pig2"]},{emoji:"🐐",aliases:["goat"]},{emoji:"🐏",aliases:["ram"]},{emoji:"🐑",aliases:["sheep"]},{emoji:"🐕",aliases:["dog2"]},{emoji:"🐩",aliases:["poodle"]},{emoji:"🐈",aliases:["cat2"]},{emoji:"🐓",aliases:["rooster"]},{emoji:"🦃",aliases:["turkey"]},{emoji:"🕊",aliases:["dove"]},{emoji:"🐇",aliases:["rabbit2"]},{emoji:"🐁",aliases:["mouse2"]},{emoji:"🐀",aliases:["rat"]},{emoji:"🐿",aliases:["chipmunk"]},{emoji:"🐾",aliases:["feet","paw prints"]},{emoji:"🐉",aliases:["dragon"]},{emoji:"🐲",aliases:["dragon face"]},{emoji:"🌵",aliases:["cactus"]},{emoji:"🎄",aliases:["christmas tree"]},{emoji:"🌲",aliases:["evergreen tree"]},{emoji:"🌳",aliases:["deciduous tree"]},{emoji:"🌴",aliases:["palm tree"]},{emoji:"🌱",aliases:["seedling"]},{emoji:"🌿",aliases:["herb"]},{emoji:"☘️",aliases:["shamrock"]},{emoji:"🍀",aliases:["four leaf clover"]},{emoji:"🎍",aliases:["bamboo"]},{emoji:"🎋",aliases:["tanabata tree"]},{emoji:"🍃",aliases:["leaves"]},{emoji:"🍂",aliases:["fallen leaf"]},{emoji:"🍁",aliases:["maple leaf"]},{emoji:"🍄",aliases:["mushroom"]},{emoji:"🌾",aliases:["ear of rice"]},{emoji:"💐",aliases:["bouquet"]},{emoji:"🌷",aliases:["tulip"]},{emoji:"🌹",aliases:["rose"]},{emoji:"🥀",aliases:["wilted flower"]},{emoji:"🌻",aliases:["sunflower"]},{emoji:"🌼",aliases:["blossom"]},{emoji:"🌸",aliases:["cherry blossom"]},{emoji:"🌺",aliases:["hibiscus"]},{emoji:"🌎",aliases:["earth americas"]},{emoji:"🌍",aliases:["earth africa"]},{emoji:"🌏",aliases:["earth asia"]},{emoji:"🌕",aliases:["full moon"]},{emoji:"🌖",aliases:["waning gibbous moon"]},{emoji:"🌗",aliases:["last quarter moon"]},{emoji:"🌘",aliases:["waning crescent moon"]},{emoji:"🌑",aliases:["new moon"]},{emoji:"🌒",aliases:["waxing crescent moon"]},{emoji:"🌓",aliases:["first quarter moon"]},{emoji:"🌔",aliases:["moon","waxing gibbous moon"]},{emoji:"🌚",aliases:["new moon with face"]},{emoji:"🌝",aliases:["full moon with face"]},{emoji:"🌞",aliases:["sun with face"]},{emoji:"🌛",aliases:["first quarter moon with face"]},{emoji:"🌜",aliases:["last quarter moon with face"]},{emoji:"🌙",aliases:["crescent moon"]},{emoji:"💫",aliases:["dizzy"]},{emoji:"⭐️",aliases:["star"]},{emoji:"🌟",aliases:["star2"]},{emoji:"✨",aliases:["sparkles"]},{emoji:"⚡️",aliases:["zap"]},{emoji:"🔥",aliases:["fire"]},{emoji:"💥",aliases:["boom","collision"]},{emoji:"☄",aliases:["comet"]},{emoji:"☀️",aliases:["sunny"]},{emoji:"🌤",aliases:["sun behind small cloud"]},{emoji:"⛅️",aliases:["partly sunny"]},{emoji:"🌥",aliases:["sun behind large cloud"]},{emoji:"🌦",aliases:["sun behind rain cloud"]},{emoji:"🌈",aliases:["rainbow"]},{emoji:"☁️",aliases:["cloud"]},{emoji:"🌧",aliases:["cloud with rain"]},{emoji:"⛈",aliases:["cloud with lightning and rain"]},{emoji:"🌩",aliases:["cloud with lightning"]},{emoji:"🌨",aliases:["cloud with snow"]},{emoji:"☃️",aliases:["snowman with snow"]},{emoji:"⛄️",aliases:["snowman"]},{emoji:"❄️",aliases:["snowflake"]},{emoji:"🌬",aliases:["wind face"]},{emoji:"💨",aliases:["dash"]},{emoji:"🌪",aliases:["tornado"]},{emoji:"🌫",aliases:["fog"]},{emoji:"🌊",aliases:["ocean"]},{emoji:"💧",aliases:["droplet"]},{emoji:"💦",aliases:["sweat drops"]},{emoji:"☔️",aliases:["umbrella"]},{emoji:"🍏",aliases:["green apple"]},{emoji:"🍎",aliases:["apple"]},{emoji:"🍐",aliases:["pear"]},{emoji:"🍊",aliases:["tangerine","orange","mandarin"]},{emoji:"🍋",aliases:["lemon"]},{emoji:"🍌",aliases:["banana"]},{emoji:"🍉",aliases:["watermelon"]},{emoji:"🍇",aliases:["grapes"]},{emoji:"🍓",aliases:["strawberry"]},{emoji:"🍈",aliases:["melon"]},{emoji:"🍒",aliases:["cherries"]},{emoji:"🍑",aliases:["peach"]},{emoji:"🍍",aliases:["pineapple"]},{emoji:"🥝",aliases:["kiwi fruit"]},{emoji:"🥑",aliases:["avocado"]},{emoji:"🍅",aliases:["tomato"]},{emoji:"🍆",aliases:["eggplant"]},{emoji:"🥒",aliases:["cucumber"]},{emoji:"🥕",aliases:["carrot"]},{emoji:"🌽",aliases:["corn"]},{emoji:"🌶",aliases:["hot pepper"]},{emoji:"🥔",aliases:["potato"]},{emoji:"🍠",aliases:["sweet potato"]},{emoji:"🌰",aliases:["chestnut"]},{emoji:"🥜",aliases:["peanuts"]},{emoji:"🍯",aliases:["honey pot"]},{emoji:"🥐",aliases:["croissant"]},{emoji:"🍞",aliases:["bread"]},{emoji:"🥖",aliases:["baguette bread"]},{emoji:"🧀",aliases:["cheese"]},{emoji:"🥚",aliases:["egg"]},{emoji:"🍳",aliases:["fried egg"]},{emoji:"🥓",aliases:["bacon"]},{emoji:"🥞",aliases:["pancakes"]},{emoji:"🍤",aliases:["fried shrimp"]},{emoji:"🍗",aliases:["poultry leg"]},{emoji:"🍖",aliases:["meat on bone"]},{emoji:"🍕",aliases:["pizza"]},{emoji:"🌭",aliases:["hotdog"]},{emoji:"🍔",aliases:["hamburger"]},{emoji:"🍟",aliases:["fries"]},{emoji:"🥙",aliases:["stuffed flatbread"]},{emoji:"🌮",aliases:["taco"]},{emoji:"🌯",aliases:["burrito"]},{emoji:"🥗",aliases:["green salad"]},{emoji:"🥘",aliases:["shallow pan of food"]},{emoji:"🍝",aliases:["spaghetti"]},{emoji:"🍜",aliases:["ramen"]},{emoji:"🍲",aliases:["stew"]},{emoji:"🍥",aliases:["fish cake"]},{emoji:"🍣",aliases:["sushi"]},{emoji:"🍱",aliases:["bento"]},{emoji:"🍛",aliases:["curry"]},{emoji:"🍚",aliases:["rice"]},{emoji:"🍙",aliases:["rice ball"]},{emoji:"🍘",aliases:["rice cracker"]},{emoji:"🍢",aliases:["oden"]},{emoji:"🍡",aliases:["dango"]},{emoji:"🍧",aliases:["shaved ice"]},{emoji:"🍨",aliases:["ice cream"]},{emoji:"🍦",aliases:["icecream"]},{emoji:"🍰",aliases:["cake"]},{emoji:"🎂",aliases:["birthday"]},{emoji:"🍮",aliases:["custard"]},{emoji:"🍭",aliases:["lollipop"]},{emoji:"🍬",aliases:["candy"]},{emoji:"🍫",aliases:["chocolate bar"]},{emoji:"🍿",aliases:["popcorn"]},{emoji:"🍩",aliases:["doughnut"]},{emoji:"🍪",aliases:["cookie"]},{emoji:"🥛",aliases:["milk glass"]},{emoji:"🍼",aliases:["baby bottle"]},{emoji:"☕️",aliases:["coffee"]},{emoji:"🍵",aliases:["tea"]},{emoji:"🍶",aliases:["sake"]},{emoji:"🍺",aliases:["beer"]},{emoji:"🍻",aliases:["beers"]},{emoji:"🥂",aliases:["clinking glasses"]},{emoji:"🍷",aliases:["wine glass"]},{emoji:"🥃",aliases:["tumbler glass"]},{emoji:"🍸",aliases:["cocktail"]},{emoji:"🍹",aliases:["tropical drink"]},{emoji:"🍾",aliases:["champagne"]},{emoji:"🥄",aliases:["spoon"]},{emoji:"🍴",aliases:["fork and knife"]},{emoji:"🍽",aliases:["plate with cutlery"]},{emoji:"⚽️",aliases:["soccer"]},{emoji:"🏀",aliases:["basketball"]},{emoji:"🏈",aliases:["football"]},{emoji:"⚾️",aliases:["baseball"]},{emoji:"🎾",aliases:["tennis"]},{emoji:"🏐",aliases:["volleyball"]},{emoji:"🏉",aliases:["rugby football"]},{emoji:"🎱",aliases:["8ball"]},{emoji:"🏓",aliases:["ping pong"]},{emoji:"🏸",aliases:["badminton"]},{emoji:"🥅",aliases:["goal net"]},{emoji:"🏒",aliases:["ice hockey"]},{emoji:"🏑",aliases:["field hockey"]},{emoji:"🏏",aliases:["cricket"]},{emoji:"⛳️",aliases:["golf"]},{emoji:"🏹",aliases:["bow and arrow"]},{emoji:"🎣",aliases:["fishing pole and fish"]},{emoji:"🥊",aliases:["boxing glove"]},{emoji:"🥋",aliases:["martial arts uniform"]},{emoji:"⛸",aliases:["ice skate"]},{emoji:"🎿",aliases:["ski"]},{emoji:"⛷",aliases:["skier"]},{emoji:"🏂",aliases:["snowboarder"]},{emoji:"🏋️‍♀️",aliases:["weight lifting woman"]},{emoji:"🏋",aliases:["weight lifting man"]},{emoji:"🤺",aliases:["person fencing"]},{emoji:"🤼‍♀",aliases:["women wrestling"]},{emoji:"🤼‍♂",aliases:["men wrestling"]},{emoji:"🤸‍♀",aliases:["woman cartwheeling"]},{emoji:"🤸‍♂",aliases:["man cartwheeling"]},{emoji:"⛹️‍♀️",aliases:["basketball woman"]},{emoji:"⛹",aliases:["basketball man"]},{emoji:"🤾‍♀",aliases:["woman playing handball"]},{emoji:"🤾‍♂",aliases:["man playing handball"]},{emoji:"🏌️‍♀️",aliases:["golfing woman"]},{emoji:"🏌",aliases:["golfing man"]},{emoji:"🏄‍♀",aliases:["surfing woman"]},{emoji:"🏄",aliases:["surfing man","surfer"]},{emoji:"🏊‍♀",aliases:["swimming woman"]},{emoji:"🏊",aliases:["swimming man","swimmer"]},{emoji:"🤽‍♀",aliases:["woman playing water polo"]},{emoji:"🤽‍♂",aliases:["man playing water polo"]},{emoji:"🚣‍♀",aliases:["rowing woman"]},{emoji:"🚣",aliases:["rowing man","rowboat"]},{emoji:"🏇",aliases:["horse racing"]},{emoji:"🚴‍♀",aliases:["biking woman"]},{emoji:"🚴",aliases:["biking man","bicyclist"]},{emoji:"🚵‍♀",aliases:["mountain biking woman"]},{emoji:"🚵",aliases:["mountain biking man","mountain bicyclist"]},{emoji:"🎽",aliases:["running shirt with sash"]},{emoji:"🏅",aliases:["medal sports"]},{emoji:"🎖",aliases:["medal military"]},{emoji:"🥇",aliases:["1st place medal"]},{emoji:"🥈",aliases:["2nd place medal"]},{emoji:"🥉",aliases:["3rd place medal"]},{emoji:"🏆",aliases:["trophy"]},{emoji:"🏵",aliases:["rosette"]},{emoji:"🎗",aliases:["reminder ribbon"]},{emoji:"🎫",aliases:["ticket"]},{emoji:"🎟",aliases:["tickets"]},{emoji:"🎪",aliases:["circus tent"]},{emoji:"🤹‍♀",aliases:["woman juggling"]},{emoji:"🤹‍♂",aliases:["man juggling"]},{emoji:"🎭",aliases:["performing arts"]},{emoji:"🎨",aliases:["art"]},{emoji:"🎬",aliases:["clapper"]},{emoji:"🎤",aliases:["microphone"]},{emoji:"🎧",aliases:["headphones"]},{emoji:"🎼",aliases:["musical score"]},{emoji:"🎹",aliases:["musical keyboard"]},{emoji:"🥁",aliases:["drum"]},{emoji:"🎷",aliases:["saxophone"]},{emoji:"🎺",aliases:["trumpet"]},{emoji:"🎸",aliases:["guitar"]},{emoji:"🎻",aliases:["violin"]},{emoji:"🎲",aliases:["game die"]},{emoji:"🎯",aliases:["dart"]},{emoji:"🎳",aliases:["bowling"]},{emoji:"🎮",aliases:["video game"]},{emoji:"🎰",aliases:["slot machine"]},{emoji:"🚗",aliases:["car","red car"]},{emoji:"🚕",aliases:["taxi"]},{emoji:"🚙",aliases:["blue car"]},{emoji:"🚌",aliases:["bus"]},{emoji:"🚎",aliases:["trolleybus"]},{emoji:"🏎",aliases:["racing car"]},{emoji:"🚓",aliases:["police car"]},{emoji:"🚑",aliases:["ambulance"]},{emoji:"🚒",aliases:["fire engine"]},{emoji:"🚐",aliases:["minibus"]},{emoji:"🚚",aliases:["truck"]},{emoji:"🚛",aliases:["articulated lorry"]},{emoji:"🚜",aliases:["tractor"]},{emoji:"🛴",aliases:["kick scooter"]},{emoji:"🚲",aliases:["bike"]},{emoji:"🛵",aliases:["motor scooter"]},{emoji:"🏍",aliases:["motorcycle"]},{emoji:"🚨",aliases:["rotating light"]},{emoji:"🚔",aliases:["oncoming police car"]},{emoji:"🚍",aliases:["oncoming bus"]},{emoji:"🚘",aliases:["oncoming automobile"]},{emoji:"🚖",aliases:["oncoming taxi"]},{emoji:"🚡",aliases:["aerial tramway"]},{emoji:"🚠",aliases:["mountain cableway"]},{emoji:"🚟",aliases:["suspension railway"]},{emoji:"🚃",aliases:["railway car"]},{emoji:"🚋",aliases:["train"]},{emoji:"🚞",aliases:["mountain railway"]},{emoji:"🚝",aliases:["monorail"]},{emoji:"🚄",aliases:["bullettrain side"]},{emoji:"🚅",aliases:["bullettrain front"]},{emoji:"🚈",aliases:["light rail"]},{emoji:"🚂",aliases:["steam locomotive"]},{emoji:"🚆",aliases:["train2"]},{emoji:"🚇",aliases:["metro"]},{emoji:"🚊",aliases:["tram"]},{emoji:"🚉",aliases:["station"]},{emoji:"🚁",aliases:["helicopter"]},{emoji:"🛩",aliases:["small airplane"]},{emoji:"✈️",aliases:["airplane"]},{emoji:"🛫",aliases:["flight departure"]},{emoji:"🛬",aliases:["flight arrival"]},{emoji:"🚀",aliases:["rocket"]},{emoji:"🛰",aliases:["artificial satellite"]},{emoji:"💺",aliases:["seat"]},{emoji:"🛶",aliases:["canoe"]},{emoji:"⛵️",aliases:["boat","sailboat"]},{emoji:"🛥",aliases:["motor boat"]},{emoji:"🚤",aliases:["speedboat"]},{emoji:"🛳",aliases:["passenger ship"]},{emoji:"⛴",aliases:["ferry"]},{emoji:"🚢",aliases:["ship"]},{emoji:"⚓️",aliases:["anchor"]},{emoji:"🚧",aliases:["construction"]},{emoji:"⛽️",aliases:["fuelpump"]},{emoji:"🚏",aliases:["busstop"]},{emoji:"🚦",aliases:["vertical traffic light"]},{emoji:"🚥",aliases:["traffic light"]},{emoji:"🗺",aliases:["world map"]},{emoji:"🗿",aliases:["moyai"]},{emoji:"🗽",aliases:["statue of liberty"]},{emoji:"⛲️",aliases:["fountain"]},{emoji:"🗼",aliases:["tokyo tower"]},{emoji:"🏰",aliases:["european castle"]},{emoji:"🏯",aliases:["japanese castle"]},{emoji:"🏟",aliases:["stadium"]},{emoji:"🎡",aliases:["ferris wheel"]},{emoji:"🎢",aliases:["roller coaster"]},{emoji:"🎠",aliases:["carousel horse"]},{emoji:"⛱",aliases:["parasol on ground"]},{emoji:"🏖",aliases:["beach umbrella"]},{emoji:"🏝",aliases:["desert island"]},{emoji:"⛰",aliases:["mountain"]},{emoji:"🏔",aliases:["mountain snow"]},{emoji:"🗻",aliases:["mount fuji"]},{emoji:"🌋",aliases:["volcano"]},{emoji:"🏜",aliases:["desert"]},{emoji:"🏕",aliases:["camping"]},{emoji:"⛺️",aliases:["tent"]},{emoji:"🛤",aliases:["railway track"]},{emoji:"🛣",aliases:["motorway"]},{emoji:"🏗",aliases:["building construction"]},{emoji:"🏭",aliases:["factory"]},{emoji:"🏠",aliases:["house"]},{emoji:"🏡",aliases:["house with garden"]},{emoji:"🏘",aliases:["houses"]},{emoji:"🏚",aliases:["derelict house"]},{emoji:"🏢",aliases:["office"]},{emoji:"🏬",aliases:["department store"]},{emoji:"🏣",aliases:["post office"]},{emoji:"🏤",aliases:["european post office"]},{emoji:"🏥",aliases:["hospital"]},{emoji:"🏦",aliases:["bank"]},{emoji:"🏨",aliases:["hotel"]},{emoji:"🏪",aliases:["convenience store"]},{emoji:"🏫",aliases:["school"]},{emoji:"🏩",aliases:["love hotel"]},{emoji:"💒",aliases:["wedding"]},{emoji:"🏛",aliases:["classical building"]},{emoji:"⛪️",aliases:["church"]},{emoji:"🕌",aliases:["mosque"]},{emoji:"🕍",aliases:["synagogue"]},{emoji:"🕋",aliases:["kaaba"]},{emoji:"⛩",aliases:["shinto shrine"]},{emoji:"🗾",aliases:["japan"]},{emoji:"🎑",aliases:["rice scene"]},{emoji:"🏞",aliases:["national park"]},{emoji:"🌅",aliases:["sunrise"]},{emoji:"🌄",aliases:["sunrise over mountains"]},{emoji:"🌠",aliases:["stars"]},{emoji:"🎇",aliases:["sparkler"]},{emoji:"🎆",aliases:["fireworks"]},{emoji:"🌇",aliases:["city sunrise"]},{emoji:"🌆",aliases:["city sunset"]},{emoji:"🏙",aliases:["cityscape"]},{emoji:"🌃",aliases:["night with stars"]},{emoji:"🌌",aliases:["milky way"]},{emoji:"🌉",aliases:["bridge at night"]},{emoji:"🌁",aliases:["foggy"]},{emoji:"⌚️",aliases:["watch"]},{emoji:"📱",aliases:["iphone"]},{emoji:"📲",aliases:["calling"]},{emoji:"💻",aliases:["computer"]},{emoji:"⌨️",aliases:["keyboard"]},{emoji:"🖥",aliases:["desktop computer"]},{emoji:"🖨",aliases:["printer"]},{emoji:"🖱",aliases:["computer mouse"]},{emoji:"🖲",aliases:["trackball"]},{emoji:"🕹",aliases:["joystick"]},{emoji:"🗜",aliases:["clamp"]},{emoji:"💽",aliases:["minidisc"]},{emoji:"💾",aliases:["floppy disk"]},{emoji:"💿",aliases:["cd"]},{emoji:"📀",aliases:["dvd"]},{emoji:"📼",aliases:["vhs"]},{emoji:"📷",aliases:["camera"]},{emoji:"📸",aliases:["camera flash"]},{emoji:"📹",aliases:["video camera"]},{emoji:"🎥",aliases:["movie camera"]},{emoji:"📽",aliases:["film projector"]},{emoji:"🎞",aliases:["film strip"]},{emoji:"📞",aliases:["telephone receiver"]},{emoji:"☎️",aliases:["phone","telephone"]},{emoji:"📟",aliases:["pager"]},{emoji:"📠",aliases:["fax"]},{emoji:"📺",aliases:["tv"]},{emoji:"📻",aliases:["radio"]},{emoji:"🎙",aliases:["studio microphone"]},{emoji:"🎚",aliases:["level slider"]},{emoji:"🎛",aliases:["control knobs"]},{emoji:"⏱",aliases:["stopwatch"]},{emoji:"⏲",aliases:["timer clock"]},{emoji:"⏰",aliases:["alarm clock"]},{emoji:"🕰",aliases:["mantelpiece clock"]},{emoji:"⌛️",aliases:["hourglass"]},{emoji:"⏳",aliases:["hourglass flowing sand"]},{emoji:"📡",aliases:["satellite"]},{emoji:"🔋",aliases:["battery"]},{emoji:"🔌",aliases:["electric plug"]},{emoji:"💡",aliases:["bulb"]},{emoji:"🔦",aliases:["flashlight"]},{emoji:"🕯",aliases:["candle"]},{emoji:"🗑",aliases:["wastebasket"]},{emoji:"🛢",aliases:["oil drum"]},{emoji:"💸",aliases:["money with wings"]},{emoji:"💵",aliases:["dollar"]},{emoji:"💴",aliases:["yen"]},{emoji:"💶",aliases:["euro"]},{emoji:"💷",aliases:["pound"]},{emoji:"💰",aliases:["moneybag"]},{emoji:"💳",aliases:["credit card"]},{emoji:"💎",aliases:["gem"]},{emoji:"⚖️",aliases:["balance scale"]},{emoji:"🔧",aliases:["wrench"]},{emoji:"🔨",aliases:["hammer"]},{emoji:"⚒",aliases:["hammer and pick"]},{emoji:"🛠",aliases:["hammer and wrench"]},{emoji:"⛏",aliases:["pick"]},{emoji:"🔩",aliases:["nut and bolt"]},{emoji:"⚙️",aliases:["gear"]},{emoji:"⛓",aliases:["chains"]},{emoji:"🔫",aliases:["gun"]},{emoji:"💣",aliases:["bomb"]},{emoji:"🔪",aliases:["hocho","knife"]},{emoji:"🗡",aliases:["dagger"]},{emoji:"⚔️",aliases:["crossed swords"]},{emoji:"🛡",aliases:["shield"]},{emoji:"🚬",aliases:["smoking"]},{emoji:"⚰️",aliases:["coffin"]},{emoji:"⚱️",aliases:["funeral urn"]},{emoji:"🏺",aliases:["amphora"]},{emoji:"🔮",aliases:["crystal ball"]},{emoji:"📿",aliases:["prayer beads"]},{emoji:"💈",aliases:["barber"]},{emoji:"⚗️",aliases:["alembic"]},{emoji:"🔭",aliases:["telescope"]},{emoji:"🔬",aliases:["microscope"]},{emoji:"🕳",aliases:["hole"]},{emoji:"💊",aliases:["pill"]},{emoji:"💉",aliases:["syringe"]},{emoji:"🌡",aliases:["thermometer"]},{emoji:"🚽",aliases:["toilet"]},{emoji:"🚰",aliases:["potable water"]},{emoji:"🚿",aliases:["shower"]},{emoji:"🛁",aliases:["bathtub"]},{emoji:"🛀",aliases:["bath"]},{emoji:"🛎",aliases:["bellhop bell"]},{emoji:"🔑",aliases:["key"]},{emoji:"🗝",aliases:["old key"]},{emoji:"🚪",aliases:["door"]},{emoji:"🛋",aliases:["couch and lamp"]},{emoji:"🛏",aliases:["bed"]},{emoji:"🛌",aliases:["sleeping bed"]},{emoji:"🖼",aliases:["framed picture"]},{emoji:"🛍",aliases:["shopping"]},{emoji:"🛒",aliases:["shopping cart"]},{emoji:"🎁",aliases:["gift"]},{emoji:"🎈",aliases:["balloon"]},{emoji:"🎏",aliases:["flags"]},{emoji:"🎀",aliases:["ribbon"]},{emoji:"🎊",aliases:["confetti ball"]},{emoji:"🎉",aliases:["tada"]},{emoji:"🎎",aliases:["dolls"]},{emoji:"🏮",aliases:["izakaya lantern","lantern"]},{emoji:"🎐",aliases:["wind chime"]},{emoji:"✉️",aliases:["email","envelope"]},{emoji:"📩",aliases:["envelope with arrow"]},{emoji:"📨",aliases:["incoming envelope"]},{emoji:"📧",aliases:["e-mail"]},{emoji:"💌",aliases:["love letter"]},{emoji:"📥",aliases:["inbox tray"]},{emoji:"📤",aliases:["outbox tray"]},{emoji:"📦",aliases:["package"]},{emoji:"🏷",aliases:["label"]},{emoji:"📪",aliases:["mailbox closed"]},{emoji:"📫",aliases:["mailbox"]},{emoji:"📬",aliases:["mailbox with mail"]},{emoji:"📭",aliases:["mailbox with no mail"]},{emoji:"📮",aliases:["postbox"]},{emoji:"📯",aliases:["postal horn"]},{emoji:"📜",aliases:["scroll"]},{emoji:"📃",aliases:["page with curl"]},{emoji:"📄",aliases:["page facing up"]},{emoji:"📑",aliases:["bookmark tabs"]},{emoji:"📊",aliases:["bar chart"]},{emoji:"📈",aliases:["chart with upwards trend"]},{emoji:"📉",aliases:["chart with downwards trend"]},{emoji:"🗒",aliases:["spiral notepad"]},{emoji:"🗓",aliases:["spiral calendar"]},{emoji:"📆",aliases:["calendar"]},{emoji:"📅",aliases:["date"]},{emoji:"📇",aliases:["card index"]},{emoji:"🗃",aliases:["card file box"]},{emoji:"🗳",aliases:["ballot box"]},{emoji:"🗄",aliases:["file cabinet"]},{emoji:"📋",aliases:["clipboard"]},{emoji:"📁",aliases:["file folder"]},{emoji:"📂",aliases:["open file folder"]},{emoji:"🗂",aliases:["card index dividers"]},{emoji:"🗞",aliases:["newspaper roll"]},{emoji:"📰",aliases:["newspaper"]},{emoji:"📓",aliases:["notebook"]},{emoji:"📔",aliases:["notebook with decorative cover"]},{emoji:"📒",aliases:["ledger"]},{emoji:"📕",aliases:["closed book"]},{emoji:"📗",aliases:["green book"]},{emoji:"📘",aliases:["blue book"]},{emoji:"📙",aliases:["orange book"]},{emoji:"📚",aliases:["books"]},{emoji:"📖",aliases:["book","open book"]},{emoji:"🔖",aliases:["bookmark"]},{emoji:"🔗",aliases:["link"]},{emoji:"📎",aliases:["paperclip"]},{emoji:"🖇",aliases:["paperclips"]},{emoji:"📐",aliases:["triangular ruler"]},{emoji:"📏",aliases:["straight ruler"]},{emoji:"📌",aliases:["pushpin"]},{emoji:"📍",aliases:["round pushpin"]},{emoji:"✂️",aliases:["scissors"]},{emoji:"🖊",aliases:["pen"]},{emoji:"🖋",aliases:["fountain pen"]},{emoji:"✒️",aliases:["black nib"]},{emoji:"🖌",aliases:["paintbrush"]},{emoji:"🖍",aliases:["crayon"]},{emoji:"📝",aliases:["memo","pencil"]},{emoji:"✏️",aliases:["pencil2"]},{emoji:"🔍",aliases:["mag"]},{emoji:"🔎",aliases:["mag right"]},{emoji:"🔏",aliases:["lock with ink pen"]},{emoji:"🔐",aliases:["closed lock with key"]},{emoji:"🔒",aliases:["lock"]},{emoji:"🔓",aliases:["unlock"]},{emoji:"❤️",aliases:["heart"]},{emoji:"💛",aliases:["yellow heart"]},{emoji:"💚",aliases:["green heart"]},{emoji:"💙",aliases:["blue heart"]},{emoji:"💜",aliases:["purple heart"]},{emoji:"🖤",aliases:["black heart"]},{emoji:"💔",aliases:["broken heart"]},{emoji:"❣️",aliases:["heavy heart exclamation"]},{emoji:"💕",aliases:["two hearts"]},{emoji:"💞",aliases:["revolving hearts"]},{emoji:"💓",aliases:["heartbeat"]},{emoji:"💗",aliases:["heartpulse"]},{emoji:"💖",aliases:["sparkling heart"]},{emoji:"💘",aliases:["cupid"]},{emoji:"💝",aliases:["gift heart"]},{emoji:"💟",aliases:["heart decoration"]},{emoji:"☮️",aliases:["peace symbol"]},{emoji:"✝️",aliases:["latin cross"]},{emoji:"☪️",aliases:["star and crescent"]},{emoji:"🕉",aliases:["om"]},{emoji:"☸️",aliases:["wheel of dharma"]},{emoji:"✡️",aliases:["star of david"]},{emoji:"🔯",aliases:["six pointed star"]},{emoji:"🕎",aliases:["menorah"]},{emoji:"☯️",aliases:["yin yang"]},{emoji:"☦️",aliases:["orthodox cross"]},{emoji:"🛐",aliases:["place of worship"]},{emoji:"⛎",aliases:["ophiuchus"]},{emoji:"♈️",aliases:["aries"]},{emoji:"♉️",aliases:["taurus"]},{emoji:"♊️",aliases:["gemini"]},{emoji:"♋️",aliases:["cancer"]},{emoji:"♌️",aliases:["leo"]},{emoji:"♍️",aliases:["virgo"]},{emoji:"♎️",aliases:["libra"]},{emoji:"♏️",aliases:["scorpius"]},{emoji:"♐️",aliases:["sagittarius"]},{emoji:"♑️",aliases:["capricorn"]},{emoji:"♒️",aliases:["aquarius"]},{emoji:"♓️",aliases:["pisces"]},{emoji:"🆔",aliases:["id"]},{emoji:"⚛️",aliases:["atom symbol"]},{emoji:"🉑",aliases:["accept"]},{emoji:"☢️",aliases:["radioactive"]},{emoji:"☣️",aliases:["biohazard"]},{emoji:"📴",aliases:["mobile phone off"]},{emoji:"📳",aliases:["vibration mode"]},{emoji:"🈶",aliases:["u6709"]},{emoji:"🈚️",aliases:["u7121"]},{emoji:"🈸",aliases:["u7533"]},{emoji:"🈺",aliases:["u55b6"]},{emoji:"🈷️",aliases:["u6708"]},{emoji:"✴️",aliases:["eight pointed black star"]},{emoji:"🆚",aliases:["vs"]},{emoji:"💮",aliases:["white flower"]},{emoji:"🉐",aliases:["ideograph advantage"]},{emoji:"㊙️",aliases:["secret"]},{emoji:"㊗️",aliases:["congratulations"]},{emoji:"🈴",aliases:["u5408"]},{emoji:"🈵",aliases:["u6e80"]},{emoji:"🈹",aliases:["u5272"]},{emoji:"🈲",aliases:["u7981"]},{emoji:"🅰️",aliases:["a"]},{emoji:"🅱️",aliases:["b"]},{emoji:"🆎",aliases:["ab"]},{emoji:"🆑",aliases:["cl"]},{emoji:"🅾️",aliases:["o2"]},{emoji:"🆘",aliases:["sos"]},{emoji:"❌",aliases:["x"]},{emoji:"⭕️",aliases:["o"]},{emoji:"🛑",aliases:["stop sign"]},{emoji:"⛔️",aliases:["no entry"]},{emoji:"📛",aliases:["name badge"]},{emoji:"🚫",aliases:["no entry sign"]},{emoji:"💯",aliases:["100"]},{emoji:"💢",aliases:["anger"]},{emoji:"♨️",aliases:["hotsprings"]},{emoji:"🚷",aliases:["no pedestrians"]},{emoji:"🚯",aliases:["do not litter"]},{emoji:"🚳",aliases:["no bicycles"]},{emoji:"🚱",aliases:["non-potable water"]},{emoji:"🔞",aliases:["underage"]},{emoji:"📵",aliases:["no mobile phones"]},{emoji:"🚭",aliases:["no smoking"]},{emoji:"❗️",aliases:["exclamation","heavy exclamation mark"]},{emoji:"❕",aliases:["grey exclamation"]},{emoji:"❓",aliases:["question"]},{emoji:"❔",aliases:["grey question"]},{emoji:"‼️",aliases:["bangbang"]},{emoji:"⁉️",aliases:["interrobang"]},{emoji:"🔅",aliases:["low brightness"]},{emoji:"🔆",aliases:["high brightness"]},{emoji:"〽️",aliases:["part alternation mark"]},{emoji:"⚠️",aliases:["warning"]},{emoji:"🚸",aliases:["children crossing"]},{emoji:"🔱",aliases:["trident"]},{emoji:"⚜️",aliases:["fleur de lis"]},{emoji:"🔰",aliases:["beginner"]},{emoji:"♻️",aliases:["recycle"]},{emoji:"✅",aliases:["white check mark"]},{emoji:"🈯️",aliases:["u6307"]},{emoji:"💹",aliases:["chart"]},{emoji:"❇️",aliases:["sparkle"]},{emoji:"✳️",aliases:["eight spoked asterisk"]},{emoji:"❎",aliases:["negative squared cross mark"]},{emoji:"🌐",aliases:["globe with meridians"]},{emoji:"💠",aliases:["diamond shape with a dot inside"]},{emoji:"Ⓜ️",aliases:["m"]},{emoji:"🌀",aliases:["cyclone"]},{emoji:"💤",aliases:["zzz"]},{emoji:"🏧",aliases:["atm"]},{emoji:"🚾",aliases:["wc"]},{emoji:"♿️",aliases:["wheelchair"]},{emoji:"🅿️",aliases:["parking"]},{emoji:"🈳",aliases:["u7a7a"]},{emoji:"🈂️",aliases:["sa"]},{emoji:"🛂",aliases:["passport control"]},{emoji:"🛃",aliases:["customs"]},{emoji:"🛄",aliases:["baggage claim"]},{emoji:"🛅",aliases:["left luggage"]},{emoji:"🚹",aliases:["mens"]},{emoji:"🚺",aliases:["womens"]},{emoji:"🚼",aliases:["baby symbol"]},{emoji:"🚻",aliases:["restroom"]},{emoji:"🚮",aliases:["put litter in its place"]},{emoji:"🎦",aliases:["cinema"]},{emoji:"📶",aliases:["signal strength"]},{emoji:"🈁",aliases:["koko"]},{emoji:"🔣",aliases:["symbols"]},{emoji:"ℹ️",aliases:["information source"]},{emoji:"🔤",aliases:["abc"]},{emoji:"🔡",aliases:["abcd"]},{emoji:"🔠",aliases:["capital abcd"]},{emoji:"🆖",aliases:["ng"]},{emoji:"🆗",aliases:["ok"]},{emoji:"🆙",aliases:["up"]},{emoji:"🆒",aliases:["cool"]},{emoji:"🆕",aliases:["new"]},{emoji:"🆓",aliases:["free"]},{emoji:"0️⃣",aliases:["zero"]},{emoji:"1️⃣",aliases:["one"]},{emoji:"2️⃣",aliases:["two"]},{emoji:"3️⃣",aliases:["three"]},{emoji:"4️⃣",aliases:["four"]},{emoji:"5️⃣",aliases:["five"]},{emoji:"6️⃣",aliases:["six"]},{emoji:"7️⃣",aliases:["seven"]},{emoji:"8️⃣",aliases:["eight"]},{emoji:"9️⃣",aliases:["nine"]},{emoji:"🔟",aliases:["keycap ten"]},{emoji:"🔢",aliases:["1234"]},{emoji:"#️⃣",aliases:["hash"]},{emoji:"*️⃣",aliases:["asterisk"]},{emoji:"▶️",aliases:["arrow forward"]},{emoji:"⏸",aliases:["pause button"]},{emoji:"⏯",aliases:["play or pause button"]},{emoji:"⏹",aliases:["stop button"]},{emoji:"⏺",aliases:["record button"]},{emoji:"⏭",aliases:["next track button"]},{emoji:"⏮",aliases:["previous track button"]},{emoji:"⏩",aliases:["fast forward"]},{emoji:"⏪",aliases:["rewind"]},{emoji:"⏫",aliases:["arrow double up"]},{emoji:"⏬",aliases:["arrow double down"]},{emoji:"◀️",aliases:["arrow backward"]},{emoji:"🔼",aliases:["arrow up small"]},{emoji:"🔽",aliases:["arrow down small"]},{emoji:"➡️",aliases:["arrow right"]},{emoji:"⬅️",aliases:["arrow left"]},{emoji:"⬆️",aliases:["arrow up"]},{emoji:"⬇️",aliases:["arrow down"]},{emoji:"↗️",aliases:["arrow upper right"]},{emoji:"↘️",aliases:["arrow lower right"]},{emoji:"↙️",aliases:["arrow lower left"]},{emoji:"↖️",aliases:["arrow upper left"]},{emoji:"↕️",aliases:["arrow up down"]},{emoji:"↔️",aliases:["left right arrow"]},{emoji:"↪️",aliases:["arrow right hook"]},{emoji:"↩️",aliases:["leftwards arrow with hook"]},{emoji:"⤴️",aliases:["arrow heading up"]},{emoji:"⤵️",aliases:["arrow heading down"]},{emoji:"🔀",aliases:["twisted rightwards arrows"]},{emoji:"🔁",aliases:["repeat"]},{emoji:"🔂",aliases:["repeat one"]},{emoji:"🔄",aliases:["arrows counterclockwise"]},{emoji:"🔃",aliases:["arrows clockwise"]},{emoji:"🎵",aliases:["musical note"]},{emoji:"🎶",aliases:["notes"]},{emoji:"➕",aliases:["heavy plus sign"]},{emoji:"➖",aliases:["heavy minus sign"]},{emoji:"➗",aliases:["heavy division sign"]},{emoji:"✖️",aliases:["heavy multiplication x"]},{emoji:"💲",aliases:["heavy dollar sign"]},{emoji:"💱",aliases:["currency exchange"]},{emoji:"™️",aliases:["tm"]},{emoji:"©️",aliases:["copyright"]},{emoji:"®️",aliases:["registered"]},{emoji:"〰️",aliases:["wavy dash"]},{emoji:"➰",aliases:["curly loop"]},{emoji:"➿",aliases:["loop"]},{emoji:"🔚",aliases:["end"]},{emoji:"🔙",aliases:["back"]},{emoji:"🔛",aliases:["on"]},{emoji:"🔝",aliases:["top"]},{emoji:"🔜",aliases:["soon"]},{emoji:"✔️",aliases:["heavy check mark"]},{emoji:"☑️",aliases:["ballot box with check"]},{emoji:"🔘",aliases:["radio button"]},{emoji:"⚪️",aliases:["white circle"]},{emoji:"⚫️",aliases:["black circle"]},{emoji:"🔴",aliases:["red circle"]},{emoji:"🔵",aliases:["large blue circle"]},{emoji:"🔺",aliases:["small red triangle"]},{emoji:"🔻",aliases:["small red triangle down"]},{emoji:"🔸",aliases:["small orange diamond"]},{emoji:"🔹",aliases:["small blue diamond"]},{emoji:"🔶",aliases:["large orange diamond"]},{emoji:"🔷",aliases:["large blue diamond"]},{emoji:"🔳",aliases:["white square button"]},{emoji:"🔲",aliases:["black square button"]},{emoji:"▪️",aliases:["black small square"]},{emoji:"▫️",aliases:["white small square"]},{emoji:"◾️",aliases:["black medium small square"]},{emoji:"◽️",aliases:["white medium small square"]},{emoji:"◼️",aliases:["black medium square"]},{emoji:"◻️",aliases:["white medium square"]},{emoji:"⬛️",aliases:["black large square"]},{emoji:"⬜️",aliases:["white large square"]},{emoji:"🔈",aliases:["speaker"]},{emoji:"🔇",aliases:["mute"]},{emoji:"🔉",aliases:["sound"]},{emoji:"🔊",aliases:["loud sound"]},{emoji:"🔔",aliases:["bell"]},{emoji:"🔕",aliases:["no bell"]},{emoji:"📣",aliases:["mega"]},{emoji:"📢",aliases:["loudspeaker"]},{emoji:"👁‍🗨",aliases:["eye speech bubble"]},{emoji:"💬",aliases:["speech balloon"]},{emoji:"💭",aliases:["thought balloon"]},{emoji:"🗯",aliases:["right anger bubble"]},{emoji:"♠️",aliases:["spades"]},{emoji:"♣️",aliases:["clubs"]},{emoji:"♥️",aliases:["hearts"]},{emoji:"♦️",aliases:["diamonds"]},{emoji:"🃏",aliases:["black joker"]},{emoji:"🎴",aliases:["flower playing cards"]},{emoji:"🀄️",aliases:["mahjong"]},{emoji:"🕐",aliases:["clock1"]},{emoji:"🕑",aliases:["clock2"]},{emoji:"🕒",aliases:["clock3"]},{emoji:"🕓",aliases:["clock4"]},{emoji:"🕔",aliases:["clock5"]},{emoji:"🕕",aliases:["clock6"]},{emoji:"🕖",aliases:["clock7"]},{emoji:"🕗",aliases:["clock8"]},{emoji:"🕘",aliases:["clock9"]},{emoji:"🕙",aliases:["clock10"]},{emoji:"🕚",aliases:["clock11"]},{emoji:"🕛",aliases:["clock12"]},{emoji:"🕜",aliases:["clock130"]},{emoji:"🕝",aliases:["clock230"]},{emoji:"🕞",aliases:["clock330"]},{emoji:"🕟",aliases:["clock430"]},{emoji:"🕠",aliases:["clock530"]},{emoji:"🕡",aliases:["clock630"]},{emoji:"🕢",aliases:["clock730"]},{emoji:"🕣",aliases:["clock830"]},{emoji:"🕤",aliases:["clock930"]},{emoji:"🕥",aliases:["clock1030"]},{emoji:"🕦",aliases:["clock1130"]},{emoji:"🕧",aliases:["clock1230"]},{emoji:"🏳️",aliases:["white flag"]},{emoji:"🏴",aliases:["black flag"]},{emoji:"🏁",aliases:["checkered flag"]},{emoji:"🚩",aliases:["triangular flag on post"]},{emoji:"🏳️‍🌈",aliases:["rainbow flag"]},{emoji:"🇦🇫",aliases:["afghanistan"]},{emoji:"🇦🇽",aliases:["aland islands"]},{emoji:"🇦🇱",aliases:["albania"]},{emoji:"🇩🇿",aliases:["algeria"]},{emoji:"🇦🇸",aliases:["american samoa"]},{emoji:"🇦🇩",aliases:["andorra"]},{emoji:"🇦🇴",aliases:["angola"]},{emoji:"🇦🇮",aliases:["anguilla"]},{emoji:"🇦🇶",aliases:["antarctica"]},{emoji:"🇦🇬",aliases:["antigua barbuda"]},{emoji:"🇦🇷",aliases:["argentina"]},{emoji:"🇦🇲",aliases:["armenia"]},{emoji:"🇦🇼",aliases:["aruba"]},{emoji:"🇦🇺",aliases:["australia"]},{emoji:"🇦🇹",aliases:["austria"]},{emoji:"🇦🇿",aliases:["azerbaijan"]},{emoji:"🇧🇸",aliases:["bahamas"]},{emoji:"🇧🇭",aliases:["bahrain"]},{emoji:"🇧🇩",aliases:["bangladesh"]},{emoji:"🇧🇧",aliases:["barbados"]},{emoji:"🇧🇾",aliases:["belarus"]},{emoji:"🇧🇪",aliases:["belgium"]},{emoji:"🇧🇿",aliases:["belize"]},{emoji:"🇧🇯",aliases:["benin"]},{emoji:"🇧🇲",aliases:["bermuda"]},{emoji:"🇧🇹",aliases:["bhutan"]},{emoji:"🇧🇴",aliases:["bolivia"]},{emoji:"🇧🇶",aliases:["caribbean netherlands"]},{emoji:"🇧🇦",aliases:["bosnia herzegovina"]},{emoji:"🇧🇼",aliases:["botswana"]},{emoji:"🇧🇷",aliases:["brazil"]},{emoji:"🇮🇴",aliases:["british indian ocean territory"]},{emoji:"🇻🇬",aliases:["british virgin islands"]},{emoji:"🇧🇳",aliases:["brunei"]},{emoji:"🇧🇬",aliases:["bulgaria"]},{emoji:"🇧🇫",aliases:["burkina faso"]},{emoji:"🇧🇮",aliases:["burundi"]},{emoji:"🇨🇻",aliases:["cape verde"]},{emoji:"🇰🇭",aliases:["cambodia"]},{emoji:"🇨🇲",aliases:["cameroon"]},{emoji:"🇨🇦",aliases:["canada"]},{emoji:"🇮🇨",aliases:["canary islands"]},{emoji:"🇰🇾",aliases:["cayman islands"]},{emoji:"🇨🇫",aliases:["central african republic"]},{emoji:"🇹🇩",aliases:["chad"]},{emoji:"🇨🇱",aliases:["chile"]},{emoji:"🇨🇳",aliases:["cn"]},{emoji:"🇨🇽",aliases:["christmas island"]},{emoji:"🇨🇨",aliases:["cocos islands"]},{emoji:"🇨🇴",aliases:["colombia"]},{emoji:"🇰🇲",aliases:["comoros"]},{emoji:"🇨🇬",aliases:["congo brazzaville"]},{emoji:"🇨🇩",aliases:["congo kinshasa"]},{emoji:"🇨🇰",aliases:["cook islands"]},{emoji:"🇨🇷",aliases:["costa rica"]},{emoji:"🇨🇮",aliases:["cote divoire"]},{emoji:"🇭🇷",aliases:["croatia"]},{emoji:"🇨🇺",aliases:["cuba"]},{emoji:"🇨🇼",aliases:["curacao"]},{emoji:"🇨🇾",aliases:["cyprus"]},{emoji:"🇨🇿",aliases:["czech republic"]},{emoji:"🇩🇰",aliases:["denmark"]},{emoji:"🇩🇯",aliases:["djibouti"]},{emoji:"🇩🇲",aliases:["dominica"]},{emoji:"🇩🇴",aliases:["dominican republic"]},{emoji:"🇪🇨",aliases:["ecuador"]},{emoji:"🇪🇬",aliases:["egypt"]},{emoji:"🇸🇻",aliases:["el salvador"]},{emoji:"🇬🇶",aliases:["equatorial guinea"]},{emoji:"🇪🇷",aliases:["eritrea"]},{emoji:"🇪🇪",aliases:["estonia"]},{emoji:"🇪🇹",aliases:["ethiopia"]},{emoji:"🇪🇺",aliases:["eu","european union"]},{emoji:"🇫🇰",aliases:["falkland islands"]},{emoji:"🇫🇴",aliases:["faroe islands"]},{emoji:"🇫🇯",aliases:["fiji"]},{emoji:"🇫🇮",aliases:["finland"]},{emoji:"🇫🇷",aliases:["fr"]},{emoji:"🇬🇫",aliases:["french guiana"]},{emoji:"🇵🇫",aliases:["french polynesia"]},{emoji:"🇹🇫",aliases:["french southern territories"]},{emoji:"🇬🇦",aliases:["gabon"]},{emoji:"🇬🇲",aliases:["gambia"]},{emoji:"🇬🇪",aliases:["georgia"]},{emoji:"🇩🇪",aliases:["de"]},{emoji:"🇬🇭",aliases:["ghana"]},{emoji:"🇬🇮",aliases:["gibraltar"]},{emoji:"🇬🇷",aliases:["greece"]},{emoji:"🇬🇱",aliases:["greenland"]},{emoji:"🇬🇩",aliases:["grenada"]},{emoji:"🇬🇵",aliases:["guadeloupe"]},{emoji:"🇬🇺",aliases:["guam"]},{emoji:"🇬🇹",aliases:["guatemala"]},{emoji:"🇬🇬",aliases:["guernsey"]},{emoji:"🇬🇳",aliases:["guinea"]},{emoji:"🇬🇼",aliases:["guinea bissau"]},{emoji:"🇬🇾",aliases:["guyana"]},{emoji:"🇭🇹",aliases:["haiti"]},{emoji:"🇭🇳",aliases:["honduras"]},{emoji:"🇭🇰",aliases:["hong kong"]},{emoji:"🇭🇺",aliases:["hungary"]},{emoji:"🇮🇸",aliases:["iceland"]},{emoji:"🇮🇳",aliases:["india"]},{emoji:"🇮🇩",aliases:["indonesia"]},{emoji:"🇮🇷",aliases:["iran"]},{emoji:"🇮🇶",aliases:["iraq"]},{emoji:"🇮🇪",aliases:["ireland"]},{emoji:"🇮🇲",aliases:["isle of man"]},{emoji:"🇮🇱",aliases:["israel"]},{emoji:"🇮🇹",aliases:["it"]},{emoji:"🇯🇲",aliases:["jamaica"]},{emoji:"🇯🇵",aliases:["jp"]},{emoji:"🎌",aliases:["crossed flags"]},{emoji:"🇯🇪",aliases:["jersey"]},{emoji:"🇯🇴",aliases:["jordan"]},{emoji:"🇰🇿",aliases:["kazakhstan"]},{emoji:"🇰🇪",aliases:["kenya"]},{emoji:"🇰🇮",aliases:["kiribati"]},{emoji:"🇽🇰",aliases:["kosovo"]},{emoji:"🇰🇼",aliases:["kuwait"]},{emoji:"🇰🇬",aliases:["kyrgyzstan"]},{emoji:"🇱🇦",aliases:["laos"]},{emoji:"🇱🇻",aliases:["latvia"]},{emoji:"🇱🇧",aliases:["lebanon"]},{emoji:"🇱🇸",aliases:["lesotho"]},{emoji:"🇱🇷",aliases:["liberia"]},{emoji:"🇱🇾",aliases:["libya"]},{emoji:"🇱🇮",aliases:["liechtenstein"]},{emoji:"🇱🇹",aliases:["lithuania"]},{emoji:"🇱🇺",aliases:["luxembourg"]},{emoji:"🇲🇴",aliases:["macau"]},{emoji:"🇲🇰",aliases:["macedonia"]},{emoji:"🇲🇬",aliases:["madagascar"]},{emoji:"🇲🇼",aliases:["malawi"]},{emoji:"🇲🇾",aliases:["malaysia"]},{emoji:"🇲🇻",aliases:["maldives"]},{emoji:"🇲🇱",aliases:["mali"]},{emoji:"🇲🇹",aliases:["malta"]},{emoji:"🇲🇭",aliases:["marshall islands"]},{emoji:"🇲🇶",aliases:["martinique"]},{emoji:"🇲🇷",aliases:["mauritania"]},{emoji:"🇲🇺",aliases:["mauritius"]},{emoji:"🇾🇹",aliases:["mayotte"]},{emoji:"🇲🇽",aliases:["mexico"]},{emoji:"🇫🇲",aliases:["micronesia"]},{emoji:"🇲🇩",aliases:["moldova"]},{emoji:"🇲🇨",aliases:["monaco"]},{emoji:"🇲🇳",aliases:["mongolia"]},{emoji:"🇲🇪",aliases:["montenegro"]},{emoji:"🇲🇸",aliases:["montserrat"]},{emoji:"🇲🇦",aliases:["morocco"]},{emoji:"🇲🇿",aliases:["mozambique"]},{emoji:"🇲🇲",aliases:["myanmar"]},{emoji:"🇳🇦",aliases:["namibia"]},{emoji:"🇳🇷",aliases:["nauru"]},{emoji:"🇳🇵",aliases:["nepal"]},{emoji:"🇳🇱",aliases:["netherlands"]},{emoji:"🇳🇨",aliases:["new caledonia"]},{emoji:"🇳🇿",aliases:["new zealand"]},{emoji:"🇳🇮",aliases:["nicaragua"]},{emoji:"🇳🇪",aliases:["niger"]},{emoji:"🇳🇬",aliases:["nigeria"]},{emoji:"🇳🇺",aliases:["niue"]},{emoji:"🇳🇫",aliases:["norfolk island"]},{emoji:"🇲🇵",aliases:["northern mariana islands"]},{emoji:"🇰🇵",aliases:["north korea"]},{emoji:"🇳🇴",aliases:["norway"]},{emoji:"🇴🇲",aliases:["oman"]},{emoji:"🇵🇰",aliases:["pakistan"]},{emoji:"🇵🇼",aliases:["palau"]},{emoji:"🇵🇸",aliases:["palestinian territories"]},{emoji:"🇵🇦",aliases:["panama"]},{emoji:"🇵🇬",aliases:["papua new guinea"]},{emoji:"🇵🇾",aliases:["paraguay"]},{emoji:"🇵🇪",aliases:["peru"]},{emoji:"🇵🇭",aliases:["philippines"]},{emoji:"🇵🇳",aliases:["pitcairn islands"]},{emoji:"🇵🇱",aliases:["poland"]},{emoji:"🇵🇹",aliases:["portugal"]},{emoji:"🇵🇷",aliases:["puerto rico"]},{emoji:"🇶🇦",aliases:["qatar"]},{emoji:"🇷🇪",aliases:["reunion"]},{emoji:"🇷🇴",aliases:["romania"]},{emoji:"🇷🇺",aliases:["ru"]},{emoji:"🇷🇼",aliases:["rwanda"]},{emoji:"🇧🇱",aliases:["st barthelemy"]},{emoji:"🇸🇭",aliases:["st helena"]},{emoji:"🇰🇳",aliases:["st kitts nevis"]},{emoji:"🇱🇨",aliases:["st lucia"]},{emoji:"🇵🇲",aliases:["st pierre miquelon"]},{emoji:"🇻🇨",aliases:["st vincent grenadines"]},{emoji:"🇼🇸",aliases:["samoa"]},{emoji:"🇸🇲",aliases:["san marino"]},{emoji:"🇸🇹",aliases:["sao tome principe"]},{emoji:"🇸🇦",aliases:["saudi arabia"]},{emoji:"🇸🇳",aliases:["senegal"]},{emoji:"🇷🇸",aliases:["serbia"]},{emoji:"🇸🇨",aliases:["seychelles"]},{emoji:"🇸🇱",aliases:["sierra leone"]},{emoji:"🇸🇬",aliases:["singapore"]},{emoji:"🇸🇽",aliases:["sint maarten"]},{emoji:"🇸🇰",aliases:["slovakia"]},{emoji:"🇸🇮",aliases:["slovenia"]},{emoji:"🇸🇧",aliases:["solomon islands"]},{emoji:"🇸🇴",aliases:["somalia"]},{emoji:"🇿🇦",aliases:["south africa"]},{emoji:"🇬🇸",aliases:["south georgia south sandwich islands"]},{emoji:"🇰🇷",aliases:["kr"]},{emoji:"🇸🇸",aliases:["south sudan"]},{emoji:"🇪🇸",aliases:["es"]},{emoji:"🇱🇰",aliases:["sri lanka"]},{emoji:"🇸🇩",aliases:["sudan"]},{emoji:"🇸🇷",aliases:["suriname"]},{emoji:"🇸🇿",aliases:["swaziland"]},{emoji:"🇸🇪",aliases:["sweden"]},{emoji:"🇨🇭",aliases:["switzerland"]},{emoji:"🇸🇾",aliases:["syria"]},{emoji:"🇹🇼",aliases:["taiwan"]},{emoji:"🇹🇯",aliases:["tajikistan"]},{emoji:"🇹🇿",aliases:["tanzania"]},{emoji:"🇹🇭",aliases:["thailand"]},{emoji:"🇹🇱",aliases:["timor leste"]},{emoji:"🇹🇬",aliases:["togo"]},{emoji:"🇹🇰",aliases:["tokelau"]},{emoji:"🇹🇴",aliases:["tonga"]},{emoji:"🇹🇹",aliases:["trinidad tobago"]},{emoji:"🇹🇳",aliases:["tunisia"]},{emoji:"🇹🇷",aliases:["tr"]},{emoji:"🇹🇲",aliases:["turkmenistan"]},{emoji:"🇹🇨",aliases:["turks caicos islands"]},{emoji:"🇹🇻",aliases:["tuvalu"]},{emoji:"🇺🇬",aliases:["uganda"]},{emoji:"🇺🇦",aliases:["ukraine"]},{emoji:"🇦🇪",aliases:["united arab emirates"]},{emoji:"🇬🇧",aliases:["gb","uk"]},{emoji:"🇺🇸",aliases:["us"]},{emoji:"🇻🇮",aliases:["us virgin islands"]},{emoji:"🇺🇾",aliases:["uruguay"]},{emoji:"🇺🇿",aliases:["uzbekistan"]},{emoji:"🇻🇺",aliases:["vanuatu"]},{emoji:"🇻🇦",aliases:["vatican city"]},{emoji:"🇻🇪",aliases:["venezuela"]},{emoji:"🇻🇳",aliases:["vietnam"]},{emoji:"🇼🇫",aliases:["wallis futuna"]},{emoji:"🇪🇭",aliases:["western sahara"]},{emoji:"🇾🇪",aliases:["yemen"]},{emoji:"🇿🇲",aliases:["zambia"]},{emoji:"🇿🇼",aliases:["zimbabwe"]}];e.emojis=t}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1)],void 0!==(r=function(e,t){"use strict";function n(){if(y&&(m.removeEventListener("keydown",a,!0),d.removeEventListener("mousemove",r),d.removeEventListener("click",a)),u&&!u.classList.contains("hidden")){var e=d.querySelector(".suggestedItem.selected");e&&e.classList.remove("selected"),u.classList.add("hidden"),u.innerHTML="",d.innerHTML="",m=null,y=!1,h=[],f=0}}function a(e){switch(e.stopPropagation(),e.keyCode){case Zeplin.KEY_CODE.ENTER:e.preventDefault(),p(h[d.querySelector(".suggestedItem.selected").dataset.index]);break;case Zeplin.KEY_CODE.ESC:e.preventDefault(),n();break;case Zeplin.KEY_CODE.ArrowDown:e.preventDefault(),f<h.length-1&&s(++f);break;case Zeplin.KEY_CODE.ArrowUp:e.preventDefault(),f>0&&s(--f)}}function r(e){if(e.stopPropagation(),l!==e.clientX||c!==e.clientY){var t=e.target.closest(".suggestedItem");t.classList.contains("selected")||s(t.dataset.index),l=e.clientX,c=e.clientY}}function o(e){e.preventDefault(),e.stopPropagation();var t=e.target.closest(".suggestedItem");p(h[t.dataset.index])}function i(){d.addEventListener("mousemove",r),d.addEventListener("click",o)}function s(e){f=e;var t=d.querySelector(".suggestedItem.selected");t&&t.classList.remove("selected");var n=d.querySelector(".suggestedItem[data-index='"+f+"']");n&&(n.classList.add("selected"),g.scrollIfNecessary(n))}Object.defineProperty(e,"__esModule",{value:!0}),e.close=e.open=void 0;var l,c,u,d,m,p,g=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(t),f=0,h=[],y=!1;e.open=function(e){u&&!u.classList.contains("hidden")&&n(),p=e.cb.autoComplete,u=e.elements.suggestedListContainer,d=u.querySelector(".suggestedListBox"),m=e.elements.textContainer,f=e.index,h=e.list,l=0,c=0,u.classList.remove("hidden");var t=d.querySelector(".suggestedItem[data-index='"+f+"']");t.classList.add("selected"),g.scrollIfNecessary(t),y||(y=!0,i(),m.addEventListener("keydown",a,!0))},e.close=n}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t,n(1),n(63)],void 0!==(r=function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(){var e=[{user:{username:"everyone",_id:"everyone"},icon:m.icon.type,projectName:m.name}].concat(m.users);if(e.length>1)return""===j?(b=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status}),S=1,d=b[1]):b=e.filter(function(e){var t=e.user;return t._id!==Zeplin.user._id&&"invited"!==t.status&&t.username.startsWith(j)}),b.length?(b.forEach(o),h.appendChild(y),!d||i(d)?(S=0,d=b[0]):S=h.querySelector(".suggestedItem[data-id='"+d.user._id+"']").dataset.index,h):void l();l()}function o(e,t){var n=document.importNode(v.content,!0),a=n.querySelector(".suggestedItem"),r=n.querySelector(".suggestedUserName"),o=n.querySelector(".everyoneInfo"),i=n.querySelector(".suggestedUserImage"),s=n.querySelector(".projectIcon");a.dataset.id=e.user._id,a.dataset.index=t,r.textContent=e.user.username||e.user.email,r.title=e.user.username||e.user.email,"everyone"===e.user._id?(o.textContent="Notify everyone in "+e.projectName,s.dataset.type=e.icon,i.parentElement.classList.add("hidden")):(o.textContent="",g.setAvatar(i,e.user)),y.appendChild(n)}function i(e){return!b.some(function(t){return t.user._id===e.user._id})}function s(e){var t=c.value.substring(0,c.selectionStart),n=c.value.substring(c.selectionStart),a=e.user.username,r=t.substr(0,t.lastIndexOf("@"))+"@"+a+" ";c.value=r+n,u.innerHTML=g.escapeHTML(c.value)+"&nbsp;",c.focus(),c.setSelectionRange(r.length+1,r.length+1),l()}function l(){f.close()}Object.defineProperty(e,"__esModule",{value:!0}),e.close=e.open=e.checkStatus=e.manageSuggestedUsers=void 0;var c,u,d,m,p,g=a(t),f=a(n),h=document.getElementById("suggestedUsersContainer"),y=h.querySelector(".suggestedListBox"),v=document.getElementById("suggestedUsersTemplate"),b=[],S=0,j=null;e.manageSuggestedUsers=function(e,t,n){if(c=e,u=t,m=n,!h.classList.contains("hidden")){var a=h.querySelector(".suggestedItem.selected");a&&(d=b[a.dataset.index])}var o,i=g.getFirstInvalidCharIndex(c.value.substring(0,c.selectionStart),!0);return o=g.getFirstInvalidCharIndex(c.value.substr(c.selectionStart)),o=o>-1?c.selectionStart+o:0,l(),j=null,"everyone"===(j=o?c.value.substring(i+1,o):c.value.substring(i+1))&&(j=""),r()},e.checkStatus=function(){j&&f.open(p)},e.open=function(){p={elements:{textContainer:c,suggestedListContainer:h},cb:{autoComplete:s},index:S,list:b},f.open(p)},e.close=l}.apply(t,a))&&(e.exports=r)},function(e,t,n){var a,r;a=[t],void 0!==(r=function(e){"use strict";function t(e,t){h.classList.add("hidden");var n=document.elementFromPoint(e,t);return h.classList.remove("hidden"),n}function n(){requestAnimationFrame(function(){p&&o(l.root)})}function a(e,t,a){f=e,i(t,a),f.classList.add("target"),p=!0,s=!1,c=l.root.scrollHeight,l.root.addEventListener("scroll",n),l.onGrab&&l.onGrab(f,h)}function r(e){return["input","textarea"].includes(e.tagName.toLowerCase())||e.isContentEditable}function o(e){var t=v.x,n=v.y;v.x=e.scrollLeft,v.y=e.scrollTop,y.x+=t-v.x,y.y+=n-v.y}function i(e,t){var n=f.getBoundingClientRect(),a=l.root.getBoundingClientRect();v.x=l.root.scrollLeft,v.y=l.root.scrollTop,y.x=e-(n.left+v.x-a.left),y.y=t-(n.top+v.y-a.top),(h=f.cloneNode(!0)).style.top=t-y.y+"px",h.style.left=e-y.x+"px",h.classList.add("mirror"),l.root.appendChild(h)}Object.defineProperty(e,"__esModule",{value:!0});var s,l,c,u={root:document.body,allowX:!0,allowY:!0,grabDelay:300},d={},m=0,p=!1,g=!1,f=null,h=null,y={x:0,y:0},v={x:0,y:0};document.addEventListener("click",function(e){g&&(e.preventDefault(),e.stopImmediatePropagation())},!0),document.addEventListener("mousedown",function(e){if(e.button===Zeplin.MOUSE_BUTTON.LEFT&&!r(e.target)){var t=e.target.closest("[data-drag-id] > *");t&&((l=d[parseInt(t.parentNode.dataset.dragId,10)]).canGrab&&!l.canGrab(t)||(clearTimeout(s),s=setTimeout(a,l.grabDelay,t,e.clientX,e.clientY)))}}),document.addEventListener("mouseup",function(e){if(g=!1,s)clearTimeout(s),s=!1;else if(p){e.stopPropagation(),g=!0,p=!1,l.root.removeEventListener("scroll",n);var a=Promise.resolve();if(l.onDrop){var r,o,i=t(e.clientX,e.clientY);i&&(r=i.closest('[data-drag-id="'+l.dragId+'"] > *:not(.mirror)'),o=i.closest('[data-drag-id="'+l.dragId+'"]')||i.closest('[data-drop-target-for="'+l.dragId+'"]')),a=l.onDrop(f.parentNode,f,o,r,h)||a}a.then(function(){f.classList.remove("target"),h&&(h.remove(),h=null),f=null,l=null})}}),document.addEventListener("mousemove",function(e){if(p){var t=h.getBoundingClientRect(),n=l.root.getBoundingClientRect();l.allowY&&(e.clientY>window.innerHeight-t.height/10&&l.root.scrollTop+l.root.offsetHeight+t.height/10<c?l.root.scrollTop+=t.height/10:e.clientY<n.top+t.height/10&&l.root.scrollTop>0&&(l.root.scrollTop-=t.height/10))}}),document.addEventListener("mousemove",function(e){if(p){l.allowY&&(h.style.top=e.clientY-y.y+"px"),l.allowX&&(h.style.left=e.clientX-y.x+"px");var n,a,r=t(e.clientX,e.clientY);r&&(n=r.closest('[data-drag-id="'+l.dragId+'"] > *:not(.mirror)'),a=r.closest('[data-drag-id="'+l.dragId+'"]')||r.closest('[data-drop-target-for="'+l.dragId+'"]')),l.onMove(f.parentNode,f,a,n,h)}}),e.default={enable:function(e){[].concat(e).forEach(function(e){(e=Object.assign({},u,e)).containers=[].concat(e.containers).map(function(e){return e.dataset.dragId=m,e}),e.dropTargets=(e.dropTargets||[]).map(function(e){return e.dataset.dropTargetFor=m,e}),e.dragId=m,d[m]=e,m++})},disable:function(e){delete d[e]}}}.apply(t,a))&&(e.exports=r)}]);
//# sourceMappingURL=maps/project.js.map
